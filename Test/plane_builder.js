(()=>{"use strict";var t,e,s={},i={};function a(t){var e=i[t];if(void 0!==e)return e.exports;var n=i[t]={exports:{}};return s[t](n,n.exports,a),n.exports}e=Object.getPrototypeOf?t=>Object.getPrototypeOf(t):t=>t.__proto__,a.t=function(s,i){if(1&i&&(s=this(s)),8&i)return s;if("object"==typeof s&&s){if(4&i&&s.__esModule)return s;if(16&i&&"function"==typeof s.then)return s}var n=Object.create(null);a.r(n);var r={};t=t||[null,e({}),e([]),e(e)];for(var o=2&i&&s;"object"==typeof o&&!~t.indexOf(o);o=e(o))Object.getOwnPropertyNames(o).forEach((t=>r[t]=()=>s[t]));return r.default=()=>s,a.d(n,r),n},a.d=(t,e)=>{for(var s in e)a.o(e,s)&&!a.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})},a.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),a.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};class n{static IsNullOrWhiteSpace(t){try{return null==t||"undefined"==t||t.toString().replace(/\s/g,"").length<1}catch(t){return console.log(t),!1}}static Join(t,...e){try{const s=e[0];if(Array.isArray(s)||s instanceof Array){let e=n.Empty;for(let i=0;i<s.length;i++){const a=s[i];i<s.length-1?e+=a+t:e+=a}return e}if("object"==typeof s){let e=n.Empty;const i=s;return Object.keys(s).forEach((s=>{e+=i[s]+t})),e=e.slice(0,e.length-t.length),e}const i=e;return n.join(t,...i)}catch(t){return console.log(t),n.Empty}}static Format(t,...e){try{return t.match(n.regexNumber)?n.format(n.regexNumber,t,e):t.match(n.regexObject)?n.format(n.regexObject,t,e,!0):t}catch(t){return console.log(t),n.Empty}}static format(t,e,s,i=!1){return e.replace(t,(function(t,e){const a=t.split(":");let r;return a.length>1&&(e=a[0].replace("{",""),t=a[1].replace("}","")),r=i?s[0][e]:s[e],null==r||null==r||t.match(/{\d+}/)?r:(r=n.parsePattern(t,r),void 0!==r&&null!=r?r:n.Empty)}))}static parsePattern(t,e){switch(t){case"L":return e.toLocaleLowerCase();case"U":return e.toLocaleUpperCase();case"d":if("string"==typeof e)return n.getDisplayDateFromString(e);if(e instanceof Date)return n.Format("{0:00}.{1:00}.{2:0000}",e.getDate(),e.getMonth(),e.getFullYear());break;case"s":if("string"==typeof e)return n.getSortableDateFromString(e);if(e instanceof Date)return n.Format("{0:0000}-{1:00}-{2:00}",e.getFullYear(),e.getMonth(),e.getDate());break;case"n":{"string"!=typeof e&&(e=e.toString());const t=e.replace(/,/g,".");if(isNaN(parseFloat(t))||t.length<=3)break;const s=t.split(/[^0-9]+/g);let i=s;s.length>1&&(i=[n.join("",...s.splice(0,s.length-1)),s[s.length-1]]);const a=i[0],r=a.length%3;let o=r>0?a.substring(0,r):n.Empty;const l=a.substring(r).match(/.{3}/g);return o=o+"."+n.Join(".",l),o+(i.length>1?","+i[1]:"")}case"x":return this.decimalToHexString(e);case"X":return this.decimalToHexString(e,!0)}return"number"!=typeof e&&isNaN(e)||isNaN(+t)||n.IsNullOrWhiteSpace(e)?e:n.formatNumber(e,t)}static decimalToHexString(t,e=!1){const s=parseFloat(t).toString(16);return e?s.toLocaleUpperCase():s}static getDisplayDateFromString(t){const e=t.split("-");if(e.length<=1)return t;let s=e[e.length-1];const i=e[e.length-2],a=e[e.length-3];return s=s.split("T")[0],s=s.split(" ")[0],`${s}.${i}.${a}`}static getSortableDateFromString(t){const e=t.replace(",","").split(".");if(e.length<=1)return t;const s=e[e.length-1].split(" ");let i=n.Empty;s.length>1&&(i=s[s.length-1]);let a=`${e[e.length-1].split(" ")[0]}-${e[e.length-2]}-${e[e.length-3]}`;return!n.IsNullOrWhiteSpace(i)&&i.length>1?a+=`T${i}`:a+="T00:00:00",a}static formatNumber(t,e){const s=e.length,i=t.toString();if(s<=i.length)return i;let a=s-i.length;return a+=1,new Array(a).join("0")+i}static join(t,...e){let s=n.Empty;for(let i=0;i<e.length;i++)if(!("string"==typeof e[i]&&n.IsNullOrWhiteSpace(e[i])||"number"!=typeof e[i]&&"string"!=typeof e[i])){s+=""+e[i];for(let a=i+1;a<e.length;a++)if(!n.IsNullOrWhiteSpace(e[a])){s+=t,i=a-1;break}}return s}}n.regexNumber=/{(\d+(:\w*)?)}/g,n.regexObject=/{(\w+(:\w*)?)}/g,n.Empty="";const r=JSON.parse('{"languages":["en"],"en":{"Language":"English","Pioneer":"Pioneer","WWI":"WWI","Roaring 20s":"Roaring 20s","Coming Storm":"Coming Storm","WWII":"WWII","Last Hurrah":"Last Hurrah","Open":"Open","Windscreen":"Windscreen","Sealed":"Sealed","Sealed Warning":"This crewmember cannot see outside.","Narrow Canopy":"Narrow Canopy","Bubble Canopy":"Bubble Canopy","Co-Pilot Controls":"Co-Pilot Controls","Co-Pilot Warning":"Maximum stress reduction of {0}.","Bombadier Controls":"Bombadier Controls","Bombadier Controls Warning":"This seat has controls.","Escape Hatch":"Escape Hatch","Ejection Seat":"Ejection Seat","Connectivity":"Connectivity","Oxygen Mask":"Oxygen Mask","Oxygen Mask Warning":"The pilot ignores the effects of high altitude and negates up to 2 G-Penalty.","Isolated":"Isolated","Isolated Warning":"Position takes double Injury when you Go Down.","Padding":"Padding","Injury Reduction Warning":"Negates 1 Injury for this position when you Go Down","Harness":"Harness","Fast Release System":"Fast Release System","Roll Bar":"Roll Bar","Flare Slot":"Flare Slot","Flare Slot Warning":"Allows flares to be fired out of a closed cockpit without opening the cockpit.","X1 Collimated Gunsight":"X1 Collimated Gunsight","Telescopic Gunsight":"Telescopic Gunsight","Illuminated Reflex Sight":"Illuminated Reflex Sight","Gyro Gunsight":"Gyro Gunsight","X1 Collimated Gunsight Warning":"+1 to Open Fire.","Telescopic Gunsight Warning":"+2 to Open Fire if you Drew a Bead.","Illuminated Reflex Sight Warning":"+2 to Open Fire.","Gyro Gunsight Warning":"+2 to Open Fire and additional +2 if you Draw a Bead.","Bombsight":"Bombsight","Bombsight Warning 1":"Subtract ","Bombsight Warning 2":" from your Altitude when rolling for bombing.","Pulsejets":"Pulsejets","Pulsejet Boost Warning":"Pulsejets double Boost when above dropoff speed, instead of below dropoff.","Turbine":"Turbine","Turbine Boost Warning":"Turbines ignore dropoff speed, providing constant Boost at all speeds.","Rotary":"Rotary","Rotary Right Warning":"+1 to Dogfight! when turning right.","Rotary Left Warning":"+1 to Dogfight! when turning left.","Tractor":"Tractor","Center-Mounted Tractor":"Center-Mounted Tractor","Rear-Mounted Pusher":"Rear-Mounted Pusher","Center-Mounted Pusher":"Center-Mounted Pusher","Pod":"Pod","Nacelle (Inside)":"Nacelle (Inside)","Nacelle (Offset)":"Nacelle (Offset)","Channel Tractor":"Channel Tractor","Fuselage Push-Pull":"Fuselage Push-Pull","Front Intake":"Front Intake","Wing Pod":"Wing Pod","Underwing Pod":"Underwing Pod","Forward Internal":"Forward Internal","Center Internal":"Center Internal","Rear Internal":"Rear Internal","Center Pod":"Center Pod","Rear Pod":"Rear Pod","Not Allowed":"Not Allowed","Panel":"Panel","Box":"Box","Intake":"Intake","Evaporation":"Evaporation","Evaporation Warning":"Attacks with a Crit rolls of 16+ will knock out the radiator, in addition to normal effects.","Low":"Low Radiator","Low Warning":"Force Cool Down when shot.","Inline":"Inline Radiator","High":"High Radiator","High Warning":"Bonus persists for 1 Cool Down after being shot. If the plane is an open cockpit, will spray the pilot with the radiator fluid!","High Offset":"High Offset Radiator","High Offset Warning":"Bonus persists for 1 Cool Down after being shot.","Water":"Water","Salt Water":"Salt Water","Mineral Oil":"Mineral Oil","Mineral Oil Warning":"Absorbs 1 Miss to Cool Down.","Castor Oil":"Castor Oil","Castor Oil Warning":"Absorbs 1 Miss to Cool Down. +2 Stress if leaking.","Glycol":"Glycol","Freon":"Freon","Freon Warning":"Take 1 Power Reduction while RPM is below 4.","Ammonia":"Ammonia","Ammonia Warning":"Take 1 Power Reduction while RPM is below 4. Causes 2 Injury when leaking.","No Cowling":"No Cowling","Basic Cowl":"Basic Cowl","Rotary Basic Cowl":"Rotary Basic Cowl","Closed Cowl":"Closed Cowl","Adjustable Slat Cowl":"Adjustable Slat Cowl","Foil Cowl":"Airfoil Cowl","Sealed Cowl":"Sealed Cowl","Radiator Fluid":"Radiator Fluid","Radiator Fluid Warning":"Radiator Fluid is Flammable.","Manually Variable Propeller":"Manually Variable Propeller","MVP_Warning":"Allows blade pitch to be adjusted on the ground without replacing it.","High Power":"High Power","Power":"Power","Default":"Default","Speed":"Speed","High Speed":"High Speed","Automatic Pitch":"Automatic Pitch","Manually Adjustable Pitch":"Manually Adjustable Pitch","Single Rotor":"Single Rotor","Coaxial":"Coaxial","Synchropter":"Synchropter","Transverse":"Transverse","Tandem Transverse":"Tandem Transverse","Wooden Spars":"Wooden Spars","Steel Spars":"Steel Spars","Aluminum Spars":"Aluminum Spars","Wooden Ribs":"Wooden Ribs","Steel Ribs":"Steel Ribs","Aluminum Ribs":"Aluminum Ribs","Titanium":"Titanium","Living Grove":"Living Grove","Living Grove Warning":"Free Repairs for Living Grove sections.","Naked":"Naked","Cloth Canvas":"Cloth Canvas","Transparent Celluloid":"Transparent Celluloid","Treated Paper":"Treated Paper","Tense Silk":"Tense Silk","Dragon Skin":"Dragon Skin","Molded Plywood":"Molded Plywood","Clinker Build":"Clinker Build","Glass Reinforced Plastic":"Glass Reinforced Plastic","Corrugated Duralumin":"Corrugated Duralumin","Steel Sheet":"Steel Sheet","Aluminum Sheet":"Aluminum Sheet","Tailless":"Tailless","Stubby":"Stubby","Standard":"Standard","Long":"Long","Wing Deck Parasol":"Parasol","Wing Deck Shoulder":"Shoulder","Wing Deck Mid":"Mid","Wing Deck Low":"Low","Wing Deck Gear":"Gear","Tense Silk Layers":"Tense Silk Layers","Plywood":"Plywood","Corrugated Steel":"Corrugated Steel","Thin Sheet Steel":"Thin Sheet Steel","Grand Eagle Feather":"Grand Eagle Feather","Solar Fiber":"Solar Fiber","Monoplane":"Monoplane","Tandem":"Tandem","Extreme Positive":"Extreme Positive","Positive":"Positive","Unstaggered":"Unstaggered","Negative":"Negative","Extreme Negative":"Extreme Negative","Tailplane":"Tailplane","The Wings":"The Wings","Canards":"Canards","Outboard":"Outboard","V-Tail":"V-Tail","T-Tail":"T-Tail","T-Tail Warning":"In the event of a spin/stall while above stall speed and under power, you are at a Disadvantage to recover.","Tailfin":"Tailfin","The Rotors":"The Rotors","Wing Warping":"Wing Warping","Cantilever Wing Warping":"Cantilever Wing Warping","Wing Warping Warning":"Wing Warping with a Boom Tail causes a stability penalty.","Flap Ailerons":"Flap Ailerons","Wing Warping Warning 2":"Get +1 to Dogfight! at below 15 speed.","Spoilerons":"Spoilerons","Spoilerons Warning":"When you roll Dogfight!, take +1, but then reduce your speed as if your Speed Factor was doubled.","None":"None","Flap Rudder":"Flap Rudder","Flying Rudder":"Flying Rudder","Flap Elevator":"Flap Elevator","Flying Elevator":"Flying Elevator","Basic Flaps":"Basic Flaps","Advanced Flaps":"Advanced Flaps","Control Flaps":"Control Flaps","Lift Dumpers":"Lift Dumpers","Lift Dumpers Warning":"Activate for +1 to Dogfight!, then immediately induce a stall.","Fixed Slots":"Fixed Slots","Automatic Slats":"Automatic Slats","Air Brake":"Air Brake","Air Brake Warning":"When deployed, immediately bleed of speed equal to Speed Factor and gain +1 to Dogfight!.","Dive Brake":"Dive Brake","Dive Brake Warning":"When deployed, steep dives trade altitude for speed at 1-2 instead of 1-3.","Drogue Chute":"Drogue Chute","Drogue Chute Warning":"Activate once per flight to: Give +3 to Go Down or take down a close pursuer.","Wing Blades":"Wing Blades","Wing Blades Warning":"Roll Dogfight! to use. 16+, enemy takes damage as per collision, user takes 1d10. 20+, user takes no damage. When used on a PC, use Evade Danger and Collision instead.","Parallel Struts":"Parallel Struts","N-Strut":"N-Strut","V-Strut":"V-Strut","I-Strut":"I-Strut","W-Strut":"W-Strut","Single Strut":"Single Strut","Star Strut":"Star Strut","Wing Truss":"Wing Truss","Wire Root":"Wire Root","Steel Parallel Struts":"Steel Parallel Struts","Steel N-Strut":"Steel N-Strut","Steel V-Strut":"Steel V-Strut","Steel I-Strut":"Steel I-Strut","Steel W-Strut":"Steel W-Strut","Steel Single Strut":"Steel Single Strut","Steel Star Strut":"Steel Star Strut","Steel Wing Truss":"Steel Wing Truss","Steel Wire Root":"Steel Wire Root","Birch":"Birch","Duralumin":"Duralumin","Steel":"Steel","Aluminium":"Aluminium","Whalebone":"Whalebone","Self-Sealing Gas Tank":"Self-Sealing Gas Tank","Self-Sealing Gas Tank Warning":"Fuel leak penalty will apply only to the next Fuel Check.","Remote Fire Extinguisher":"Remote Fire Extinguisher","Remote Fire Extinguisher Warning":"Spend to put out a fire.","Internal Fuselage Tank":"Internal Fuselage Tank","External Wing Tank":"External Wing Tank","Internal Wing Tank":"Internal Wing Tank","Microtank":"Microtank","Tiny":"Tiny Cargo","Small":"Small Cargo","Medium":"Medium Cargo","Large":"Large Cargo","Huge":"Huge Cargo","Retractable Gear + Boat Hull":"Retractable Gear + Boat Hull","Retractable ":"Retractable ","Landing Gear":"Landing Gear","Floats":"Floats","Hybrid Floats":"Hybrid Floats","Boat Hull":"Boat Hull","Landing Skid":"Landing Skid","Landing Skid Warning":"All landings are crash landings.","Zeppelin Hook":"Zeppelin Hook","Zeppelin Hook Warning":"Allows landing inside airships or large planes.","Carrier Hook":"Carrier Hook","Carrier Hook Warning":"Allows landing on carriers.","Underwing Skid":"Underwing Skid","Windmill":"Windmill","Windmill Warning":"Generates 1 charge per 10 speed.","Ram Air Scoop":"Ram Air Scoop","Battery":"Battery","Battery Warning":"Stores 5 charges each.","Battery (High Quality)":"Battery (High Quality)","Loud Yelling":"Loud Yelling","Intercom System":"Intercom System","Radio Receiver":"Radio Receiver","Radio Transmitter":"Radio Transmitter","Radio Transceiver":"Radio Transceiver","Whalebone Radio Receiver":"Whalebone Radio Receiver","Whalebone Radio Base Station":"Whalebone Radio Base Station","Radio Receiver (High Quality)":"Radio Receiver (High Quality)","Radio Transmitter (High Quality)":"Radio Transmitter (High Quality)","Radio Transceiver (High Quality)":"Radio Transceiver (High Quality)","Whalebone Radio Base Station (High Quality)":"Whalebone Radio Base Station (High Quality)","Small Reconnaissance Camera":"Small Recon Camera","Internal Small Reconnaissance Camera":"Internal Small Recon Camera","Small Reconnaissance Camera Warning":"Can take pictures from a height of 2 AF or lower.","Medium Reconnaissance Camera":"Medium Recon Camera","Internal Medium Reconnaissance Camera":"Internal Medium Recon Camera","Medium Reconnaissance Camera Warning":"Can take pictures from a height of 4 AF or lower.","Large Reconnaissance Camera":"Large Recon Camera","Internal Large Reconnaissance Camera":"Internal Large Recon Camera","Large Reconnaissance Camera Warning":"Can take pictures from any height.","Guncam":"Guncam","Guncam Warning":"Confirms your kills for you.","Wing Cutouts":"Wing Cutouts","Hull Cutouts":"Hull Cutouts","Searchlight":"Searchlight","Electric Heating":"Electric Heating","Radiator Loop":"Radiator Loop","Basic Fan":"Basic Fan","Basic Fan Warning":"Has a Basic Fan.","Air Conditioning":"Air Conditioning","Gyroscopic":"Gyroscopic Autopilot","Gyroscopic Warning":"Gives +4 to Empty Seat rolls.","Altitude Holding":"Altitude Holding","Altitude Holding Warning":"Allows the Empty Seat rule to be ignored.","Clockwork Programmable":"Clockwork Programmable","Clockwork Programmable Warning":"Can do anything but Dogfight!, fire weapons, drop bombs, or make landings. For Himmilgard only.","Programmable":"Programmable","Programmable Warning":"Can do anything but Dogfight!, fire weapons, drop bombs, or make landings.","Rattenhirn":"Rattenhirn","Rattenhirn Warning":"Fully automated. For robo-planes.","Control Rods":"Control Rods","Hydraulic-Assisted":"Hydraulic-Assisted","Fly by Wire":"Fly by Wire","Armour":"Armour","Forward":"Forward","Rearward":"Rearward","Up":"Up","Down":"Down","Left":"Left","Right":"Right","Interruptor Gear":"Interruptor Gear","Synchronization Gear":"Synchronization Gear","Spinner Gun":"Spinner Gun","Deflector Plate":"Deflector Plate","No Interference":"No Interference","Standard Action":"Standard Action","Mechanical Action":"Mechanical Action","Gast Principle":"Gast Principle","Rotary_Gun":"Rotary","Heat Ray":"Heat Ray","Gyrojets":"Gyrojets","Pneumatic":"Pneumatic","Himmilgard":"Himmilgard","Mechanical Action Warning":"For each RPM past the first, use +1 Ammo and roll +1d10. Keep the two highest.  Advantage/Disadvantage is +/- 1d10.  Take 1 Wear per 1 rolled.  Weapon unusable if engine dies.","Heat Ray Warning":"Roll Crits +Damage done. On Crit, choose one: start a fire, destroy a radiator/oil component and push Cool Down, or injure crew. Take -2 forward to Eyeball after firing.","Gyrojets Warning":"+1 Damage and +1 AP for each Range Band (actual, not adjusted by attacks) past Knife.","Pneumatic Warning 1":"Weapon \'jams\' after rapid fire as the compressor refills.","Pneumatic Warning 2":"Locked to \'Edged\' Ammo: On Ammo Crit, attack deals double damage. All-metal planes cannot suffer Ammo Crits.","Deflection Warning":"Take {0} to attack on a deflection shot.","Deflector Plate Warning":"Deflector Plates inflict 1 Wear every time you roll a natural 5 or less on the first Crit die.","No Interference Warning":"Some fuselage guns really don\'t shoot through a propeller, but most do.  Verify with the DM and your common sense before selecting this.","Helicopter Flight":"Helicopter Flight","Helicopter Flight Warning":"A helicopter must have Boost 2 to boost or take off vertically, gaining 1 altitude.","Helicopter Landing":"Helicopter Landing","Helicopter Landing Warning":"A deliberately landed helicopter travelling at 0 speed never has to roll Go Down regardless of how rough the terrain is.","Helicopter Descent":"Helicopter Descent","Helicopter Descent Warning":"A helicopter can descend up to 5 altitude bands in one maneuver without gaining speed.","Helicopter Stall":"Helicopter Stall","Helicopter Stall Warning":"Travelling faster than 37 speed immediately suffers a Retreating Wing Stall.","Rotor Span Warning":"Undersized rotors cause the engine to work harder and reduce reliability.","Autogyro Stall":"Autogyro Stall","Autogyro Stall Warning":"An Autogyro cannot stall, it automatically trades Altitude for speed 1-1.  If it runs out of altitude before regaining control, it lands gently.  If the autogyro exceeds Max Speed or sustains negative Gs it suffers a more traditional stall.","Ornithopter Stall":"Ornithopter Flight","Ornithopter Stall Warning":"In the event that the engine stops, double your Stall Speed and halve your Handling.","Ornithopter Flutterer Attack":"Flutterer Attack","Ornithopter Flutterer Attack Warning":"Take a -3 Penalty to Open Fire when you Boost.","Ornithopter Buzzer Boost":"Buzzer Boost","Ornithopter Buzzer Boost Warning":"Can boost above top speed. Every time you boost, take +2 Energy Loss forward.","Ornithopter Buzzer Stall":"Buzzer Stall","Ornithopter Buzzer Stall Warning":"Can spend 1 RPM to avoid a Stall.  Spend 1 when you drop below Stall, and 1 every turn you start below Stall.","Rumble Warning":"Rumble requires a minimum structure of Rumble*10 to fly.","Stability Warning":"Stability must be between -10 and +10 to be flyable by a human.","Max Strain Warning":"A Max Strain of less than 10 means the plane falls apart on the ground.","Vital Part Controls":"Controls","Vital Part Aircrew":"Aircrew #{0}","Vital Part Fuel Tanks":"Fuel Tanks","Vital Part Engine":"Engine #{0}","Vital Part Oil Tank":"Oil Tank #{0}","Vital Part Oil Cooler":"Oil Cooler #{0}","Vital Part Oil Pan":"Oil Pan #{0}","Vital Part Engine Pusher":"Engine #{0} Pusher","Vital Part Oil Tank Pusher":"Oil Tank #{0} Pusher","Vital Part Oil Cooler Pusher":"Oil Cooler #{0} Pusher","Vital Part Oil Pan Pusher":"Oil Pan #{0} Pusher","Vital Part Engine Puller":"Engine #{0} Puller","Vital Part Oil Tank Puller":"Oil Tank #{0} Puller","Vital Part Oil Cooler Puller":"Oil Cooler #{0} Puller","Vital Part Oil Pan Puller":"Oil Pan #{0} Puller","Vital Part Radiator":"Radiator #{0}","Vital Part Electrics":"Electrics","Vital Part Weapon Set":"Weapon Set #{0}: {1}s","Vital Part Tail Rotor":"Tail Rotor","Vital Part Landing Gear":"Landing Gear","Catalog Engine":"Engine","Catalog Oil Tank":"Oil Tank","Catalog Oil Cooler":"Oil Cooler","Catalog Oil Pan":"Oil Pan","Catalog Radiator":"Radiator"," Bomb Mass Internally.":"{0} Bomb Mass Internally. "," Bomb Mass Externally.":"{0} Bomb Mass Externally. ","Largest Internal Bomb":"Largest internal bomb is {0} Mass. "," Rocket Mass Internally.":"{0} Rocket Mass Internally. "," Rocket Mass Externally.":"{0} Rocket Mass Externally. ","Pulsejet":"Pulsejet","Starter":"Starter","Turns Right":"Turns Right","Turns Left":"Turns Left","War Emergency Power":"War Emergency Power","War Emergency Power from altitudes 0-9":"War Emergency Power from altitudes 0-9","War Emergency Power Warning":"Take double RPM to exceed Max Speed when Boosting.","Altitude Throttle":"Altitude Throttle","Altitude Throttle Warning":"This engine has the WEP upgrade at Altitudes 0-9.","Fixed":"Fixed","Flexible":"Flexible","Turret":"Turret","Turreted":"Turreted","Weapon Tag: Deflector Plate":"Deflector Plate","Weapon Tag Mechanical Action":"Mechanical Action","Weapon Tag Gast Principle":"Gast Principle","Weapon Tag Rotary":"Rotary","Weapon Tag Heat Ray":"Heat Ray","Weapon Tag Gyrojet":"Gyrojet","Weapon Tag Pneumatic":"Pneumatic","Weapon Tag Reload":"Reload {0}","Weapon Tag Rapid Fire":"Rapid Fire","Weapon Tag Shells":"Shells","Weapon Tag AP":"AP {0}","Weapon Tag Jam":"Jam {0}","Weapon Tag Awkward":"Awkward {0}","Weapon Tag Fully Accessible":"Fully Accessible","Weapon Tag Partly Accessible":"Partly Accessible","Weapon Tag Inaccessible":"Inaccessible","Weapon Tag Manual":"Manual","Stat Lift Bleed":"Lift Bleed","Stat Drag":"Drag","Stat Mass":"Mass","Stat Wet Mass":"Wet Mass","Stat Bomb Mass":"Bomb Mass","Stat Cost":"Cost","Stat Upkeep":"Upkeep","Stat Control":"Control","Stat Pitch Stability":"Pitch Stability","Stat Lateral Stability":"Lateral Stability","Stat Wing Area":"Wing Area","Stat Raw Strain":"Raw Strain","Stat Structure":"Structure","Stat Toughness":"Toughness","Stat Power":"Power","Stat Fuel Consumption":"Fuel Consumption","Stat Fuel":"Fuel","Stat Pitch Speed":"Pitch Speed","Stat Pitch Boost":"Pitch Boost","Stat Charge":"Charge","Stat Crash Safety":"Crash Safety","Stat Max Strain":"Max Strain","Stat Visibility":"Visibility","Stat Reliability":"Reliability","Stat Flight Stress":"Flight Stress","Stat Required Sections":"Required Sections","Stat Escape":"Escape","Stat Altitude":"Altitude","Stat Overspeed":"Overspeed","Stat Cooling":"Cooling","Stat Torque":"Torque","Stat Rumble":"Rumble","Derived Aircraft Name":"Aircraft Name","Derived Era Report":"Era","Derived Mass Variations":"Mass Variations","Derived Boost":"Boost","Derived Handling":"Handling","Derived Rate of Climb":"Rate of Climb","Derived Stall Speed":"Stall Speed","Derived Top Speed":"Top Speed","Derived Vital Components":"Vital Components","Derived Full Fuel with Bombs":"Full Fuel with Bombs","Derived Half Fuel with Bombs":"Half Fuel with Bombs","Derived Full Fuel":"Full Fuel","Derived Half Fuel":"Half Fuel","Derived Empty Fuel":"Empty Fuel","Derived Propulsion":"Propulsion","Derived Aerodynamics":"Aerodynamics","Derived Survivability":"Survivability","Derived Crew Members":"Crew Members","Derived Dropoff":"Dropoff","Derived Stability":"Stability","Derived Crash Safety":"Crash Safety","Derived Crew/Passengers":"Crew/Passengers","Derived Overspeed":"Overspeed","Derived Energy Loss":"Energy Loss","Derived Fuel Uses":"Fuel Uses","Derived Turn Bleed":"Turn Bleed","Derived Turn Bleed wB":"Turn Bleed (with Bombs)","Derived Attack Modifier":"Attack Modifier","Derived Landing Gear":"Landing Gear","Derived Communications":"Communications","Derived Escape":"Escape","Derived Ideal Engine Altitude":"Ideal Altitude","Derived Is Flammable Question":"Flammable?","Derived Electrics":"Electrics","Derived Weapon Systems":"Weapon Systems","Derived Special Rules":"Special Rules","Derived Problematic Parts":"Out-of-Era Parts","Fuel Uses Warning":"This plane is very short on fuel. Consider 7 Fuel Uses as a good guideline for play, although special cases exist.","Stall Speed":"Stall Speed","Stall Speed Warning":"Stall Speed is higher than Max Speed.","Price Word Used":"Used","Yes":"Yes","No":"No","Derived Per 10 Speed":"/10 speed","Derived Battery":"Battery Storage","Weapon Description":"{0}: {1}x {2} fires [{3}] for {4} damage with {5} hits with {6} ammunition. [{7}]","Weapon Description Heat Ray":"{0}: {1}x {2} fires [{3}] for {4} damage with {5} hits with {6} charges. [{7}]","Submachine Gun":"Submachine Gun","SMG Warning":"-3 to all Attacks beyond Knife Range.","Scattergun":"Scattergun","Scattergun Warning":"Rather than roll Open Fire, you roll a d5 per hit shown in the builder. You do a number of Hits equal to, and Damage half of the roll results, and roll Crit dice like normal. Not affected by Masteries or Special Ammo.","Light Machine Gun":"Light Machine Gun","Machine Gun":"Machine Gun","Balloon Gun":"Balloon Gun","Enhanced Machine Gun":"Enhanced Machine Gun","Enhanced Heavy Machine Gun":"Enhanced Heavy Machine Gun","Punt Gun":"Punt Gun","Punt Gun Warning":"Rather than roll Open Fire, you roll a d10 per hit shown in the builder. You do a number of Hits equal to, and Damage half of the roll results, and roll Crit dice like normal. Not affected by Masteries or Special Ammo.","Light Repeating Cannon":"Light Repeating Cannon","Heavy Cannon":"Heavy Cannon","Light Machine Cannon":"Light Machine Cannon","Heavy Machine Cannon":"Heavy Machine Cannon","Fliergerflammenwerfer":"Fliergerflammenwerfer","Fliergerflammenwerfer Warning":"Rather than roll Open Fire, you roll a d10 per hit shown in the builder. You do a number of Hits equal to, and Damage half of the roll results, and roll Crit dice like normal. Not affected by Masteries or Special Ammo. Uses Fuel uses as Ammo. Incendiary. Max range is Knife. Crits always start fires.","Recoilless Cannon":"Recoilless Cannon","Autocannon":"Autocannon","Battle Cannon":"Battle Cannon","Precision Rifle":"Precision Rifle","Precision Rifle Warning":"Must be fired alone. Must Draw a Bead to fire. Never does more than 1 Hit worth of damage, but rolls Crits normally. Special Ammo: 1 Box per belt. Hits ammo adds or subtracts 5 Hits. Crit Ammo replaces normal Crits outright with the special effect.","Lightning Arc":"Lightning Arc","Lightning Arc Warning":"Uses 3 Charge to deal 1d10 damage to any aircraft within Close range.","Harpoon Launcher":"Harpoon Launcher","Harpoon Launcher Warning":"Max Range Close. Ignores range bands: hits on 16+. Prevents escape until the line is cut. Harpoons can be used as ziplines by boarders.","Heavy Machine Gun":"Heavy Machine Gun","Heavy Repeating Cannon":"Heavy Repeating Cannon","Accessories Section Title":"Additional Parts","Accessories Radio":"Radio","Accessories Autopilot":"Autopilot","Accessories Control Aids":"Control Aids","Accessories Armour Coverage":"Armour Coverage","Accessories Climate":"Climate","Accessories Visibility":"Visibility","Accessories Additional Part Stats":"Additional Part Stats","Accessories Information":"Information","Accessories Electrical":"Electrical","Accessories Control":"Control","Cards Too Many Warnings Warning":"And More!  See the Plane Builder for details.","Cards Gun String Reload":"{0} loads of {1} shots","Cards Gun String No Reload":"{0} shots","Cards Uses Radiator":"Uses Radiator #{0}","Cockpit Section Title":"Cockpits","Cockpit Num Cockpits":"Number of Cockpits:","Cockpit Bombsight":"Bombsight","Cockpit Option":"Option","Cockpit Upgrade":"Upgrade","Cockpit Safety Options":"Safety Options","Cockpit Gunsights":"Gunsights","Cockpit Cockpit Stats":"Cockpit Stats","Control Surfaces Section Title":"Control Surfaces","Control Surfaces Control Surfaces":"Control Surfaces","Control Surfaces Drag Inducers":"Drag Inducers","Control Surfaces Stats":"Control Surface Stats","Control Surfaces Ailerons":"Ailerons","Control Surfaces Rudders":"Rudders","Control Surfaces Elevators":"Elevators","Control Surfaces Flaps":"Flaps","Control Surfaces Slats":"Slats","Engines Section Title":"Engines","Engines Num Engines":"Number of Engines:","Engines Num Radiators":"Number of Radiators:","Engines Asymmetric Plane":"Asymmetric Plane:","Engines Engine Type":"Engine Type","Engines Options":"Options","Engines Options 2":"Options 2","Engines Engine Stats":"Engine Stats","Engine Cooling":"Cooling","Engine Mounting":"Mounting","Engine Upgrades":"Upgrades","Engine Cowls":"Cowls","Engine Electrical":"Electrical","Engine Mounting Location":"Engine Mounting Location","Engine Push Pull":"Push Pull","Engine Side-by-Side":"Side-by-Side","Engine Torque To Structure":"Torque To Structure","Engine Extended Driveshafts":"Extended Driveshafts","Engine Outboard Propeller":"Outboard Propeller","Engine Geared Propeller":"Geared Propeller","Engine Negate Reliability Penalty":"Negate Reliability Penalty","Engine Alternator":"Alternator","Engine Generator":"Generator","Engine Rotary Cooling":"Rotary Engines use Oil Tanks. \\n +1 Mass, Oil Tank is a Vital Component.","Engine Air-Cooled Engine.":"Air-Cooled Engine.","Engine Air Cooling Fan":"Air Cooling Fan","Engine Select Radiator":"Select Radiator","Engine Cooling Amount":"Cooling Amount","Radiators Radiator Type":"Radiator Type","Radiators Mounting":"Mounting","Radiators Coolant":"Coolant","Radiators Radiator Stats":"Radiator Stats","Radiators Harden Radiator":"Harden Radiator","Era Section Title":"Era","Era Option":"Option","Frames Frames and Covering":"Frames and Covering","Frames Frame Type":"Frame Type","Frames Skin Type":"Skin Type","Frames Frame Options":"Frame Options","Frames Frame Stats":"Frame Stats","Frames Flying Wing":"Flying Wing","Frames Geodesic":"Geodesic","Frames Monocoque":"Monocoque","Frames Internal Bracing":"Internal Bracing","Frames Lifting Body":"Lifting Body","Frames No Skin":"None","Frames Tail Section Title":"Tail","Frames Tail Type":"Tail Length:","Frames Tail Farman":"Farman Tail:","Frames Tail Boom":"Boom Tail:","Frames Tail Frame Type":"Tail Frame Type","Frames Tail Skin Type":"Tail Skin Type","Frames Tail Frame Options":"Tail Frame Options","Landing Gear Section Title":"Landing Gear","Landing Gear Landing Gear":"Landing Gear","Landing Gear Extras":"Extras","Landing Gear Gear Stats":"Gear Stats","Landing Gear Retractable":"Retractable","Load Section Title":"Load","Load Fuel":"Fuel","Load Munitions":"Munitions","Load Cargo and Passengers":"Cargo and Passengers","Load Load Stats":"Load Stats","Load Self-Sealing Gas Tank":"Self-Sealing Gas Tank","Load Remote Fire Extinguisher":"Remote Fire Extinguisher","Load Bombs":"Bombs","Load Rockets":"Rockets","Load Internal Bay Count":"Internal Bay Count","Load Widen Internal Bay 1":"Widen Internal Bay 1","Load Widen Internal Bay 2":"Widen Internal Bay 2","Load Cargo":"Cargo","Optimization Section Title":"Optimizations","Optimization Num Free Optimizations":"Number of Free Optimizations:","Optimization Negative":"Negative","Optimization Effect":"Effect","Optimization Positive":"Positive","Optimization Optimization Stats":"Optimization Stats","Optimization Cost":"Expense: +/- 10% Cost","Optimization Lift Bleed":"Lift Efficiency: +/- 3 Lift Bleed","Optimization Leg Room":"Leg Room: +/- 1 Escape, Visibility","Optimization Mass":"Mass: +/- 10% Mass","Optimization Toughness":"Redundancy: +/- 25% Toughness","Optimization Max Strain":"Support: +/- 15% Max Strain","Optimization Reliability":"Reliability: +/- 2 Reliability","Optimization Drag":"Streamlining: +/- 10% Drag","Passengers Section Title":"Passengers","Passengers Number of Seats":"Number of Seats","Passengers Number of Beds":"Number of 1st Class, Beds, or Stretchers","Passengers Upgrade":"Upgrade","Passengers Connectivity":"Connectivity","Passengers Count":"{0} cabin seats and {1} first class or stretcher seats.","Propeller Section Title":"Propeller","Propeller Propeller Pitch":"Propeller Pitch:","Propeller Propeller Upgrades:":"Propeller Upgrades:","Reinforcement Section Title":"Reinforcements","Reinforcement External Reinforcements":"External Reinforcements","Reinforcement Internal Reinforcements":"Cantilevers","Reinforcement Reinforcement Stats":"Reinforcement Stats","Reinforcement Wood":"Wood","Reinforcement Steel":"Steel","Reinforcement Cabane":"Cabane","Reinforcement Wires":"Wires","Reinforcement Wing Blades":"Wing Blades","Reinforcement Aircraft Max Strain":"Aircraft Max Strain","Rotor Section Title":"Rotors","Rotor Rotor":"Rotor","Rotor Material":"Material","Rotor Accessories":"Accessories","Rotor Stats":"Rotor Stats","Rotor Minimum Span":"Minimum Rotor Span","Rotor Span":"Rotor Span Modification","Rotor Rotor Material":"Rotor Material","Rotor Clutched Rotor":"Clutched Rotor","Rotor Area":"Rotor Area","Rotor Number of Rotors":"Number of Rotors","Rotor Ideal Rotor Span":"Ideal Rotor Span","Rotor Stagger":"Rotor Stagger","Rotor Motor Cross-link":"Motor Cross-link","Rotor Blade Count":"Blade Count","Aircraft Type Section Title":"Aircraft Type","AIRPLANE":"Fixed Wing","HELICOPTER":"Helicopter","AUTOGYRO":"Autogyro","ORNITHOPTER_BASIC":"Basic Ornithopter","ORNITHOPTER_FLUTTER":"Fluttering Ornithopter","ORNITHOPTER_BUZZER":"Buzzing Ornithopter","Stabilizers Section Title":"Stabilizers","Stabilizers Horizontal Stabilizers":"Horizontal Stabilizers","Stabilizers Vertical Stabilizers":"Vertical Stabilizers","Stabilizers Stabilizer Stats":"Stabilizer Stats","Stabilizers # of Stabilizers":"# of Stabilizers","Used Section Title":"Used Plane","Used Is Aircraft Used?":"Is Aircraft Used?","Used Effect":"Effect","Used Description":"Description","Used Penalties(+) <br/> Benefits(-)":"Penalties(+) <br/> Benefits(-)","Used Burnt Out":"Burnt Out","Used Burnt Out Description":"Engines are at -1 Reliability","Used Ragged":"Ragged","Used Ragged Description":"Reduce your Max Speed by 10%","Used Hefty":"Hefty","Used Hefty Description":"Increase your Stall Speeds by 20%","Used Sticky Guns":"Sticky Guns","Used Sticky Guns Description":"Increase the chance of guns jamming by 1","Used Weak":"Weak","Used Weak Description":"Cut the plane\'s Toughness in half","Used Fragile":"Fragile","Used Fragile Description":"Reduce your Max Strain by 20%","Used Leaky":"Leaky","Used Leaky Description":"Reduce your Fuel by 20%","Used Sluggish":"Sluggish","Used Sluggish Description":"Reduce your Handling by 5","Weapons Section Title":"Weapons","Weapons Number of Weapon Sets":"Number of Weapon Sets:","Weapons Number of Weapon Braces":"Number of Weapon Braces:","Weapons Weapon Set":"Weapon Set","Weapons Weapons":"Weapons","Weapons Weapon Stats":"Weapon Stats","Weapons Type":"Weapon Type","Weapons Number of Mounts":"Number of Mounts","Weapons Ammunition":"Ammunition","Weapons Action":"Action","Weapons Projectile":"Projectile","Weapons Belt Fed":"Belt Fed","Weapons Stat Mounting":"Mounting","Weapons Stat Jam":"Jam","Weapons Stat Hits":"Hits","Weapons Stat Damage":"Damage","Weapons Stat Shots":"Shots","Weapons Stat Charges":"Charges per Shot","Weapons Wing Mount":"Wing Mount","Weapons Accessible":"Accessible","Weapons Free Accessible":"Free Accessible","Weapons Covered":"Covered","Weapons # Weapons at Mount":"Weapons at Mount","Weapons Synchronization":"Synchronization","Weapons Mount":"Weapon Mount","Weapons Braces":"Weapon Braces","Weapons Braces Warning":"These mounts give an observer +1 to make a Personal Attack with a loose weapon they are carrying in their hands.","Wings Section Title":"Wings","Wings Wing Stagger":"Wing Stagger:","Wings Closed Wing":"Closed Wing:","Wings Swept Wing":"Swept Wings:","Wings Wing Type":"Wing Type","Wings Wing Options":"Wing Options","Wings Wing Stats":"Wing Stats","Wings Full Wings":"Full Wings","Wings Miniature Wings":"Miniature Wings","Wings Sesquiplane":"Sesquiplane","Wings No Wing":"None","Wings Area":"Area","Wings Span":"Span","Wings Gull":"Gull","Wings Dihedral":"Dihedral","Wings Anhedral":"Anhedral","Aircraft Button Save":"Save","Aircraft Button Load":"Load","Aircraft Button Copy As Link":"Copy As Link","Aircraft Button Save Dashboard":"Save Dashboard","Aircraft Button Interactive Dashboard":"Interactive Dashboard","Aircraft Button Save NPC":"Save NPC","Aircraft Button Save Catalog":"Save Catalog","Aircraft Button Default Aircraft":"Default Aircraft","Aircraft Stats Section Title":"Total Sum of Stats","Aircraft Derived Section Title":"Aircraft Derived Statistics","Seat #":"Seat #{0}","Seats #":"Seats # {0}","Seat Location":"Choose Seat","Radiators #":"Radiators # {0}","Crew Pilot":"Pilot","Crew Bombadier":"Bombadier","Crew Co-Pilot":"Co-Pilot","Crew Gunner":"Gunner","Crew Aircrew":"Aircrew","Diesel":"Diesel Engine","Diesel Warning":"Engine won\'t catch fire.","Cargo Tiny":"A small locker for personal stuff.","Cargo Small":"Will fit a trunk, barrel, or crate.","Cargo Medium":"Will fit a small vehicle like a motorcycle, car, or zeppelin engine.","Cargo Large":"Will fit a scout or fighter aircraft with the wings taken off.","Cargo Huge":"Will fit just about anything you can imagine.","Alter Select Part":"Select Part","Alter Quantity":"Quantity","Alter Part Name":"Part Name","Alter Part Special Rules":"Special Rules","Frame Count":"Frame Count","Frame Count Warning":"This plane appears to have unused frame sections.  Check to see if this is intentional.","Altitude Section Title":"Altitude Effects","Altitude Altitude":"Altitude","Rarity":"Rarity","Rarity Custom":"Custom","Rarity Common":"Common","Rarity Rare":"Rare","Rarity Legendary":"Legendary","Boost Warning":"Boost is 0 for some loads.  The plane cannot accelerate to take off.","Insufficient Charge":"Insufficient Charge","Insufficient Charge Warning":"This aircraft has electrical systems with nothing to power them.","Low Mass Warning":"This aircraft is very low mass. If it is a custom airplane, be careful not to make it overpowered.","Low Drag Warning":"This aircraft is very low drag. If it is a custom airplane, be careful not to make it overpowered."}}');var o=a.t(r,2);const l=new class{constructor(){this.lang="en"}LoadLanguages(t){this.languages=t}GetLanguages(){const t=[];for(const e of this.languages.languages)t.push(e);return t}SetCurrentLanguage(t){this.languages[t]&&(this.lang=t)}e(t){return this.languages[this.lang][t]?this.languages[this.lang][t]:this.languages.en[t]?this.languages.en[t]:(console.error("Failed to find "+t),"!"+t+"!")}};function h(t,...e){return n.Format(l.e(t),...e)}var c;l.LoadLanguages(o),function(t){t[t.WHITE=0]="WHITE",t[t.YELLOW=1]="YELLOW",t[t.RED=2]="RED"}(c||(c={}));class u{constructor(t){this.liftbleed=0,this.wetmass=0,this.mass=0,this.drag=0,this.control=0,this.cost=0,this.reqsections=0,this.visibility=0,this.flightstress=0,this.escape=0,this.pitchstab=0,this.latstab=0,this.cooling=0,this.reliability=0,this.power=0,this.fuelconsumption=0,this.maxstrain=0,this.structure=0,this.pitchspeed=0,this.pitchboost=0,this.wingarea=0,this.toughness=0,this.upkeep=0,this.crashsafety=0,this.bomb_mass=0,this.fuel=0,this.charge=0,this.warnings=[],this.era=[],t&&this.fromJSON(t,0)}toJSON(){return{liftbleed:this.liftbleed,wetmass:this.wetmass,mass:this.mass,drag:this.drag,control:this.control,cost:this.cost,reqsections:this.reqsections,visibility:this.visibility,flightstress:this.flightstress,escape:this.escape,pitchstab:this.pitchstab,latstab:this.latstab,cooling:this.cooling,reliability:this.reliability,power:this.power,fuelconsumption:this.fuelconsumption,maxstrain:this.maxstrain,structure:this.structure,pitchboost:this.pitchboost,pitchspeed:this.pitchspeed,wingarea:this.wingarea,toughness:this.toughness,upkeep:this.upkeep,crashsafety:this.crashsafety,bomb_mass:this.bomb_mass,fuel:this.fuel,charge:this.charge,warnings:this.warnings,eras:this.era}}fromJSON(t,e){if(t.liftbleed&&(this.liftbleed=t.liftbleed),t.wetmass&&(this.wetmass=t.wetmass),t.mass&&(this.mass=t.mass),t.drag&&(this.drag=t.drag),t.control&&(this.control=t.control),t.cost&&(this.cost=t.cost),t.reqsections&&(this.reqsections=t.reqsections),t.visibility&&(this.visibility=t.visibility),t.flightstress&&(this.flightstress=t.flightstress),t.escape&&(this.escape=t.escape),t.pitchstab&&(this.pitchstab=t.pitchstab),t.latstab&&(this.latstab=t.latstab),t.cooling&&(this.cooling=t.cooling),t.reliability&&(this.reliability=t.reliability),t.power&&(this.power=t.power),t.fuelconsumption&&(this.fuelconsumption=t.fuelconsumption),t.maxstrain&&(this.maxstrain=t.maxstrain),t.structure&&(this.structure=t.structure),t.pitchspeed&&(this.pitchspeed=t.pitchspeed),t.pitchboost&&(this.pitchboost=t.pitchboost),t.wingarea&&(this.wingarea=t.wingarea),t.toughness&&(this.toughness=t.toughness),t.upkeep&&(this.upkeep=t.upkeep),t.crashsafety&&(this.crashsafety=t.crashsafety),t.bomb_mass&&(this.bomb_mass=t.bomb_mass),t.fuel&&(this.fuel=t.fuel),t.charge&&(this.charge=t.charge),t.warning&&this.warnings.push({source:h(t.name),warning:h(t.warning),color:c.WHITE}),t.warnings){const e=t.warnings,s=[];for(const t of e)s.push({source:t.source,warning:t.warning});this.warnings=this.MergeWarnings(s)}if(t.era&&this.era.push({name:h(t.name),era:h(t.era)}),t.eras){const e=t.eras,s=[];for(const t of e)s.push({name:t.name,era:t.era});this.era=this.MergeEra(s)}}serialize(t){t.PushNum(this.liftbleed),t.PushNum(this.wetmass),t.PushNum(this.mass),t.PushNum(this.drag),t.PushNum(this.control),t.PushNum(this.cost),t.PushNum(this.reqsections),t.PushNum(this.visibility),t.PushNum(this.flightstress),t.PushNum(this.escape),t.PushNum(this.pitchstab),t.PushNum(this.latstab),t.PushNum(this.cooling),t.PushNum(this.reliability),t.PushNum(this.power),t.PushNum(this.fuelconsumption),t.PushNum(this.maxstrain),t.PushNum(this.structure),t.PushFloat(this.pitchboost),t.PushFloat(this.pitchspeed),t.PushNum(this.wingarea),t.PushNum(this.toughness),t.PushNum(this.upkeep),t.PushNum(this.crashsafety),t.PushNum(this.bomb_mass),t.PushNum(this.fuel),t.PushNum(this.charge),t.PushNum(this.warnings.length);for(const e of this.warnings)t.PushString(e.source),t.PushString(e.warning);t.PushNum(this.era.length);for(const e of this.era)t.PushString(e.name),t.PushString(e.era)}deserialize(t){if(this.liftbleed=t.GetNum(),this.wetmass=t.GetNum(),this.mass=t.GetNum(),this.drag=t.GetNum(),this.control=t.GetNum(),this.cost=t.GetNum(),this.reqsections=t.GetNum(),this.visibility=t.GetNum(),this.flightstress=t.GetNum(),this.escape=t.GetNum(),this.pitchstab=t.GetNum(),this.latstab=t.GetNum(),this.cooling=t.GetNum(),this.reliability=t.GetNum(),this.power=t.GetNum(),this.fuelconsumption=t.GetNum(),this.maxstrain=t.GetNum(),this.structure=t.GetNum(),this.pitchboost=t.GetFloat(),this.pitchspeed=t.GetFloat(),this.wingarea=t.GetNum(),this.toughness=t.GetNum(),this.upkeep=t.GetNum(),this.crashsafety=t.GetNum(),this.bomb_mass=t.GetNum(),this.fuel=t.GetNum(),this.charge=t.GetNum(),t.version>12.25){const e=t.GetNum();this.warnings=[];for(let s=0;s<e;s++)this.warnings.push({source:t.GetString(),warning:t.GetString(),color:c.WHITE});const s=t.GetNum();this.era=[];for(let e=0;e<s;e++)this.era.push({name:t.GetString(),era:t.GetString()})}}Add(t){const e=new u;return e.liftbleed=this.liftbleed+t.liftbleed,e.wetmass=this.wetmass+t.wetmass,e.mass=this.mass+t.mass,e.drag=this.drag+t.drag,e.control=this.control+t.control,e.cost=this.cost+t.cost,e.reqsections=this.reqsections+t.reqsections,e.visibility=this.visibility+t.visibility,e.flightstress=this.flightstress+t.flightstress,e.escape=this.escape+t.escape,e.pitchstab=this.pitchstab+t.pitchstab,e.latstab=this.latstab+t.latstab,e.cooling=this.cooling+t.cooling,e.reliability=this.reliability+t.reliability,e.power=this.power+t.power,e.fuelconsumption=this.fuelconsumption+t.fuelconsumption,e.maxstrain=this.maxstrain+t.maxstrain,e.structure=this.structure+t.structure,e.pitchboost=this.pitchboost+t.pitchboost,e.pitchspeed=this.pitchspeed+t.pitchspeed,e.wingarea=this.wingarea+t.wingarea,e.toughness=this.toughness+t.toughness,e.upkeep=this.upkeep+t.upkeep,e.crashsafety=this.crashsafety+t.crashsafety,e.bomb_mass=this.bomb_mass+t.bomb_mass,e.fuel=this.fuel+t.fuel,e.charge=this.charge+t.charge,e.warnings=this.MergeWarnings(t.warnings),e.era=this.MergeEra(t.era),e}MergeWarnings(t){const e=[];for(const t of this.warnings)e.push({source:t.source,warning:t.warning,color:t.color});for(const s of t){let t=!1;for(const e of this.warnings)s.source==e.source&&s.warning==e.warning&&(t=!0);t||e.push({source:s.source,warning:s.warning,color:s.color})}return e}MergeEra(t){const e=[];for(const t of this.era)e.push({name:t.name,era:t.era});for(const s of t){let t=!1;for(const e of this.era)s.name==e.name&&s.era==e.era&&(t=!0);t||e.push({name:s.name,era:s.era})}return e}Multiply(t){const e=this.Clone();return e.liftbleed=this.liftbleed*t,e.wetmass=this.wetmass*t,e.mass=this.mass*t,e.drag=this.drag*t,e.control=this.control*t,e.cost=this.cost*t,e.reqsections=this.reqsections*t,e.visibility=this.visibility*t,e.flightstress=this.flightstress*t,e.escape=this.escape*t,e.pitchstab=this.pitchstab*t,e.latstab=this.latstab*t,e.cooling=this.cooling*t,e.reliability=this.reliability*t,e.power=this.power*t,e.fuelconsumption=this.fuelconsumption*t,e.maxstrain=this.maxstrain*t,e.structure=this.structure*t,e.wingarea=this.wingarea*t,e.toughness=this.toughness*t,e.upkeep=this.upkeep*t,e.crashsafety=this.crashsafety*t,e.bomb_mass=this.bomb_mass*t,e.fuel=this.fuel*t,e.charge=this.charge*t,Math.abs(t)>1e-6&&(e.warnings=this.warnings,e.era=this.era),e}Equal(t){return this.liftbleed==t.liftbleed&&this.wetmass==t.wetmass&&this.mass==t.mass&&this.drag==t.drag&&this.control==t.control&&this.cost==t.cost&&this.reqsections==t.reqsections&&this.visibility==t.visibility&&this.flightstress==t.flightstress&&this.escape==t.escape&&this.pitchstab==t.pitchstab&&this.latstab==t.latstab&&this.cooling==t.cooling&&this.reliability==t.reliability&&this.power==t.power&&this.fuelconsumption==t.fuelconsumption&&this.maxstrain==t.maxstrain&&this.structure==t.structure&&this.pitchspeed==t.pitchspeed&&this.pitchboost==t.pitchboost&&this.wingarea==t.wingarea&&this.toughness==t.toughness&&this.upkeep==t.upkeep&&this.crashsafety==t.crashsafety&&this.bomb_mass==t.bomb_mass&&this.fuel==t.fuel&&this.charge==t.charge}rtz(t){return t>0?Math.floor(1e-6+t):Math.ceil(-1e-6+t)}Round(){this.liftbleed=this.rtz(this.liftbleed),this.wetmass=this.rtz(this.wetmass),this.mass=this.rtz(this.mass),this.drag=this.rtz(this.drag),this.control=this.rtz(this.control),this.cost=this.rtz(this.cost),this.reqsections=this.rtz(this.reqsections),this.visibility=this.rtz(this.visibility),this.flightstress=this.rtz(this.flightstress),this.escape=this.rtz(this.escape),this.pitchstab=this.rtz(this.pitchstab),this.latstab=this.rtz(this.latstab),this.cooling=this.rtz(this.cooling),this.reliability=this.rtz(this.reliability),this.power=this.rtz(this.power),this.fuelconsumption=this.rtz(this.fuelconsumption),this.maxstrain=this.rtz(this.maxstrain),this.structure=this.rtz(this.structure),this.wingarea=this.rtz(this.wingarea),this.toughness=this.rtz(this.toughness),this.upkeep=this.rtz(this.upkeep),this.crashsafety=this.rtz(this.crashsafety),this.bomb_mass=this.rtz(this.bomb_mass),this.fuel=this.rtz(this.fuel),this.charge=this.rtz(this.charge)}Clone(){return this.Add(new u)}}const m=t=>{switch(t){case"Pioneer":return 0;case"WWI":return 1;case"Roaring 20s":return 2;case"Coming Storm":return 3;case"WWII":return 4;case"Last Hurrah":return 5;case"Himmilgard":return 6}},p=t=>{switch(t){case"Pioneer":return 0;case"WWI":return 1;case"Roaring 20s":return 2;case"Coming Storm":return 3;case"WWII":return 4;case"Last Hurrah":return 5;case"Himmilgard":return-1}},d=t=>{switch(t){case 0:return"Pioneer";case 1:return"WWI";case 2:return"Roaring 20s";case 3:return"Coming Storm";case 4:return"WWII";case 5:return"Last Hurrah";case 6:case-1:return"Himmilgard"}},g=t=>{var e="";for(let s=0;s<t.length-1;s++)2==t[s].length&&t[s][0]!=t[s][1]?e+=t[s][0].toString()+"("+t[s][1].toString()+"), ":e+=t[s][0].toString()+", ";if(t.length>0){const s=t.length-1;2==t[s].length&&t[s][0]!=t[s][1]?e+=t[s][0].toString()+"("+t[s][1].toString()+")":e+=t[s][0].toString()}return e};class _{constructor(t){this.array=new ArrayBuffer(51200),this.view=new DataView(this.array),this.offset=0}Check(){if(this.offset>=this.array.byteLength)throw"Serialization Way too long."}PushNum(t){this.view.setInt16(this.offset,t,!1),this.offset+=2,this.Check()}PushBool(t){t?this.view.setUint8(this.offset,1):this.view.setUint8(this.offset,0),this.offset+=1,this.Check()}PushString(t){this.PushNum(t.length);for(let e=0;e<t.length;e++)this.view.setUint8(this.offset,t.charCodeAt(e)),this.offset++;this.Check()}PushNumArr(t){this.PushNum(t.length);for(const e of t)this.PushNum(e);this.Check()}PushBoolArr(t){this.PushNum(t.length);for(const e of t)this.PushBool(e);this.Check()}PushFloat(t){this.view.setFloat32(this.offset,t,!1),this.offset+=4,this.Check()}FinalArray(){return this.array.slice(0,this.offset)}}class f{constructor(t){this.array=t,this.view=new DataView(this.array),this.offset=0,this.version=parseFloat(this.GetString()),this.Reset()}Reset(){this.offset=0}Check(){if(this.offset>=this.array.byteLength)throw"Deserialization Failed"}GetNum(){this.Check();const t=this.view.getInt16(this.offset,!1);return this.offset+=2,t}GetBool(){this.Check();const t=this.view.getUint8(this.offset);return this.offset+=1,t>0}GetString(){this.Check();const t=this.GetNum(),e=[];for(let s=0;s<t;s++){const t=this.view.getUint8(this.offset);e.push(t),this.offset+=1}return String.fromCharCode(...e)}GetNumArr(t){this.Check();const e=this.GetNum(),s=[];for(let t=0;t<e;t++)s.push(this.GetNum());for(;s.length<t;)s.push(0);return s}GetBoolArr(t){this.Check();const e=this.GetNum(),s=[];for(let t=0;t<e;t++)s.push(this.GetBool());for(;s.length<t;)s.push(!1);return s}GetFloat(){this.Check();const t=this.view.getFloat32(this.offset,!1);return this.offset+=4,t}CheckLastNum(){return this.view.getInt16(this.array.byteLength-2,!1)}}function b(t,e){for(;t.length<e;)t.push(0);return t}function S(t,e){for(;t.length<e;)t.push(!1);return t}var y,w,C,A;!function(t){t[t.NONE=0]="NONE",t[t.ALTITUDE_THROTTLE=1]="ALTITUDE_THROTTLE",t[t.SUPERCHARGER=2]="SUPERCHARGER",t[t.TURBOCHARGER=3]="TURBOCHARGER"}(y||(y={}));class B{constructor(){this.EraTable=[{name:"Pioneer",materials:3,cost:.5,maxRPM:30,powerdiv:8,fuelfactor:10},{name:"WWI",materials:2,cost:1,maxRPM:35,powerdiv:7,fuelfactor:8},{name:"Roaring 20s",materials:1.5,cost:2,maxRPM:40,powerdiv:6.8,fuelfactor:6},{name:"Coming Storm",materials:1.35,cost:2.25,maxRPM:45,powerdiv:6.6,fuelfactor:5},{name:"WWII",materials:1.25,cost:2.5,maxRPM:50,powerdiv:6.5,fuelfactor:4},{name:"Last Hurrah",materials:1,cost:3,maxRPM:50,powerdiv:6.2,fuelfactor:2}],this.CoolingTable=[{name:"Liquid Cooled",forcefactor:1.2,RPMoff:0,thrustfactor:1,radiator:1,massfactor:1},{name:"Air Cooled",forcefactor:1,RPMoff:0,thrustfactor:1,radiator:0,massfactor:1},{name:"Rotary",forcefactor:1,RPMoff:8,thrustfactor:1.5,radiator:0,massfactor:1},{name:"Contrarotary",forcefactor:1,RPMoff:8,thrustfactor:1.25,radiator:0,massfactor:1},{name:"Semi-Radial",forcefactor:.8,RPMoff:0,thrustfactor:1,radiator:0,massfactor:1},{name:"Liquid Radial",forcefactor:1,RPMoff:0,thrustfactor:1,radiator:2.5,massfactor:1.3}],this.CompressorTable=[{name:"None"},{name:"Altitude Throttle"},{name:"Supercharger"},{name:"Turbocharger"}],this.Upgrades=[{name:"Asperator Boost",powerfactor:.11,fuelfactor:0,massfactor:0,dragfactor:0,idealalt:-1,costfactor:3,reqsection:!1},{name:"War Emergency Power",powerfactor:0,fuelfactor:0,massfactor:0,dragfactor:0,idealalt:0,costfactor:5,reqsection:!1},{name:"Fuel Injector",powerfactor:0,fuelfactor:-.1,massfactor:0,dragfactor:0,idealalt:0,costfactor:2,reqsection:!1},{name:"Diesel",powerfactor:-.2,fuelfactor:-.5,massfactor:0,dragfactor:0,idealalt:0,costfactor:0,reqsection:!1}],this.name="Default Name",this.era_sel=0,this.cool_sel=0,this.upg_sel=[...Array(this.Upgrades.length).fill(!1)],this.engine_displacement=1,this.num_cyl_per_row=2,this.num_rows=2,this.compression_ratio=2,this.rpm_boost=1,this.material_fudge=1,this.quality_fudge=1,this.compressor_type=y.NONE,this.compressor_count=0,this.min_IAF=0,this.rarity=C.CUSTOM}CanUpgrade(){const t=[...Array(this.Upgrades.length).fill(!0)];return t[0]=!1,this.compressor_type==y.ALTITUDE_THROTTLE&&(t[0]=!1,t[1]=!1,t[2]=!1),t}UpgradePower(){var t=1;for(let e=0;e<this.upg_sel.length;e++)this.upg_sel[e]&&(t+=this.Upgrades[e].powerfactor);return this.upg_sel[0]&&(t*=1+this.Upgrades[0].powerfactor),t}RPM(){const t=this.EraTable[this.era_sel],e=this.CoolingTable[this.cool_sel];return(t.maxRPM-e.RPMoff)*(this.compression_ratio/10)}GearedRPM(){return this.RPM()*this.rpm_boost}CalcPower(){const t=this.EraTable[this.era_sel],e=this.CoolingTable[this.cool_sel],s=this.engine_displacement*this.compression_ratio*e.forcefactor*this.UpgradePower()*(this.GearedRPM()/10);return Math.floor(1e-6+s/t.powerdiv)}UpgradeMass(){var t=1;for(let e=0;e<this.upg_sel.length;e++)this.upg_sel[e]&&(t+=this.Upgrades[e].massfactor);return t}CalcMass(){this.EraTable[this.era_sel];const t=this.CoolingTable[this.cool_sel],e=this.engine_displacement**2*this.compression_ratio/1e3,s=this.engine_displacement*this.num_rows/10+1,i=this.engine_displacement/5;return Math.floor(1e-6+(e+s+i)*this.UpgradeMass()*this.material_fudge*t.massfactor)}UpgradeDrag(){var t=1;for(let e=0;e<this.upg_sel.length;e++)this.upg_sel[e]&&(t+=this.Upgrades[e].dragfactor);return t}CoolDrag(){switch(this.CoolingTable[this.cool_sel].name){case"Liquid Cooled":case"Air Cooled":case"Semi-Radial":return 1;case"Rotary":return this.GearedRPM()/10;case"Contrarotary":return this.GearedRPM()/8;case"Liquid Radial":return 1.2}throw"Error in CoolDrag, no valid switch case."}CalcDrag(){const t=3+this.engine_displacement/this.num_rows/3;return Math.floor(1e-6+t*this.CoolDrag()*this.UpgradeDrag())}CoolBurnout(){const t=this.EraTable[this.era_sel].materials/2;switch(this.CoolingTable[this.cool_sel].name){case"Liquid Cooled":return 2;case"Air Cooled":return(2+this.num_rows**2)*t;case"Rotary":case"Contrarotary":return this.num_rows**2/(this.GearedRPM()/10);case"Semi-Radial":return(2+this.num_rows**2/2)*t;case"Liquid Radial":return.5}throw"Error in CoolBurnout, no valid switch case."}MaterialModifier(){const t=this.EraTable[this.era_sel].materials,e=this.num_cyl_per_row*this.num_rows,s=this.engine_displacement/e*this.compression_ratio**2*t;return this.rpm_boost*s*this.CoolBurnout()*this.rpm_boost}IsRotary(){return"Rotary"==this.CoolingTable[this.cool_sel].name||"Contrarotary"==this.CoolingTable[this.cool_sel].name}CalcCooling(){return this.IsRotary()?0:Math.floor(1e-6+this.MaterialModifier()/20*this.CoolingTable[this.cool_sel].radiator)}CalcOverspeed(){return Math.round(1.5*this.RPM())}UpgradeFuel(){var t=1;for(let e=0;e<this.upg_sel.length;e++)this.upg_sel[e]&&(t+=this.Upgrades[e].fuelfactor);return t*this.EraTable[this.era_sel].fuelfactor}CalcFuelConsumption(){const t=this.engine_displacement*this.RPM()/100;return Math.floor(1e-6+t*this.UpgradeFuel())}CalcAltitude(){var t=0;for(let e=0;e<this.upg_sel.length;e++)this.upg_sel[e]&&(t+=this.Upgrades[e].idealalt);return 10*(3+t)-1}CoolTorque(){return"Rotary"==this.CoolingTable[this.cool_sel].name?this.CalcMass():"Contrarotary"==this.CoolingTable[this.cool_sel].name?Math.floor(1e-6+this.CalcMass()/2):1}CalcTorque(){return Math.floor(1e-6+this.CoolTorque()*this.GearedRPM()/5/4)}UpgradeCost(){var t=0;for(let e=0;e<this.upg_sel.length;e++)this.upg_sel[e]&&(t+=this.Upgrades[e].costfactor);return t}CalcCost(){const t=this.EraTable[this.era_sel],e=this.CoolingTable[this.cool_sel],s=Math.max(1,this.quality_fudge),i=this.engine_displacement*this.compression_ratio/10,a=this.UpgradeCost()+i;var n=s*t.cost*a;return e.radiator>0&&(n*=1.4),Math.floor(1e-6+n)}VerifyValues(){for(this.engine_displacement=Math.max(.01,this.engine_displacement),this.engine_displacement=Math.min(150,this.engine_displacement),this.era_sel=Math.max(0,Math.min(this.EraTable.length-1,this.era_sel)),this.cool_sel=Math.max(0,Math.min(this.CoolingTable.length-1,this.cool_sel)),this.num_cyl_per_row=Math.floor(Math.max(1,this.num_cyl_per_row)),this.num_rows=Math.floor(Math.max(1,this.num_rows)),this.compression_ratio=Math.max(.01,this.compression_ratio),this.compression_ratio=Math.min(25,this.compression_ratio),this.rpm_boost=Math.max(.1,this.rpm_boost),this.rpm_boost=Math.min(2,this.rpm_boost),this.material_fudge=Math.max(.1,this.material_fudge),this.material_fudge=Math.min(2,this.material_fudge),this.quality_fudge=Math.max(.1,this.quality_fudge),this.quality_fudge=Math.min(2,this.quality_fudge);this.material_fudge-1+(this.quality_fudge-1)<-.9;)this.material_fudge+=.1,this.quality_fudge+=.1;this.min_IAF=10*Math.round(1e-6+this.min_IAF/10),this.compressor_count=Math.floor(1e-6+this.compressor_count),this.compressor_count=Math.min(5,this.compressor_count),this.compressor_type==y.NONE?(this.compressor_count=0,this.min_IAF=0):this.compressor_type==y.ALTITUDE_THROTTLE?(this.compressor_count=1,this.min_IAF=0,this.upg_sel[0]=!1,this.upg_sel[1]=!1,this.upg_sel[2]=!1):(this.min_IAF=Math.max(0,this.min_IAF),this.compressor_count=Math.max(1,this.compressor_count))}EngineStats(){const t=new R;switch(t.name=this.name,this.VerifyValues(),t.stats.power=this.CalcPower(),t.stats.mass=this.CalcMass(),t.stats.drag=this.CalcDrag(),t.stats.reliability=Math.floor(-1.999999+this.era_sel+10*(this.quality_fudge+this.material_fudge-2)),t.stats.cooling=this.CalcCooling(),t.oiltank=this.IsRotary(),t.overspeed=this.CalcOverspeed(),t.stats.fuelconsumption=this.CalcFuelConsumption(),t.altitude=this.CalcAltitude(),t.torque=this.CalcTorque(),t.stats.cost=this.CalcCost(),t.pulsejet=!1,t.rumble=0,t.stats.era.push({name:this.name,era:h(d(this.era_sel))}),this.compressor_type){case y.NONE:break;case y.ALTITUDE_THROTTLE:t.stats.cost+=3,t.altitude=49,t.stats.warnings.push({source:h("Altitude Throttle"),warning:h("Altitude Throttle Warning"),color:c.WHITE});break;case y.SUPERCHARGER:{t.stats.power=Math.floor(1e-6+1.25*t.stats.power),t.stats.fuelconsumption=Math.floor(1e-6+1.25*t.stats.fuelconsumption),t.stats.mass=Math.floor(1e-6+1.2*t.stats.mass),t.stats.drag+=this.min_IAF/10,t.stats.cost+=1+Math.floor(1e-6+t.stats.power/50);const e=this.compressor_count-1;t.altitude=29+20*e,t.stats.reliability-=e,t.stats.mass+=e,t.stats.drag+=e,t.stats.cost+=2*e;break}case y.TURBOCHARGER:{t.stats.power=Math.floor(1e-6+1.25*t.stats.power),t.stats.mass=Math.floor(1e-6+1.2*t.stats.mass),t.stats.drag+=this.min_IAF/10*2,t.stats.cost+=1+Math.floor(1e-6+t.stats.power/50);const e=this.compressor_count-1;t.altitude=49+20*e,t.stats.reliability-=e,t.stats.mass+=e,t.stats.drag+=e,t.stats.cost+=2*e,t.stats.reqsections+=1;break}}return(this.compressor_type==y.ALTITUDE_THROTTLE||this.upg_sel[1])&&t.stats.warnings.push({source:h("War Emergency Power"),warning:h("War Emergency Power Warning"),color:c.WHITE}),t.stats.fuelconsumption=Math.max(1,t.stats.fuelconsumption),t.rarity=this.rarity,t}EngineInputs(){const t=new G;t.engine_type=w.PROPELLER,t.RPM_boost=this.rpm_boost,t.compression=this.compression_ratio,t.compressor_count=this.compressor_count,t.compressor_type=this.compressor_type,t.cyl_per_row=this.num_cyl_per_row,t.displacement=this.engine_displacement,t.era_sel=this.era_sel,t.material_fudge=this.material_fudge,t.min_IdealAlt=this.min_IAF,t.name=this.name,t.quality_fudge=this.quality_fudge,t.rows=this.num_rows,t.type=this.cool_sel;for(let e=0;e<t.upgrades.length;e++)t.upgrades[e]=this.upg_sel[e];return t.rarity=this.rarity,t}fromJSON(t){return this.engine_displacement=t.displacement,this.compression_ratio=t.compression,this.cool_sel=t.type,this.num_cyl_per_row=t.cyl_per_row,this.num_rows=t.rows,this.rpm_boost=t.RPM_boost,this.era_sel=t.era_sel,this.material_fudge=t.material_fudge,this.quality_fudge=t.quality_fudge,this.compressor_type=t.compressor_type,this.compressor_count=t.compressor_count,this.min_IAF=t.min_IAF,this.upg_sel=S(t.upgrades,this.upg_sel.length),t.rarity?this.rarity=t.rarity:this.rarity=C.CUSTOM,this.EngineStats()}}class E{constructor(){this.EraTable=[{name:"Pioneer",cost:5,drag:10,mass:10,fuel:4,vibe:2.5,material:2},{name:"WWI",cost:3.5,drag:25,mass:24,fuel:3,vibe:3,material:3},{name:"Roaring 20s",cost:2.5,drag:30,mass:50,fuel:2,vibe:4,material:9},{name:"Coming Storm",cost:2.5,drag:30,mass:50,fuel:2,vibe:4,material:9},{name:"WWII",cost:1.75,drag:40,mass:100,fuel:1,vibe:5,material:24},{name:"Last Hurrah",cost:1.5,drag:50,mass:150,fuel:.7,vibe:6,material:50}],this.ValveTable=[{name:"Valved",scale:1,rumble:1,designcost:2,reliability:1},{name:"Valveless",scale:1.1,rumble:.9,designcost:1,reliability:3}],this.desired_power=1,this.valve_sel=0,this.era_sel=0,this.build_quality=1,this.overall_quality=1,this.starter=!1,this.rarity=C.CUSTOM}TempMass(){const t=this.EraTable[this.era_sel],e=this.ValveTable[this.valve_sel];var s=0;return this.starter&&(s=1),this.technical_power/t.mass*e.scale+s}CalcMass(){return Math.floor(1e-6+this.TempMass())+1}CalcDrag(){const t=this.EraTable[this.era_sel],e=this.ValveTable[this.valve_sel],s=this.technical_power/t.drag*e.scale+1;return Math.floor(1e-6+this.TempMass()+s+1)}CalcReliability(){const t=this.EraTable[this.era_sel],e=this.ValveTable[this.valve_sel],s=this.technical_power/(t.material*e.reliability*this.overall_quality)-1;return Math.trunc(-s)}CalcFuelConsumption(){const t=this.EraTable[this.era_sel];return Math.floor(1e-6+this.technical_power*t.fuel)}CalcRumble(){const t=this.EraTable[this.era_sel],e=this.ValveTable[this.valve_sel];return Math.floor(1e-6+this.technical_power*e.rumble/(2*t.vibe))}CalcCost(){const t=this.EraTable[this.era_sel];return Math.floor(1e-6+this.TempMass()*this.build_quality*t.cost)+1}VerifyValues(){this.desired_power=Math.max(1,Math.floor(this.desired_power)),this.valve_sel=Math.max(0,Math.min(this.ValveTable.length-1,this.valve_sel)),this.era_sel=Math.max(0,Math.min(this.EraTable.length-1,this.era_sel)),this.build_quality=Math.max(.01,this.build_quality),this.overall_quality=Math.max(.01,this.overall_quality),this.build_quality=Math.max(this.build_quality,this.overall_quality),this.overall_quality=this.build_quality}DesignCost(){const t=this.EraTable[this.era_sel],e=this.ValveTable[this.valve_sel];var s=0;this.starter&&(s=3);const i=this.technical_power*t.cost/e.designcost;return Math.floor(1.000001+this.build_quality*(i+s))}EngineInputs(){const t=new G;var e="";return 0==this.valve_sel&&(e="V"),t.name="Pulsejet P"+e+"-"+this.desired_power.toString()+" ("+this.EraTable[this.era_sel].name+")",t.engine_type=w.PULSEJET,t.era_sel=this.era_sel,t.type=this.valve_sel,t.power=this.desired_power,t.starter=this.starter,t.quality_cost=this.build_quality,t.quality_rely=this.overall_quality,t.rarity=this.rarity,t}EngineStats(){const t=new R;this.VerifyValues();var e="";return 0==this.valve_sel&&(e="V"),t.name="Pulsejet P"+e+"-"+this.desired_power.toString()+" ("+this.EraTable[this.era_sel].name+")",t.stats.power=this.desired_power,this.technical_power=Math.floor(1e-6+4*this.desired_power/3),t.stats.mass=this.CalcMass(),t.stats.drag=this.CalcDrag(),t.stats.reliability=this.CalcReliability(),t.stats.fuelconsumption=this.CalcFuelConsumption(),t.rumble=this.CalcRumble(),t.stats.cost=this.CalcCost(),t.overspeed=100,t.altitude=29,t.pulsejet=!0,t.stats.era.push({name:t.name,era:h(d(this.era_sel))}),t.rarity=this.rarity,t}}class M{constructor(){this.TypeTable=[{name:"Turbojet",efficiency:0,massfactor:.8,costfactor:1},{name:"Turbofan",efficiency:0,massfactor:1,costfactor:1},{name:"Propfan",efficiency:-9,massfactor:.8,costfactor:1},{name:"Turboprop",efficiency:-3,massfactor:.8,costfactor:1}],this.EraTable=[{name:"Gen 1 1945-1955",max_temp:1100,efficiency:-2,costfactor:.5},{name:"Gen 1.5 1955-1965",max_temp:1100,efficiency:-1,costfactor:.6},{name:"Gen 2 1965-1975",max_temp:1400,efficiency:-1,costfactor:.7},{name:"Gen 2.5 1975-1985",max_temp:1400,efficiency:0,costfactor:.8},{name:"Gen 3 1985-1995",max_temp:1800,efficiency:0,costfactor:.9},{name:"Gen 3.5 1995-2005",max_temp:1800,efficiency:1,costfactor:1},{name:"Gen 4 2005-2015",max_temp:2e3,efficiency:1,costfactor:1.1},{name:"Gen 4.5 2015-2025",max_temp:2e3,efficiency:2,costfactor:1.2},{name:"Gen 0 Himmilgard",max_temp:800,efficiency:-10,costfactor:.5}],this.name="Default",this.era_sel=0,this.type_sel=0,this.fuel_heat_value=43020,this.flow_adjustment=0,this.diameter=.89,this.compression_ratio=3.5,this.bypass_ratio=0,this.afterburner=!1,this.rarity=C.CUSTOM}TempMass(){this.EraTable[this.era_sel];const t=this.TypeTable[this.type_sel];return Math.log2(this.compression_ratio)*Math.PI*Math.pow(this.diameter/2,2)*1.75*361.75/(1+this.bypass_ratio/3)*t.massfactor*.75}CalcMass(){var t=this.TempMass();1==this.type_sel&&(t*=.4833*Math.log(this.compression_ratio)-.3168);var e=t/25+95.684*this.flow_adjustment;if(2==this.type_sel||3==this.type_sel){const t=.5-this.flow_adjustment;e=Math.abs(e)*(19.74*Math.pow(t,3)-11.462*t*t+1.0666*t+.4333)}return Math.max(1,Math.floor(1e-6+e))}CalcDrag(){return this.EraTable[this.era_sel],this.TypeTable[this.type_sel],Math.floor(1e-6+5*Math.PI*Math.pow(this.diameter/2,2))}CalcReliability(){this.EraTable[this.era_sel],this.TypeTable[this.type_sel];const t=-Math.log2(this.compression_ratio)-20*this.flow_adjustment;return Math.trunc(t+1)}CalcStages(){const t=this.EraTable[this.era_sel],e=this.TypeTable[this.type_sel],s=108.9,i=288.15,a=1.4,n=Math.PI*Math.pow(this.diameter/2,2),r=.8+(t.efficiency+e.efficiency)/20+this.flow_adjustment,o=s*this.compression_ratio,l=i*Math.pow(o/s,(a-1)/a),h=t.max_temp/i,c=Math.pow(this.compression_ratio,1-1/a),u=340.3*(Math.sqrt(2/(a-1)*(h/(1*c)-1)*(c-1)+h/(1*c)*0*0)-0)*r/1e3,m=Math.pow(1.6,1-1/a),p=340.3*(Math.sqrt(2/(a-1)*(1*m-1))-0)*r/1e3,d=289.8789/this.fuel_heat_value*(t.max_temp/i-l/i);var g=u/(1+this.bypass_ratio)+this.bypass_ratio*p/(1+this.bypass_ratio),_=d/((1+this.bypass_ratio)*g)*1e3;const f=s*n*this.MFP(1)/(1+d);var b=this.compression_ratio*f*Math.sqrt(1/t.max_temp)*r;return(!isFinite(g)||!isFinite(b)||!isFinite(_)||g<0||b<0||_<0)&&(g=0,b=0,_=0),{thrust:g*b,fuel:_*g*b}}MFP(t){return Math.sqrt(1.4/.287058)*t*Math.pow(1+(1.4-1)/2*t*t,2.4/(2*(1.4-1)))}CalcCost(){const t=this.EraTable[this.era_sel],e=this.TypeTable[this.type_sel];return Math.floor(1e-6+.5*this.TempMass()*(1+this.flow_adjustment)*t.costfactor*e.costfactor)+1}VerifyValues(){this.era_sel=Math.max(0,Math.min(this.EraTable.length-1,this.era_sel)),this.type_sel=Math.max(0,Math.min(this.TypeTable.length-1,this.type_sel)),this.flow_adjustment=Math.max(-.5,Math.min(.5,this.flow_adjustment)),this.diameter=Math.max(.1,this.diameter),this.compression_ratio=Math.max(1,this.compression_ratio),this.bypass_ratio=Math.max(0,this.bypass_ratio),this.bypass_ratio=Math.min(20,this.bypass_ratio),this.type_sel>2&&(this.afterburner=!1)}EngineInputs(){const t=new G;return t.name=this.name,t.engine_type=w.TURBOMACHINERY,t.era_sel=this.era_sel,t.type=this.type_sel,t.flow_adjustment=this.flow_adjustment,t.diameter=this.diameter,t.compression_ratio=this.compression_ratio,t.bypass_ratio=this.bypass_ratio,t.upgrades[0]=this.afterburner,t.rarity=this.rarity,t}GetPitchSpeed(){return this.bypass_ratio>=8?1:this.bypass_ratio>=3.5?1.1:this.bypass_ratio>=1?1.2:1.3}EngineStats(){const t=new R;this.VerifyValues();const e=this.CalcStages();return this.kN=e.thrust,this.tsfc=e.fuel/e.thrust,t.name=this.name,t.stats.power=Math.round(1e3*e.thrust/89),t.stats.mass=this.CalcMass(),t.stats.drag=this.CalcDrag(),t.stats.reliability=this.CalcReliability(),t.stats.fuelconsumption=Math.round(200*e.fuel/1e3),t.rumble=0,t.stats.cost=this.CalcCost(),t.overspeed=100,t.altitude=59,8==this.era_sel?t.stats.era.push({name:t.name,era:h(d(-1))}):t.stats.era.push({name:t.name,era:h(d(5))}),t.stats.pitchspeed=this.GetPitchSpeed(),t.rarity=this.rarity,t}}class P{constructor(){this.EraTable=[{name:"Pioneer",draw:3,drawfactor:.4,massfactor:.4,reliability:-1,costfactor:.4,overspeed:20},{name:"WWI",draw:1,drawfactor:.4,massfactor:1/3,reliability:0,costfactor:1/2.25,overspeed:25},{name:"Roaring 20s",draw:1,drawfactor:2/7,massfactor:2/7,reliability:1,costfactor:.5,overspeed:30},{name:"Coming Storm",draw:0,drawfactor:2/7,massfactor:1/4,reliability:2,costfactor:1/1.9,overspeed:35},{name:"WWII",draw:0,drawfactor:1/4,massfactor:.2,reliability:3,costfactor:1/1.8,overspeed:40},{name:"Last Hurrah",draw:0,drawfactor:.2,massfactor:1/6,reliability:4,costfactor:1/1.75,overspeed:45}],this.Winding=[{name:"Aluminum",drawmod:1.1,mass:-2,drag:1,costfactor:1,reliabilty:0},{name:"Copper",drawmod:1,mass:0,drag:0,costfactor:1,reliabilty:0},{name:"Silver",drawmod:.95,mass:1,drag:0,costfactor:1.1,reliabilty:0},{name:"Electrum",drawmod:.9,mass:2,drag:0,costfactor:1.3,reliabilty:1},{name:"Platinum",drawmod:.75,mass:3,drag:0,costfactor:2,reliabilty:2},{name:"Screamer Sinew",drawmod:.9,mass:0,drag:1,costfactor:1.75,reliabilty:4},{name:"Lightning Sprite Ephemera",drawmod:.5,mass:-2,drag:-2,costfactor:2,reliabilty:-3}],this.name="Default",this.era_sel=0,this.winding_sel=0,this.power=1,this.chonk=1,this.quality_fudge=1}EraMass(){const t=this.EraTable[this.era_sel];return Math.floor(1e-6+t.massfactor*this.power)}CalcMass(){const t=this.Winding[this.winding_sel];return Math.max(0,Math.floor(1e-6+this.EraMass()+t.mass))}CalcDrag(){const t=this.power/10,e=this.Winding[this.winding_sel].drag;return Math.max(1,Math.floor(1.000001+t+this.chonk+e))}CalcOverspeed(){const t=this.chonk/2,e=7.5*(this.quality_fudge-1);return Math.ceil(-1e-6+this.EraTable[this.era_sel].overspeed-t+e)}CalcDraw(){const t=this.EraTable[this.era_sel],e=this.Winding[this.winding_sel],s=t.draw+Math.ceil(this.power*t.drawfactor-1e-6);return Math.ceil(s*e.drawmod-1e-6)}CalcReliability(){const t=this.EraTable[this.era_sel],e=this.Winding[this.winding_sel],s=this.power/10,i=5*(this.quality_fudge-1);return Math.trunc(1e-6+t.reliability+this.chonk-s+i)+e.reliabilty}CalcTorque(){const t=1+this.EraMass()/10+this.chonk/4;return Math.max(1,Math.floor(1e-6+t))}CalcCost(){const t=this.EraTable[this.era_sel],e=this.Winding[this.winding_sel],s=t.costfactor*this.power,i=Math.ceil(s*Math.max(.5,this.quality_fudge)-1e-6);return Math.ceil(i*e.costfactor-1e-6)}VerifyValues(){this.era_sel=Math.max(0,Math.min(this.EraTable.length-1,this.era_sel)),this.winding_sel=Math.max(0,Math.min(this.Winding.length-1,this.winding_sel)),this.power=Math.max(1,this.power),this.power=Math.floor(1e-6+this.power),this.chonk=Math.floor(1e-6+this.chonk),this.chonk=Math.max(-10,this.chonk),this.chonk=Math.min(10,this.chonk),this.quality_fudge=Math.max(.5,this.quality_fudge),this.quality_fudge=Math.min(2,this.quality_fudge)}EngineStats(){var t=new R;return t.name=this.name,this.VerifyValues(),t.stats.power=this.power,t.stats.mass=this.CalcMass(),t.stats.drag=this.CalcDrag(),t.stats.reliability=this.CalcReliability(),t.stats.cooling=0,t.oiltank=!1,t.overspeed=this.CalcOverspeed(),t.stats.fuelconsumption=0,t.stats.charge=-this.CalcDraw(),t.altitude=100,t.torque=this.CalcTorque(),t.stats.cost=this.CalcCost(),t.pulsejet=!1,t.rumble=0,t.stats.era.push({name:this.name,era:h(d(this.era_sel))}),t}EngineInputs(){var t=new G;return t.engine_type=w.ELECTRIC,t.name=this.name,t.power=this.power,t.era_sel=this.era_sel,t.winding_sel=this.winding_sel,t.material_fudge=this.chonk,t.quality_fudge=this.quality_fudge,t}}!function(t){t[t.PROPELLER=0]="PROPELLER",t[t.PULSEJET=1]="PULSEJET",t[t.TURBOMACHINERY=2]="TURBOMACHINERY",t[t.ELECTRIC=3]="ELECTRIC"}(w||(w={})),function(t){t[t.CUSTOM=0]="CUSTOM",t[t.COMMON=1]="COMMON",t[t.RARE=2]="RARE",t[t.LEGENDARY=3]="LEGENDARY"}(C||(C={}));class G{constructor(t){this.name="Default",this.engine_type=w.PROPELLER,this.type=0,this.era_sel=0,this.rarity=C.CUSTOM,this.displacement=0,this.compression=0,this.cyl_per_row=0,this.rows=0,this.RPM_boost=0,this.material_fudge=0,this.quality_fudge=0,this.compressor_type=0,this.compressor_count=0,this.min_IdealAlt=0,this.upgrades=[...Array(4).fill(!1)],this.power=0,this.quality_cost=0,this.quality_rely=0,this.starter=!1,this.flow_adjustment=0,this.diameter=0,this.compression_ratio=0,this.bypass_ratio=0,this.winding_sel=0,t&&this.fromJSON(t)}toJSON(){switch(this.engine_type){case w.PROPELLER:return{name:this.name,engine_type:this.engine_type,type:this.type,era_sel:this.era_sel,displacement:this.displacement,compression:this.compression,cyl_per_row:this.cyl_per_row,rows:this.rows,RPM_boost:this.RPM_boost,material_fudge:this.material_fudge,quality_fudge:this.quality_fudge,compressor_type:this.compressor_type,compressor_count:this.compressor_count,min_IAF:this.min_IdealAlt,upgrades:this.upgrades,rarity:this.rarity};case w.PULSEJET:return{name:this.name,engine_type:this.engine_type,type:this.type,era_sel:this.era_sel,power:this.power,quality_cost:this.quality_cost,quality_rely:this.quality_rely,starter:this.starter,rarity:this.rarity};case w.TURBOMACHINERY:return{name:this.name,engine_type:this.engine_type,type:this.type,era_sel:this.era_sel,flow_adjustment:this.flow_adjustment,diameter:this.diameter,compression_ratio:this.compression_ratio,bypass_ratio:this.bypass_ratio,upgrades:this.upgrades,rarity:this.rarity};case w.ELECTRIC:return{name:this.name,engine_type:this.engine_type,power:this.power,era_sel:this.era_sel,winding_sel:this.winding_sel,diameter:this.diameter,material_fudge:this.material_fudge,quality_fudge:this.quality_fudge};default:throw"EngineInputs.toJSON: Oh dear, you have a new engine type."}}fromJSON(t){switch(this.name=t.name,this.engine_type=t.engine_type,this.type=t.type,this.era_sel=t.era_sel,this.engine_type){case w.PROPELLER:this.displacement=t.displacement,this.compression=t.compression,this.cyl_per_row=t.cyl_per_row,this.rows=t.rows,this.RPM_boost=t.RPM_boost,this.material_fudge=t.material_fudge,this.quality_fudge=t.quality_fudge,this.compressor_type=t.compressor_type,this.compressor_count=t.compressor_count,this.min_IdealAlt=t.min_IAF,this.upgrades=S(t.upgrades,this.upgrades.length);break;case w.PULSEJET:this.power=t.power,this.quality_cost=t.quality_cost,this.quality_rely=t.quality_rely,this.starter=t.starter;break;case w.TURBOMACHINERY:this.flow_adjustment=t.flow_adjustment,this.diameter=t.diameter,this.compression_ratio=t.compression_ratio,this.bypass_ratio=t.bypass_ratio,this.upgrades=t.upgrades;break;case w.ELECTRIC:this.power=t.power,this.winding_sel=t.winding_sel,this.material_fudge=t.material_fudge,this.quality_fudge=t.quality_fudge;break;default:throw"EngineInputs.fromJSON: Oh dear, you have a new engine type."}t.rarity?this.rarity=t.rarity:this.rarity=C.CUSTOM}serialize(t){switch(t.PushString(this.name),t.PushNum(this.engine_type),t.PushNum(this.type),t.PushNum(this.era_sel),this.engine_type){case w.PROPELLER:t.PushFloat(this.displacement),t.PushFloat(this.compression),t.PushNum(this.cyl_per_row),t.PushNum(this.rows),t.PushFloat(this.RPM_boost),t.PushFloat(this.material_fudge),t.PushFloat(this.quality_fudge),t.PushNum(this.compressor_type),t.PushNum(this.compressor_count),t.PushNum(this.min_IdealAlt),t.PushBoolArr(this.upgrades);break;case w.PULSEJET:t.PushNum(this.power),t.PushFloat(this.quality_cost),t.PushFloat(this.quality_rely),t.PushBool(this.starter);break;case w.TURBOMACHINERY:t.PushFloat(this.flow_adjustment),t.PushFloat(this.diameter),t.PushFloat(this.compression_ratio),t.PushFloat(this.bypass_ratio),t.PushBoolArr(this.upgrades);break;case w.ELECTRIC:t.PushNum(this.power),t.PushNum(this.winding_sel),t.PushNum(this.material_fudge),t.PushFloat(this.quality_fudge);break;default:throw"EngineInputs.serialize: Oh dear, you have a new engine type."}t.PushNum(this.rarity)}deserialize(t){switch(this.name=t.GetString(),this.engine_type=t.GetNum(),this.type=t.GetNum(),this.era_sel=t.GetNum(),this.engine_type){case w.PROPELLER:this.displacement=t.GetFloat(),this.compression=t.GetFloat(),this.cyl_per_row=t.GetNum(),this.rows=t.GetNum(),this.RPM_boost=t.GetFloat(),this.material_fudge=t.GetFloat(),this.quality_fudge=t.GetFloat(),this.compressor_type=t.GetNum(),this.compressor_count=t.GetNum(),this.min_IdealAlt=t.GetNum(),this.upgrades=t.GetBoolArr(this.upgrades.length);break;case w.PULSEJET:this.power=t.GetNum(),this.quality_cost=t.GetFloat(),this.quality_rely=t.GetFloat(),this.starter=t.GetBool();break;case w.TURBOMACHINERY:this.flow_adjustment=t.GetFloat(),this.diameter=t.GetFloat(),this.compression_ratio=t.GetFloat(),this.bypass_ratio=t.GetFloat(),this.upgrades=t.GetBoolArr(this.upgrades.length);break;case w.ELECTRIC:this.power=t.GetNum(),this.winding_sel=t.GetNum(),this.material_fudge=t.GetNum(),this.quality_fudge=t.GetFloat();break;default:throw"EngineInputs.deserialize: Oh dear, you have a new engine type."}t.version>12.35?this.rarity=t.GetNum():this.rarity=C.CUSTOM}PartStats(){switch(this.engine_type){case w.PROPELLER:{const t=new B;return t.name=this.name,t.cool_sel=this.type,t.era_sel=this.era_sel,t.engine_displacement=this.displacement,t.compression_ratio=this.compression,t.num_cyl_per_row=this.cyl_per_row,t.num_rows=this.rows,t.rpm_boost=this.RPM_boost,t.material_fudge=this.material_fudge,t.quality_fudge=this.quality_fudge,t.compressor_type=this.compressor_type,t.compressor_count=this.compressor_count,t.min_IAF=this.min_IdealAlt,t.upg_sel=this.upgrades,t.rarity=this.rarity,t.EngineStats()}case w.PULSEJET:{const t=new E;t.valve_sel=this.type,t.era_sel=this.era_sel,t.desired_power=this.power,t.build_quality=this.quality_cost,t.overall_quality=this.quality_rely,t.starter=this.starter,t.rarity=this.rarity;const e=t.EngineStats();return this.name=e.name,e}case w.TURBOMACHINERY:{const t=new M;return t.type_sel=this.type,t.era_sel=this.era_sel,t.flow_adjustment=this.flow_adjustment,t.diameter=this.diameter,t.compression_ratio=this.compression_ratio,t.bypass_ratio=this.bypass_ratio,t.afterburner=this.upgrades[0],t.name=this.name,t.rarity=this.rarity,t.EngineStats()}case w.ELECTRIC:{const t=new P;return t.era_sel=this.era_sel,t.winding_sel=this.winding_sel,t.power=this.power,t.chonk=this.material_fudge,t.quality_fudge=this.quality_fudge,t.name=this.name,t.EngineStats()}default:throw"EngineInputs.PartStats: Oh dear, you have a new engine type."}}Equal(t){return this.name==t.name}Clone(){const t=new G;t.name=this.name,t.engine_type=this.engine_type,t.type=this.type,t.era_sel=this.era_sel,t.displacement=this.displacement,t.compression=this.compression,t.cyl_per_row=this.cyl_per_row,t.rows=this.rows,t.RPM_boost=this.RPM_boost,t.material_fudge=this.material_fudge,t.quality_fudge=this.quality_fudge,t.compressor_type=this.compressor_type,t.compressor_count=this.compressor_count,t.min_IdealAlt=this.min_IdealAlt,t.power=this.power,t.quality_cost=this.quality_cost,t.quality_rely=this.quality_rely,t.starter=this.starter;for(let e=0;e<this.upgrades.length;e++)t.upgrades[e]=this.upgrades[e];return t.flow_adjustment=this.flow_adjustment,t.diameter=this.diameter,t.compression_ratio=this.compression_ratio,t.bypass_ratio=this.bypass_ratio,t.winding_sel=this.winding_sel,t.rarity=this.rarity,t}}!function(t){t[t.PROPELLER=0]="PROPELLER",t[t.TURBINE=1]="TURBINE",t[t.PULSEJET=2]="PULSEJET"}(A||(A={}));class R{constructor(t){this.name="Default",this.overspeed=0,this.altitude=0,this.torque=0,this.rumble=0,this.oiltank=!1,this.pulsejet=!1,this.stats=new u,this.rarity=C.CUSTOM,t&&this.fromJSON(t)}toJSON(){return{name:this.name,overspeed:this.overspeed,altitude:this.altitude,torque:this.torque,rumble:this.rumble,oiltank:this.oiltank,pulsejet:this.pulsejet,rarity:this.rarity,...this.stats.toJSON()}}fromJSON(t,e=9999){t.name&&(this.name=t.name),t.overspeed&&(this.overspeed=t.overspeed),t.altitude&&(this.altitude=t.altitude),t.torque&&(this.torque=t.torque),t.rumble&&(this.rumble=t.rumble),t.oiltank&&(this.oiltank=t.oiltank),t.pulsejet&&(this.pulsejet=t.pulsejet),t.rarity&&(this.rarity=t.rarity),this.stats=new u(t)}serialize(t){t.PushString(this.name),t.PushNum(this.overspeed),t.PushNum(this.altitude),t.PushNum(this.torque),t.PushNum(this.rumble),t.PushBool(this.oiltank),t.PushBool(this.pulsejet),t.PushNum(this.rarity),this.stats.serialize(t)}deserialize(t){this.name=t.GetString(),this.overspeed=t.GetNum(),this.altitude=t.GetNum(),this.torque=t.GetNum(),this.rumble=t.GetNum(),this.oiltank=t.GetBool(),this.pulsejet=t.GetBool(),t.version>12.35&&(this.rarity=t.GetNum()),this.stats.deserialize(t)}Clone(){const t=new R;return t.fromJSON(JSON.parse(JSON.stringify(this.toJSON()))),t}Equal(t){return this.stats.Equal(t.stats)&&this.overspeed==t.overspeed&&this.altitude==t.altitude&&this.torque==t.torque&&this.rumble==t.rumble&&this.oiltank==t.oiltank&&this.pulsejet==t.pulsejet&&this.rarity==t.rarity}Verify(){this.oiltank&&(this.stats.cooling=0),this.PulseJetCheck()}PulseJetCheck(){this.pulsejet?(this.stats.cooling=0,this.overspeed=100,this.altitude=3,this.torque=0):this.rumble=0}}const I=JSON.parse('{"l":[{"name":"Custom","engines":[{"name":"Bentley BR.1 150hp","engine_type":0,"type":2,"era_sel":1,"displacement":17.1,"compression":4.9,"cyl_per_row":9,"rows":1,"RPM_boost":1,"material_fudge":1,"quality_fudge":1.2,"compressor_type":0,"compressor_count":0,"min_IAF":0,"upgrades":[false,false,false,false]},{"name":"Renault V8 70hp","engine_type":0,"type":0,"era_sel":1,"displacement":7,"compression":4,"cyl_per_row":2,"rows":4,"RPM_boost":1.1,"material_fudge":1.4,"quality_fudge":1,"compressor_type":0,"compressor_count":0,"min_IAF":0,"upgrades":[false,false,false,false]}]},{"name":"Early-WWI","engines":[{"name":"Aeromarine K-6 100hp","engine_type":0,"type":0,"era_sel":1,"displacement":7.36,"compression":4.7,"cyl_per_row":1,"rows":6,"RPM_boost":1.1,"material_fudge":1.2,"quality_fudge":1.2,"compressor_type":0,"compressor_count":0,"min_IAF":0,"upgrades":[false,false,false,false]},{"name":"Anzani 10 Cylinder 110hp","engine_type":0,"type":1,"era_sel":1,"displacement":12,"compression":4.85,"cyl_per_row":5,"rows":2,"RPM_boost":0.8,"material_fudge":1,"quality_fudge":1,"compressor_type":0,"compressor_count":0,"min_IAF":0,"upgrades":[false,false,false,false]},{"name":"Anzani 10 Cylinder 80hp","engine_type":0,"type":1,"era_sel":1,"displacement":8.27,"compression":4.85,"cyl_per_row":5,"rows":2,"RPM_boost":0.9,"material_fudge":1,"quality_fudge":1.1,"compressor_type":0,"compressor_count":0,"min_IAF":0,"upgrades":[false,false,false,false]},{"name":"Anzani 6 cylinder 60hp","engine_type":0,"type":1,"era_sel":1,"displacement":6.23,"compression":4.5,"cyl_per_row":3,"rows":2,"RPM_boost":1,"material_fudge":1,"quality_fudge":1.1,"compressor_type":0,"compressor_count":0,"min_IAF":0,"upgrades":[false,false,false,false]},{"name":"Argus As II 120hp","engine_type":0,"type":0,"era_sel":1,"displacement":10.353,"compression":5,"cyl_per_row":1,"rows":6,"RPM_boost":0.8,"material_fudge":1,"quality_fudge":1.3,"compressor_type":0,"compressor_count":0,"min_IAF":0,"upgrades":[false,false,false,false]},{"name":"Austro-Daimler 6 120hp","engine_type":0,"type":0,"era_sel":1,"displacement":13.8,"compression":4.85,"cyl_per_row":1,"rows":6,"RPM_boost":0.65,"material_fudge":1.1,"quality_fudge":1,"compressor_type":0,"compressor_count":0,"min_IAF":0,"upgrades":[false,false,false,false]},{"name":"Benz Bz.III 150hp","engine_type":0,"type":0,"era_sel":1,"displacement":15.4,"compression":4.7,"cyl_per_row":1,"rows":6,"RPM_boost":0.75,"material_fudge":0.8,"quality_fudge":1.3,"compressor_type":0,"compressor_count":0,"min_IAF":0,"upgrades":[false,false,false,false]},{"name":"Clerget 7Z 95hp","engine_type":0,"type":2,"era_sel":1,"displacement":11.88,"compression":4.3,"cyl_per_row":7,"rows":1,"RPM_boost":1.1,"material_fudge":1,"quality_fudge":1.4,"compressor_type":0,"compressor_count":0,"min_IAF":0,"upgrades":[false,false,false,false]},{"name":"Clerget 9Bf 140hp","engine_type":0,"type":2,"era_sel":1,"displacement":17.46,"compression":4.85,"cyl_per_row":9,"rows":1,"RPM_boost":0.9,"material_fudge":0.8,"quality_fudge":1.3,"compressor_type":0,"compressor_count":0,"min_IAF":0,"upgrades":[false,false,false,false]},{"name":"Gnome 14 Double Lambda 160hp","engine_type":0,"type":2,"era_sel":1,"displacement":23.8,"compression":3.87,"cyl_per_row":7,"rows":2,"RPM_boost":1.2,"material_fudge":0.8,"quality_fudge":1.2,"compressor_type":0,"compressor_count":0,"min_IAF":0,"upgrades":[false,false,false,false]},{"name":"Gnome 7 Lambda 70hp","engine_type":0,"type":2,"era_sel":1,"displacement":11.9,"compression":3.75,"cyl_per_row":7,"rows":1,"RPM_boost":1.1,"material_fudge":0.8,"quality_fudge":1.3,"compressor_type":0,"compressor_count":0,"min_IAF":0,"upgrades":[false,false,false,false]},{"name":"Gnome 7 Lambda 80hp","engine_type":0,"type":2,"era_sel":1,"displacement":11.9,"compression":3.87,"cyl_per_row":7,"rows":1,"RPM_boost":1.2,"material_fudge":0.8,"quality_fudge":1.3,"compressor_type":0,"compressor_count":0,"min_IAF":0,"upgrades":[false,false,false,false]},{"name":"Gnome 7 Omega 50hp","engine_type":0,"type":2,"era_sel":0,"displacement":7.7,"compression":4,"cyl_per_row":7,"rows":1,"RPM_boost":1.49,"material_fudge":1,"quality_fudge":1.2,"compressor_type":0,"compressor_count":0,"min_IAF":0,"upgrades":[false,false,false,false]},{"name":"Gnome monosoupape 9B 100hp","engine_type":0,"type":2,"era_sel":1,"displacement":16.28,"compression":4.5,"cyl_per_row":9,"rows":1,"RPM_boost":0.8,"material_fudge":0.8,"quality_fudge":1.6,"compressor_type":0,"compressor_count":0,"min_IAF":0,"upgrades":[false,false,false,false]},{"name":"Le Rhone 9C 90hp","engine_type":0,"type":2,"era_sel":1,"displacement":10.89,"compression":4.8,"cyl_per_row":9,"rows":1,"RPM_boost":1,"material_fudge":1.1,"quality_fudge":1.3,"compressor_type":0,"compressor_count":0,"min_IAF":0,"upgrades":[false,false,false,false]},{"name":"Mercedes D.II 120hp","engine_type":0,"type":0,"era_sel":1,"displacement":9.4,"compression":4.5,"cyl_per_row":1,"rows":6,"RPM_boost":1.1,"material_fudge":1,"quality_fudge":1.1,"compressor_type":0,"compressor_count":0,"min_IAF":0,"upgrades":[false,false,false,false]},{"name":"Mercedes D.III 150hp","engine_type":0,"type":0,"era_sel":1,"displacement":15,"compression":4.3,"cyl_per_row":1,"rows":6,"RPM_boost":0.95,"material_fudge":0.9,"quality_fudge":1.2,"compressor_type":0,"compressor_count":0,"min_IAF":0,"upgrades":[false,false,false,false]},{"name":"RAF 1a 90hp","engine_type":0,"type":0,"era_sel":1,"displacement":9.88,"compression":4.3,"cyl_per_row":2,"rows":4,"RPM_boost":0.9,"material_fudge":1.3,"quality_fudge":1.1,"compressor_type":0,"compressor_count":0,"min_IAF":0,"upgrades":[false,false,false,false]},{"name":"U.I 100hp","engine_type":0,"type":2,"era_sel":1,"displacement":16.28,"compression":4.5,"cyl_per_row":9,"rows":1,"RPM_boost":0.8,"material_fudge":0.8,"quality_fudge":1.6,"compressor_type":0,"compressor_count":0,"min_IAF":0,"upgrades":[false,false,false,false]},{"name":"U.I 110hp","engine_type":0,"type":2,"era_sel":1,"displacement":15.84,"compression":4.85,"cyl_per_row":9,"rows":1,"RPM_boost":0.8,"material_fudge":0.8,"quality_fudge":1.3,"compressor_type":0,"compressor_count":0,"min_IAF":0,"upgrades":[false,false,false,false]}]},{"name":"Late-WWI","engines":[{"name":"Bentley BR.2 230hp","engine_type":0,"type":2,"era_sel":1,"displacement":24.93,"compression":5.2,"cyl_per_row":9,"rows":1,"RPM_boost":0.9,"material_fudge":0.8,"quality_fudge":1.2,"compressor_type":0,"compressor_count":0,"min_IAF":0,"upgrades":[false,false,false,false]},{"name":"Clerget 11EB 200hp","engine_type":0,"type":2,"era_sel":1,"displacement":21.49,"compression":5.1,"cyl_per_row":11,"rows":1,"RPM_boost":1,"material_fudge":1,"quality_fudge":1.4,"compressor_type":0,"compressor_count":0,"min_IAF":0,"upgrades":[false,false,false,false]},{"name":"Clerget 16X 420hp","engine_type":0,"type":0,"era_sel":1,"displacement":32.53333333,"compression":5,"cyl_per_row":4,"rows":4,"RPM_boost":0.87,"material_fudge":0.6,"quality_fudge":1.5,"compressor_type":0,"compressor_count":0,"min_IAF":0,"upgrades":[false,false,false,false]},{"name":"Hispano-Suiza 8F 300hp","engine_type":0,"type":0,"era_sel":1,"displacement":18.4,"compression":5.3,"cyl_per_row":2,"rows":4,"RPM_boost":0.98,"material_fudge":0.7,"quality_fudge":1.2,"compressor_type":0,"compressor_count":0,"min_IAF":0,"upgrades":[false,false,false,false]},{"name":"Mercedes D.IIIav 200hp","engine_type":0,"type":0,"era_sel":1,"displacement":15,"compression":4.64,"cyl_per_row":1,"rows":6,"RPM_boost":1.05,"material_fudge":0.9,"quality_fudge":1,"compressor_type":0,"compressor_count":0,"min_IAF":0,"upgrades":[false,false,false,false]},{"name":"Napier Lion II 480hp \'18","engine_type":0,"type":0,"era_sel":1,"displacement":24,"compression":5.8,"cyl_per_row":3,"rows":4,"RPM_boost":1,"material_fudge":0.9,"quality_fudge":1.1,"compressor_type":0,"compressor_count":0,"min_IAF":0,"upgrades":[false,false,false,false]},{"name":"Pulsejet PV-15 (WWI)","engine_type":1,"type":0,"era_sel":1,"power":15,"quality_cost":1,"quality_rely":1,"starter":false},{"name":"Rolls-Royce Eagle III 250hp","engine_type":0,"type":0,"era_sel":1,"displacement":24,"compression":4.9,"cyl_per_row":2,"rows":6,"RPM_boost":0.75,"material_fudge":0.7,"quality_fudge":1.4,"compressor_type":0,"compressor_count":0,"min_IAF":0,"upgrades":[false,false,false,false]},{"name":"Rolls-Royce Eagle VIII 360hp","engine_type":0,"type":0,"era_sel":1,"displacement":20,"compression":6,"cyl_per_row":2,"rows":6,"RPM_boost":0.85,"material_fudge":0.7,"quality_fudge":1.4,"compressor_type":0,"compressor_count":0,"min_IAF":0,"upgrades":[false,false,false,false]},{"name":"Rolls-Royce Hawk 110hp","engine_type":0,"type":0,"era_sel":1,"displacement":7.41,"compression":5.1,"cyl_per_row":1,"rows":6,"RPM_boost":1,"material_fudge":1,"quality_fudge":1.1,"compressor_type":0,"compressor_count":0,"min_IAF":0,"upgrades":[false,false,false,false]},{"name":"Sunbeam Dyak 100hp","engine_type":0,"type":0,"era_sel":1,"displacement":8.800000002,"compression":5,"cyl_per_row":1,"rows":6,"RPM_boost":0.8,"material_fudge":0.9,"quality_fudge":1.4,"compressor_type":0,"compressor_count":0,"min_IAF":0,"upgrades":[false,false,false,false]},{"name":"Ur.III 150hp","engine_type":0,"type":2,"era_sel":1,"displacement":17.6,"compression":5,"cyl_per_row":11,"rows":1,"RPM_boost":0.9,"material_fudge":1,"quality_fudge":1.3,"compressor_type":0,"compressor_count":0,"min_IAF":0,"upgrades":[false,false,false,false]}]},{"name":"Mid-WWI","engines":[{"name":"Argus As III 190hp","engine_type":0,"type":0,"era_sel":1,"displacement":15.9,"compression":5,"cyl_per_row":1,"rows":6,"RPM_boost":0.8,"material_fudge":0.6,"quality_fudge":1.5,"compressor_type":0,"compressor_count":0,"min_IAF":0,"upgrades":[false,false,false,false]},{"name":"Austro-Daimler 6 200hp","engine_type":0,"type":0,"era_sel":1,"displacement":15,"compression":5,"cyl_per_row":1,"rows":6,"RPM_boost":0.9,"material_fudge":0.9,"quality_fudge":1.2,"compressor_type":0,"compressor_count":0,"min_IAF":0,"upgrades":[false,false,false,false]},{"name":"Beardmore 160hp","engine_type":0,"type":0,"era_sel":1,"displacement":16.635,"compression":4.5,"cyl_per_row":1,"rows":6,"RPM_boost":0.8,"material_fudge":0.8,"quality_fudge":1.3,"compressor_type":0,"compressor_count":0,"min_IAF":0,"upgrades":[false,false,false,false]},{"name":"Bz.IV 200hp","engine_type":0,"type":0,"era_sel":1,"displacement":18.6,"compression":4.9,"cyl_per_row":1,"rows":6,"RPM_boost":0.75,"material_fudge":0.9,"quality_fudge":1.2,"compressor_type":0,"compressor_count":0,"min_IAF":0,"upgrades":[false,false,false,false]},{"name":"Clerget 9B 130hp","engine_type":0,"type":2,"era_sel":1,"displacement":16.2,"compression":4.85,"cyl_per_row":9,"rows":1,"RPM_boost":0.9,"material_fudge":0.8,"quality_fudge":1.3,"compressor_type":0,"compressor_count":0,"min_IAF":0,"upgrades":[false,false,false,false]},{"name":"Cosmos Mercury","engine_type":0,"type":1,"era_sel":1,"displacement":19.6,"compression":5.3,"cyl_per_row":7,"rows":2,"RPM_boost":1.1,"material_fudge":1,"quality_fudge":0.6,"compressor_type":0,"compressor_count":0,"min_IAF":0,"upgrades":[false,false,false,false]},{"name":"Curtiss K-12 375hp","engine_type":0,"type":0,"era_sel":1,"displacement":18.77,"compression":5,"cyl_per_row":2,"rows":6,"RPM_boost":1.33,"material_fudge":0.8,"quality_fudge":1.1,"compressor_type":0,"compressor_count":0,"min_IAF":0,"upgrades":[false,false,false,false]},{"name":"Curtiss OXX-6","engine_type":0,"type":0,"era_sel":1,"displacement":9.3,"compression":4.92,"cyl_per_row":2,"rows":4,"RPM_boost":0.8,"material_fudge":1,"quality_fudge":1.2,"compressor_type":0,"compressor_count":0,"min_IAF":0,"upgrades":[false,false,false,false]},{"name":"Fiat A.12 200hp","engine_type":0,"type":0,"era_sel":1,"displacement":21.6,"compression":4.5,"cyl_per_row":1,"rows":6,"RPM_boost":0.8,"material_fudge":0.8,"quality_fudge":1.3,"compressor_type":0,"compressor_count":0,"min_IAF":0,"upgrades":[false,false,false,false]},{"name":"Gnome 9B Monosoupape 110hp","engine_type":0,"type":2,"era_sel":1,"displacement":15.84,"compression":4.85,"cyl_per_row":9,"rows":1,"RPM_boost":0.8,"material_fudge":0.8,"quality_fudge":1.3,"compressor_type":0,"compressor_count":0,"min_IAF":0,"upgrades":[false,false,false,false]},{"name":"Gnome 9N Monosoupape 160hp","engine_type":0,"type":2,"era_sel":1,"displacement":15.84,"compression":5.1,"cyl_per_row":9,"rows":1,"RPM_boost":1.05,"material_fudge":0.8,"quality_fudge":1.3,"compressor_type":0,"compressor_count":0,"min_IAF":0,"upgrades":[false,false,false,false]},{"name":"Hispano-Suiza 8Aa 150hp","engine_type":0,"type":0,"era_sel":1,"displacement":11.2,"compression":4.8,"cyl_per_row":2,"rows":4,"RPM_boost":1,"material_fudge":1,"quality_fudge":1.1,"compressor_type":0,"compressor_count":0,"min_IAF":0,"upgrades":[false,false,false,false]},{"name":"Hispano-Suiza 8Ab 180hp","engine_type":0,"type":0,"era_sel":1,"displacement":11.2,"compression":5.3,"cyl_per_row":2,"rows":4,"RPM_boost":1,"material_fudge":1,"quality_fudge":1,"compressor_type":0,"compressor_count":0,"min_IAF":0,"upgrades":[false,false,false,false]},{"name":"Hispano-Suiza 8B 200hp","engine_type":0,"type":0,"era_sel":1,"displacement":11.2,"compression":5.3,"cyl_per_row":2,"rows":4,"RPM_boost":1.1,"material_fudge":1,"quality_fudge":1,"compressor_type":0,"compressor_count":0,"min_IAF":0,"upgrades":[false,false,false,false]},{"name":"Hispano-Suiza 8Bc 220hp","engine_type":0,"type":0,"era_sel":1,"displacement":11.2,"compression":5.3,"cyl_per_row":2,"rows":4,"RPM_boost":1.2,"material_fudge":1,"quality_fudge":1,"compressor_type":0,"compressor_count":0,"min_IAF":0,"upgrades":[false,false,false,false]},{"name":"Le Rhone 9Ja 110hp","engine_type":0,"type":2,"era_sel":1,"displacement":14.4,"compression":5,"cyl_per_row":9,"rows":1,"RPM_boost":0.8,"material_fudge":1,"quality_fudge":1.3,"compressor_type":0,"compressor_count":0,"min_IAF":0,"upgrades":[false,false,false,false]},{"name":"Le Rhone 9Jb 130hp","engine_type":0,"type":2,"era_sel":1,"displacement":14.4,"compression":5,"cyl_per_row":9,"rows":1,"RPM_boost":1,"material_fudge":1,"quality_fudge":1.3,"compressor_type":0,"compressor_count":0,"min_IAF":0,"upgrades":[false,false,false,false]},{"name":"Liberty L-12 400hp","engine_type":0,"type":0,"era_sel":2,"displacement":27,"compression":5.4,"cyl_per_row":2,"rows":6,"RPM_boost":0.64,"material_fudge":0.6,"quality_fudge":1.4,"compressor_type":0,"compressor_count":0,"min_IAF":0,"upgrades":[false,false,false,false]},{"name":"Lorraine 12Da 400hp","engine_type":0,"type":0,"era_sel":1,"displacement":24.4,"compression":5,"cyl_per_row":2,"rows":6,"RPM_boost":1.1,"material_fudge":0.7,"quality_fudge":1.4,"compressor_type":0,"compressor_count":0,"min_IAF":0,"upgrades":[false,false,false,false]},{"name":"Mercedes D.IIIa 170hp","engine_type":0,"type":0,"era_sel":1,"displacement":15,"compression":4.5,"cyl_per_row":1,"rows":6,"RPM_boost":0.95,"material_fudge":0.9,"quality_fudge":1.2,"compressor_type":0,"compressor_count":0,"min_IAF":0,"upgrades":[false,false,false,false]},{"name":"Mercedes D.IIIaü 180hp","engine_type":0,"type":0,"era_sel":1,"displacement":15,"compression":4.64,"cyl_per_row":1,"rows":6,"RPM_boost":0.95,"material_fudge":0.9,"quality_fudge":1.2,"compressor_type":0,"compressor_count":0,"min_IAF":0,"upgrades":[false,false,false,false]},{"name":"Mercedes D.IVa 250hp","engine_type":0,"type":0,"era_sel":1,"displacement":21.6,"compression":4.94,"cyl_per_row":1,"rows":6,"RPM_boost":0.8,"material_fudge":1,"quality_fudge":1,"compressor_type":0,"compressor_count":0,"min_IAF":0,"upgrades":[false,false,false,false]},{"name":"Rolls-Royce Falcon III 290hp","engine_type":0,"type":0,"era_sel":1,"displacement":14.4,"compression":5.3,"cyl_per_row":2,"rows":6,"RPM_boost":1.2,"material_fudge":1,"quality_fudge":1.1,"compressor_type":0,"compressor_count":0,"min_IAF":0,"upgrades":[false,false,false,false]},{"name":"Rolls-Royce Hawk 80hp","engine_type":0,"type":0,"era_sel":1,"displacement":7.41,"compression":5.1,"cyl_per_row":1,"rows":6,"RPM_boost":0.75,"material_fudge":1,"quality_fudge":1.2,"compressor_type":0,"compressor_count":0,"min_IAF":0,"upgrades":[false,false,false,false]},{"name":"Sunbeam Arab 208hp","engine_type":0,"type":0,"era_sel":1,"displacement":11.76,"compression":5.3,"cyl_per_row":2,"rows":4,"RPM_boost":1.1,"material_fudge":1.2,"quality_fudge":0.9,"compressor_type":0,"compressor_count":0,"min_IAF":0,"upgrades":[false,false,false,false]},{"name":"Sunbeam Maori II 260hp","engine_type":0,"type":0,"era_sel":1,"displacement":12.27,"compression":5.3,"cyl_per_row":2,"rows":6,"RPM_boost":1.3,"material_fudge":1.7,"quality_fudge":0.4,"compressor_type":0,"compressor_count":0,"min_IAF":0,"upgrades":[false,false,false,false]},{"name":"Ur.II 110hp","engine_type":0,"type":2,"era_sel":1,"displacement":14.4,"compression":5,"cyl_per_row":9,"rows":1,"RPM_boost":0.8,"material_fudge":1,"quality_fudge":1.3,"compressor_type":0,"compressor_count":0,"min_IAF":0,"upgrades":[false,false,false,false]}]},{"name":"Pre-WWI","engines":[{"name":"Mercedes E4F 70hp","engine_type":0,"type":0,"era_sel":1,"displacement":6.3,"compression":4,"cyl_per_row":1,"rows":4,"RPM_boost":1.2,"material_fudge":1.3,"quality_fudge":1,"compressor_type":0,"compressor_count":0,"min_IAF":0,"upgrades":[false,false,false,false]}]},{"name":"Coming Storm","engines":[{"name":"Allison V-1710-85 1200hp","engine_type":0,"type":0,"era_sel":3,"displacement":28,"compression":6.65,"cyl_per_row":2,"rows":6,"RPM_boost":0.9,"material_fudge":1,"quality_fudge":0.8,"compressor_type":0,"compressor_count":0,"min_IAF":0,"upgrades":[false,false,false,false]},{"name":"Bristol Pegasus XVIII 835hp","engine_type":0,"type":1,"era_sel":2,"displacement":28.7,"compression":6.25,"cyl_per_row":9,"rows":1,"RPM_boost":0.95,"material_fudge":1.2,"quality_fudge":0.8,"compressor_type":2,"compressor_count":1,"min_IAF":0,"upgrades":[false,false,false,false]},{"name":"Daimler-Benz 601ARJ 1775hp","engine_type":0,"type":0,"era_sel":3,"displacement":33.93,"compression":6.9,"cyl_per_row":2,"rows":6,"RPM_boost":0.84,"material_fudge":0.6,"quality_fudge":0.7,"compressor_type":2,"compressor_count":1,"min_IAF":0,"upgrades":[false,false,true,false]}]},{"name":"Roaring 20s","engines":[{"name":"Argus As 5 1500hp","engine_type":0,"type":0,"era_sel":2,"displacement":94.1,"compression":5.6,"cyl_per_row":6,"rows":4,"RPM_boost":0.638,"material_fudge":0.4,"quality_fudge":1.6,"compressor_type":0,"compressor_count":0,"min_IAF":0,"upgrades":[false,false,false,false]},{"name":"Bréguet Quadrimoteur Type B H-32 970hp","engine_type":0,"type":0,"era_sel":2,"displacement":48.64,"compression":5,"cyl_per_row":4,"rows":8,"RPM_boost":1,"material_fudge":0.7,"quality_fudge":1.3,"compressor_type":0,"compressor_count":0,"min_IAF":0,"upgrades":[false,false,false,false]},{"name":"Napier Lion II 480hp \'20","engine_type":0,"type":0,"era_sel":2,"displacement":24,"compression":5.8,"cyl_per_row":3,"rows":4,"RPM_boost":0.75,"material_fudge":0.9,"quality_fudge":1,"compressor_type":0,"compressor_count":0,"min_IAF":0,"upgrades":[false,false,false,false]},{"name":"Napier Lion XI 580hp","engine_type":0,"type":0,"era_sel":2,"displacement":24,"compression":6,"cyl_per_row":4,"rows":3,"RPM_boost":1,"material_fudge":1.1,"quality_fudge":0.9,"compressor_type":0,"compressor_count":0,"min_IAF":0,"upgrades":[false,false,false,false]}]},{"name":"WWII","engines":[{"name":"Klimov M-105PF 1230hp","engine_type":0,"type":0,"era_sel":3,"displacement":35.101,"compression":7,"cyl_per_row":2,"rows":6,"RPM_boost":0.55,"material_fudge":0.6,"quality_fudge":1.4,"compressor_type":2,"compressor_count":1,"min_IAF":0,"upgrades":[false,false,false,false]},{"name":"Rolls Royce Merlin 46 930hp","engine_type":0,"type":0,"era_sel":3,"displacement":27,"compression":5.55,"cyl_per_row":2,"rows":6,"RPM_boost":0.98,"material_fudge":0.8,"quality_fudge":1,"compressor_type":2,"compressor_count":1,"min_IAF":30,"upgrades":[false,true,true,false]}]},{"name":"ACDQ","engines":[{"name":"2A-Series 4-Cylinder Inline","engine_type":0,"type":0,"era_sel":0,"displacement":16,"compression":4.5,"cyl_per_row":1,"rows":2,"RPM_boost":0.5,"material_fudge":0.8,"quality_fudge":1.4,"compressor_type":0,"compressor_count":0,"min_IAF":0,"upgrades":[false,false,false,false]},{"name":"F-Series 6-Cylinder Inline","engine_type":0,"type":0,"era_sel":0,"displacement":17,"compression":4.3,"cyl_per_row":1,"rows":6,"RPM_boost":1.07,"material_fudge":0.7,"quality_fudge":1.1,"compressor_type":0,"compressor_count":0,"min_IAF":0,"upgrades":[false,false,false,false]},{"name":"G-Series 9-Cylinder Rotary Engine","engine_type":0,"type":2,"era_sel":0,"displacement":16,"compression":4.7,"cyl_per_row":9,"rows":1,"RPM_boost":1.04,"material_fudge":1,"quality_fudge":1.2,"compressor_type":0,"compressor_count":0,"min_IAF":0,"upgrades":[false,false,false,false]},{"name":"Hartmann H.IIc Straight-6 Engine","engine_type":0,"type":0,"era_sel":1,"displacement":12,"compression":4.7,"cyl_per_row":1,"rows":6,"RPM_boost":1.1,"material_fudge":1,"quality_fudge":1.1,"compressor_type":0,"compressor_count":0,"min_IAF":0,"upgrades":[false,false,false,false]},{"name":"Hornet R-3 Boxer 6-Cylinder","engine_type":0,"type":0,"era_sel":1,"displacement":10,"compression":5,"cyl_per_row":2,"rows":3,"RPM_boost":1,"material_fudge":1,"quality_fudge":1,"compressor_type":0,"compressor_count":0,"min_IAF":0,"upgrades":[false,false,false,false]},{"name":"Maclean-King Tiger MK.1 V-12 Engine","engine_type":0,"type":0,"era_sel":1,"displacement":17,"compression":5,"cyl_per_row":2,"rows":6,"RPM_boost":1,"material_fudge":1,"quality_fudge":1,"compressor_type":0,"compressor_count":0,"min_IAF":0,"upgrades":[false,false,false,false]},{"name":"Ogre-Z Beta V-6","engine_type":0,"type":0,"era_sel":0,"displacement":11,"compression":5,"cyl_per_row":1,"rows":6,"RPM_boost":1,"material_fudge":0.7,"quality_fudge":0.8,"compressor_type":0,"compressor_count":0,"min_IAF":0,"upgrades":[false,false,false,false]},{"name":"Pulsejet PV-12 (Pioneer)","engine_type":1,"type":0,"era_sel":0,"power":12,"quality_cost":1.1,"quality_rely":1.1,"starter":false},{"name":"Pulsejet PV-20 (Pioneer)","engine_type":1,"type":0,"era_sel":0,"power":20,"quality_cost":1.1,"quality_rely":1.1,"starter":false},{"name":"Pulsejet PV-8 (Pioneer)","engine_type":1,"type":0,"era_sel":0,"power":8,"quality_cost":1.1,"quality_rely":1.1,"starter":false},{"name":"Seguin Σ110 Sigma 7-Cylinder Rotary Engine","engine_type":0,"type":2,"era_sel":1,"displacement":14,"compression":4.5,"cyl_per_row":7,"rows":1,"RPM_boost":1.05,"material_fudge":1,"quality_fudge":1.5,"compressor_type":0,"compressor_count":0,"min_IAF":0,"upgrades":[false,false,false,false]},{"name":"SuperPegasus 7-Cylinder Rotary Engine","engine_type":0,"type":2,"era_sel":0,"displacement":13.5,"compression":5,"cyl_per_row":7,"rows":1,"RPM_boost":1.1,"material_fudge":1,"quality_fudge":1.2,"compressor_type":0,"compressor_count":0,"min_IAF":0,"upgrades":[false,false,false,false]},{"name":"TurboGoblin 8-Cylinder Semi-Radial","engine_type":0,"type":4,"era_sel":0,"displacement":13,"compression":5.5,"cyl_per_row":8,"rows":1,"RPM_boost":1,"material_fudge":0.9,"quality_fudge":0.6,"compressor_type":0,"compressor_count":0,"min_IAF":0,"upgrades":[false,false,false,false]}]},{"name":"Himmilgard Pulsejet","engines":[{"name":"Pulsejet PV-15 (WWI)","engine_type":1,"type":0,"era_sel":1,"power":15,"quality_cost":1,"quality_rely":1,"starter":false,"rarity":1}]},{"name":"Himmilgard Liquid Radial","engines":[{"name":"Einsort MM 140hp","engine_type":0,"type":5,"era_sel":1,"displacement":14.72,"compression":5,"cyl_per_row":9,"rows":1,"RPM_boost":0.78,"material_fudge":0.9,"quality_fudge":1.1,"compressor_type":0,"compressor_count":0,"min_IAF":0,"upgrades":[false,false,false,false],"rarity":1},{"name":"Einsort MR 150hp","engine_type":0,"type":5,"era_sel":1,"displacement":15.46,"compression":5,"cyl_per_row":9,"rows":1,"RPM_boost":0.78,"material_fudge":0.9,"quality_fudge":1.1,"compressor_type":0,"compressor_count":0,"min_IAF":0,"upgrades":[false,false,false,false],"rarity":1},{"name":"Gernsback Motor 0005","engine_type":0,"type":5,"era_sel":1,"displacement":12,"compression":6,"cyl_per_row":5,"rows":2,"RPM_boost":1,"material_fudge":1,"quality_fudge":1,"compressor_type":0,"compressor_count":0,"min_IAF":0,"upgrades":[false,false,false,false],"rarity":3}]},{"name":"Himmilgard Liquid Cooled","engines":[{"name":"Bertha F1166 120hp","engine_type":0,"type":0,"era_sel":1,"displacement":9.4,"compression":4.5,"cyl_per_row":1,"rows":6,"RPM_boost":1.1,"material_fudge":1,"quality_fudge":1,"compressor_type":0,"compressor_count":0,"min_IAF":0,"upgrades":[false,false,false,false],"rarity":1},{"name":"Bertha F1466 170hp","engine_type":0,"type":0,"era_sel":1,"displacement":15,"compression":4.64,"cyl_per_row":1,"rows":6,"RPM_boost":0.9,"material_fudge":0.9,"quality_fudge":1,"compressor_type":0,"compressor_count":0,"min_IAF":0,"upgrades":[false,false,false,false],"rarity":1},{"name":"Bertha F1466 Über 180hp","engine_type":0,"type":0,"era_sel":1,"displacement":15,"compression":4.64,"cyl_per_row":1,"rows":6,"RPM_boost":0.95,"material_fudge":0.9,"quality_fudge":0.9,"compressor_type":0,"compressor_count":0,"min_IAF":0,"upgrades":[false,false,false,false],"rarity":1},{"name":"Bertha F2000 250hp","engine_type":0,"type":0,"era_sel":1,"displacement":21.6,"compression":4.94,"cyl_per_row":1,"rows":6,"RPM_boost":0.8,"material_fudge":1,"quality_fudge":1,"compressor_type":0,"compressor_count":0,"min_IAF":0,"upgrades":[false,false,false,false],"rarity":1},{"name":"Brandt Krieger I 370hp","engine_type":0,"type":0,"era_sel":1,"displacement":18.77,"compression":5.5,"cyl_per_row":2,"rows":6,"RPM_boost":1.1,"material_fudge":0.7,"quality_fudge":1.2,"compressor_type":0,"compressor_count":0,"min_IAF":0,"upgrades":[false,false,false,false],"rarity":3},{"name":"Brandt Kurier XVI 180hp","engine_type":0,"type":0,"era_sel":1,"displacement":11.2,"compression":5.3,"cyl_per_row":2,"rows":4,"RPM_boost":1,"material_fudge":1,"quality_fudge":1,"compressor_type":0,"compressor_count":0,"min_IAF":0,"upgrades":[false,false,false,false],"rarity":2},{"name":"Fleischmann F10 250hp","engine_type":0,"type":0,"era_sel":1,"displacement":21.71,"compression":4.3,"cyl_per_row":1,"rows":6,"RPM_boost":1.05,"material_fudge":1,"quality_fudge":1,"compressor_type":0,"compressor_count":0,"min_IAF":0,"upgrades":[false,false,false,false],"rarity":1},{"name":"Fleischmann F10ü 300hp","engine_type":0,"type":0,"era_sel":1,"displacement":21.71,"compression":4.75,"cyl_per_row":1,"rows":6,"RPM_boost":1.05,"material_fudge":1,"quality_fudge":1,"compressor_type":0,"compressor_count":0,"min_IAF":0,"upgrades":[false,false,false,false],"rarity":1},{"name":"Fokker Fungizidherstellung Typ 247 160hp","engine_type":0,"type":0,"era_sel":1,"displacement":14.3,"compression":4.8,"cyl_per_row":1,"rows":6,"RPM_boost":0.85,"material_fudge":0.8,"quality_fudge":1.2,"compressor_type":0,"compressor_count":0,"min_IAF":0,"upgrades":[false,false,false,false],"rarity":1},{"name":"Meier Ochs 2 160hp","engine_type":0,"type":0,"era_sel":1,"displacement":16.6,"compression":4.5,"cyl_per_row":1,"rows":6,"RPM_boost":0.84,"material_fudge":0.7,"quality_fudge":1.2,"compressor_type":0,"compressor_count":0,"min_IAF":0,"upgrades":[false,false,false,false],"rarity":1},{"name":"Meier Windhund 70hp","engine_type":0,"type":0,"era_sel":1,"displacement":6.3,"compression":4,"cyl_per_row":1,"rows":4,"RPM_boost":1.2,"material_fudge":1.3,"quality_fudge":0.8,"compressor_type":0,"compressor_count":0,"min_IAF":0,"upgrades":[false,false,false,false],"rarity":1},{"name":"Nationales Motorbüro Arbeiter XVII 170hp","engine_type":0,"type":0,"era_sel":1,"displacement":11.7,"compression":5.3,"cyl_per_row":2,"rows":4,"RPM_boost":1.1,"material_fudge":1,"quality_fudge":1,"compressor_type":0,"compressor_count":0,"min_IAF":0,"upgrades":[false,false,false,true],"rarity":2},{"name":"Nationales Motorbüro D-1140 220hp","engine_type":0,"type":0,"era_sel":1,"displacement":11.4,"compression":5.5,"cyl_per_row":2,"rows":6,"RPM_boost":1.1,"material_fudge":1.5,"quality_fudge":0.6,"compressor_type":0,"compressor_count":0,"min_IAF":0,"upgrades":[false,false,false,false],"rarity":2},{"name":"Nationales Motorbüro D-760 150hp","engine_type":0,"type":0,"era_sel":1,"displacement":7.6,"compression":5.5,"cyl_per_row":2,"rows":4,"RPM_boost":1.1,"material_fudge":1.5,"quality_fudge":0.6,"compressor_type":0,"compressor_count":0,"min_IAF":0,"upgrades":[false,false,false,false],"rarity":2},{"name":"Nationales Motorbüro D-760tgl 180hp","engine_type":0,"type":0,"era_sel":1,"displacement":7.6,"compression":5.5,"cyl_per_row":2,"rows":4,"RPM_boost":1.1,"material_fudge":1.5,"quality_fudge":0.4,"compressor_type":3,"compressor_count":1,"min_IAF":0,"upgrades":[false,false,false,false],"rarity":2},{"name":"Nationales Motorbüro D-840 160hp","engine_type":0,"type":0,"era_sel":1,"displacement":8.4,"compression":5.5,"cyl_per_row":2,"rows":4,"RPM_boost":1.05,"material_fudge":1.5,"quality_fudge":0.6,"compressor_type":0,"compressor_count":0,"min_IAF":0,"upgrades":[false,false,false,false],"rarity":2},{"name":"Nationales Motorbüro Kurier XXI 210hp","engine_type":0,"type":0,"era_sel":1,"displacement":11.7,"compression":5.3,"cyl_per_row":2,"rows":4,"RPM_boost":1.1,"material_fudge":1,"quality_fudge":1,"compressor_type":0,"compressor_count":0,"min_IAF":0,"upgrades":[false,false,false,false],"rarity":3},{"name":"SAM Kurier XII 150hp","engine_type":0,"type":0,"era_sel":1,"displacement":11.2,"compression":4.8,"cyl_per_row":2,"rows":4,"RPM_boost":1,"material_fudge":1,"quality_fudge":1.1,"compressor_type":0,"compressor_count":0,"min_IAF":0,"upgrades":[false,false,false,false],"rarity":1},{"name":"SAM Kurier XX 200hp","engine_type":0,"type":0,"era_sel":1,"displacement":11.2,"compression":5.3,"cyl_per_row":2,"rows":4,"RPM_boost":1.1,"material_fudge":1,"quality_fudge":1,"compressor_type":0,"compressor_count":0,"min_IAF":0,"upgrades":[false,false,false,false],"rarity":2},{"name":"SAM Transporter I 300hp","engine_type":0,"type":0,"era_sel":1,"displacement":22.08,"compression":4.5,"cyl_per_row":2,"rows":6,"RPM_boost":1.15,"material_fudge":1,"quality_fudge":1,"compressor_type":0,"compressor_count":0,"min_IAF":0,"upgrades":[false,false,false,false],"rarity":2},{"name":"SAM Transporter III 320hp","engine_type":0,"type":0,"era_sel":1,"displacement":22.08,"compression":4.5,"cyl_per_row":2,"rows":6,"RPM_boost":1,"material_fudge":1,"quality_fudge":1,"compressor_type":3,"compressor_count":1,"min_IAF":0,"upgrades":[false,false,false,false],"rarity":2},{"name":"SAM Transporter V 350hp","engine_type":0,"type":0,"era_sel":1,"displacement":22.08,"compression":4.75,"cyl_per_row":2,"rows":6,"RPM_boost":1.2,"material_fudge":1,"quality_fudge":1,"compressor_type":0,"compressor_count":0,"min_IAF":0,"upgrades":[false,false,false,false],"rarity":2},{"name":"Schrankhut RD.300V 230hp","engine_type":0,"type":0,"era_sel":1,"displacement":18.4,"compression":6.4,"cyl_per_row":1,"rows":6,"RPM_boost":0.51,"material_fudge":0.7,"quality_fudge":1.3,"compressor_type":1,"compressor_count":1,"min_IAF":0,"upgrades":[false,false,false,false],"rarity":3},{"name":"Wollsteinkraft Verteidiger C 250hp","engine_type":0,"type":0,"era_sel":1,"displacement":24,"compression":4.9,"cyl_per_row":2,"rows":6,"RPM_boost":0.75,"material_fudge":0.7,"quality_fudge":1.2,"compressor_type":0,"compressor_count":0,"min_IAF":0,"upgrades":[false,false,false,false],"rarity":1},{"name":"Wollsteinkraft Verteidiger H 360hp","engine_type":0,"type":0,"era_sel":1,"displacement":20,"compression":6,"cyl_per_row":2,"rows":6,"RPM_boost":0.85,"material_fudge":0.7,"quality_fudge":1.3,"compressor_type":0,"compressor_count":0,"min_IAF":0,"upgrades":[false,false,false,false],"rarity":2},{"name":"Wollsteinkraft Wagehals C 290hp","engine_type":0,"type":0,"era_sel":1,"displacement":14.4,"compression":5.3,"cyl_per_row":2,"rows":6,"RPM_boost":1.2,"material_fudge":1,"quality_fudge":1.1,"compressor_type":0,"compressor_count":0,"min_IAF":0,"upgrades":[false,false,false,false],"rarity":2},{"name":"Bertha F4398 490hp","engine_type":0,"type":0,"era_sel":1,"displacement":44.3,"compression":4.7,"cyl_per_row":3,"rows":6,"RPM_boost":0.85,"material_fudge":0.7,"quality_fudge":1,"compressor_type":0,"compressor_count":0,"min_IAF":0,"upgrades":[false,false,false,false],"rarity":2},{"name":"Brandt Patriot 210hp","engine_type":0,"type":0,"era_sel":1,"displacement":17.5,"compression":5.65,"cyl_per_row":1,"rows":6,"RPM_boost":0.65,"material_fudge":0.7,"quality_fudge":1.2,"compressor_type":0,"compressor_count":0,"min_IAF":0,"upgrades":[false,false,false,false],"rarity":2},{"name":"Brandt Turbolader-Patriot 260hp","engine_type":0,"type":0,"era_sel":1,"displacement":17.5,"compression":5.65,"cyl_per_row":1,"rows":6,"RPM_boost":0.65,"material_fudge":0.7,"quality_fudge":1.2,"compressor_type":3,"compressor_count":1,"min_IAF":30,"upgrades":[false,false,false,false],"rarity":2},{"name":"Meier Bär 400hp","engine_type":0,"type":0,"era_sel":1,"displacement":27,"compression":5.4,"cyl_per_row":2,"rows":6,"RPM_boost":0.86,"material_fudge":0.6,"quality_fudge":1.4,"compressor_type":0,"compressor_count":0,"min_IAF":0,"upgrades":[false,false,false,false],"rarity":3},{"name":"Meier Eisbär 500hp","engine_type":0,"type":0,"era_sel":1,"displacement":27,"compression":5.4,"cyl_per_row":2,"rows":6,"RPM_boost":0.86,"material_fudge":0.6,"quality_fudge":1.4,"compressor_type":3,"compressor_count":1,"min_IAF":30,"upgrades":[false,false,false,false],"rarity":3},{"name":"SAM Kurier XIII 180hp","engine_type":0,"type":0,"era_sel":1,"displacement":11.2,"compression":4.8,"cyl_per_row":2,"rows":4,"RPM_boost":1,"material_fudge":1,"quality_fudge":1.1,"compressor_type":3,"compressor_count":1,"min_IAF":10,"upgrades":[false,false,false,false],"rarity":2},{"name":"SAM Transporter IV 320hp","engine_type":0,"type":0,"era_sel":1,"displacement":22.08,"compression":4.5,"cyl_per_row":2,"rows":6,"RPM_boost":1,"material_fudge":1,"quality_fudge":1,"compressor_type":3,"compressor_count":1,"min_IAF":20,"upgrades":[false,false,false,false],"rarity":2},{"name":"Sonnenmotor EGH3 220hp","engine_type":0,"type":0,"era_sel":0,"displacement":20,"compression":5,"cyl_per_row":2,"rows":4,"RPM_boost":1,"material_fudge":0.9,"quality_fudge":1,"compressor_type":2,"compressor_count":1,"min_IAF":50,"upgrades":[false,false,false,true],"rarity":3},{"name":"Wollsteinkraft Wagehals T 360hp","engine_type":0,"type":0,"era_sel":1,"displacement":14.4,"compression":5.3,"cyl_per_row":2,"rows":6,"RPM_boost":1.2,"material_fudge":1,"quality_fudge":1.1,"compressor_type":3,"compressor_count":2,"min_IAF":0,"upgrades":[false,false,false,false],"rarity":2},{"name":"SAM Kurier L 300hp","engine_type":0,"type":0,"era_sel":1,"displacement":18.4,"compression":5.3,"cyl_per_row":2,"rows":4,"RPM_boost":0.99,"material_fudge":0.8,"quality_fudge":1.3,"compressor_type":0,"compressor_count":0,"min_IAF":0,"upgrades":[false,false,false,false],"rarity":3},{"name":"Bertha F2080 220hp","engine_type":0,"type":0,"era_sel":1,"displacement":19.7,"compression":4.4,"cyl_per_row":1,"rows":8,"RPM_boost":1,"material_fudge":0.6,"quality_fudge":1.2,"compressor_type":0,"compressor_count":0,"min_IAF":0,"upgrades":[false,false,false,false],"rarity":1},{"name":"Bertha F2080 Über 270hp","engine_type":0,"type":0,"era_sel":1,"displacement":19.7,"compression":4.8,"cyl_per_row":1,"rows":8,"RPM_boost":1,"material_fudge":0.6,"quality_fudge":1.2,"compressor_type":0,"compressor_count":0,"min_IAF":0,"upgrades":[false,false,false,false],"rarity":2}]},{"name":"Himmilgard Contrarotary","engines":[{"name":"Nationales Motorbüro R-1860 160hp","engine_type":0,"type":3,"era_sel":1,"displacement":18.6,"compression":6,"cyl_per_row":11,"rows":1,"RPM_boost":0.65,"material_fudge":1,"quality_fudge":1,"compressor_type":1,"compressor_count":1,"min_IAF":0,"upgrades":[false,false,false,false],"rarity":2},{"name":"Nationales Motorbüro R-1190 110hp","engine_type":0,"type":3,"era_sel":1,"displacement":11.9,"compression":6,"cyl_per_row":9,"rows":1,"RPM_boost":0.67,"material_fudge":1.2,"quality_fudge":1,"compressor_type":1,"compressor_count":1,"min_IAF":0,"upgrades":[false,false,false,false],"rarity":2}]},{"name":"Himmilgard Air Cooled","engines":[{"name":"Braun UL 90hp","engine_type":0,"type":1,"era_sel":1,"displacement":8.8,"compression":4.3,"cyl_per_row":2,"rows":4,"RPM_boost":1.2,"material_fudge":1.3,"quality_fudge":1,"compressor_type":0,"compressor_count":0,"min_IAF":0,"upgrades":[false,false,false,false],"rarity":1},{"name":"Braun ULK 110hp","engine_type":0,"type":1,"era_sel":1,"displacement":8.8,"compression":4.3,"cyl_per_row":2,"rows":4,"RPM_boost":1.2,"material_fudge":1.2,"quality_fudge":1,"compressor_type":2,"compressor_count":1,"min_IAF":0,"upgrades":[false,false,false,false],"rarity":1},{"name":"Scholz Luchs X 110hp","engine_type":0,"type":1,"era_sel":1,"displacement":12.1,"compression":4.85,"cyl_per_row":5,"rows":2,"RPM_boost":0.8,"material_fudge":0.9,"quality_fudge":1.1,"compressor_type":0,"compressor_count":0,"min_IAF":0,"upgrades":[false,false,false,false],"rarity":1},{"name":"Braun UX 150hp","engine_type":0,"type":1,"era_sel":1,"displacement":13.2,"compression":4.3,"cyl_per_row":2,"rows":6,"RPM_boost":1.23,"material_fudge":1,"quality_fudge":1,"compressor_type":0,"compressor_count":0,"min_IAF":0,"upgrades":[false,false,false,false],"rarity":2},{"name":"Scholz Luchs III 30hp","engine_type":0,"type":1,"era_sel":1,"displacement":3.1,"compression":4.5,"cyl_per_row":3,"rows":1,"RPM_boost":1,"material_fudge":1.1,"quality_fudge":1,"compressor_type":0,"compressor_count":0,"min_IAF":0,"upgrades":[false,false,false,false],"rarity":1},{"name":"Scholz Luchs VI 60hp","engine_type":0,"type":1,"era_sel":1,"displacement":6.23,"compression":4.5,"cyl_per_row":3,"rows":2,"RPM_boost":1,"material_fudge":1.1,"quality_fudge":0.9,"compressor_type":0,"compressor_count":0,"min_IAF":0,"upgrades":[false,false,false,false],"rarity":1},{"name":"Breitbusch Libelle \'320hp\'","engine_type":0,"type":1,"era_sel":1,"displacement":22.78,"compression":4.42,"cyl_per_row":9,"rows":1,"RPM_boost":1.31,"material_fudge":1.1,"quality_fudge":0.3,"compressor_type":0,"compressor_count":0,"min_IAF":0,"upgrades":[false,false,false,false],"rarity":3}]},{"name":"Himmilgard Semi-Radial","engines":[{"name":"SLW Sigvird 180hp","engine_type":0,"type":4,"era_sel":1,"displacement":11,"compression":6,"cyl_per_row":4,"rows":1,"RPM_boost":1,"material_fudge":1,"quality_fudge":1.3,"compressor_type":2,"compressor_count":2,"min_IAF":0,"upgrades":[false,false,false,false],"rarity":3}]},{"name":"Himmilgard Rotary","engines":[{"name":"Modded Z12 110hp","engine_type":0,"type":2,"era_sel":1,"displacement":15,"compression":5,"cyl_per_row":9,"rows":1,"RPM_boost":0.8,"material_fudge":1,"quality_fudge":1,"compressor_type":1,"compressor_count":1,"min_IAF":0,"upgrades":[false,false,false,false],"rarity":2},{"name":"Robur Herausforderer 180hp","engine_type":0,"type":2,"era_sel":1,"displacement":18,"compression":5.5,"cyl_per_row":5,"rows":2,"RPM_boost":0.9,"material_fudge":1,"quality_fudge":1,"compressor_type":3,"compressor_count":1,"min_IAF":40,"upgrades":[false,false,true,true],"rarity":3},{"name":"Rhona Motorbau Z11 80hp","engine_type":0,"type":2,"era_sel":1,"displacement":10.9,"compression":4.5,"cyl_per_row":9,"rows":1,"RPM_boost":1,"material_fudge":1,"quality_fudge":1,"compressor_type":0,"compressor_count":0,"min_IAF":0,"upgrades":[false,false,false,false],"rarity":1},{"name":"Rhona Motorbau Z11tgl 100hp","engine_type":0,"type":2,"era_sel":1,"displacement":10.9,"compression":4.5,"cyl_per_row":9,"rows":1,"RPM_boost":1,"material_fudge":1,"quality_fudge":1,"compressor_type":2,"compressor_count":1,"min_IAF":20,"upgrades":[false,false,false,false],"rarity":1},{"name":"Rhona Motorbau Z12 110hp","engine_type":0,"type":2,"era_sel":1,"displacement":15,"compression":5,"cyl_per_row":9,"rows":1,"RPM_boost":0.8,"material_fudge":1,"quality_fudge":1,"compressor_type":0,"compressor_count":0,"min_IAF":0,"upgrades":[false,false,false,false],"rarity":1},{"name":"Schreiber B.IX 130hp","engine_type":0,"type":2,"era_sel":1,"displacement":16.2,"compression":4.8,"cyl_per_row":9,"rows":1,"RPM_boost":0.95,"material_fudge":1,"quality_fudge":1.1,"compressor_type":0,"compressor_count":0,"min_IAF":0,"upgrades":[false,false,false,false],"rarity":1},{"name":"Schreiber G.IX 110hp","engine_type":0,"type":2,"era_sel":1,"displacement":15.84,"compression":4.85,"cyl_per_row":9,"rows":1,"RPM_boost":0.8,"material_fudge":0.8,"quality_fudge":1,"compressor_type":0,"compressor_count":0,"min_IAF":0,"upgrades":[false,false,false,false],"rarity":1},{"name":"Schreiber O.VII 50hp","engine_type":0,"type":2,"era_sel":1,"displacement":8,"compression":4.85,"cyl_per_row":7,"rows":1,"RPM_boost":0.8,"material_fudge":1,"quality_fudge":1,"compressor_type":0,"compressor_count":0,"min_IAF":0,"upgrades":[false,false,false,false],"rarity":1},{"name":"Schreiber L.VII 80hp","engine_type":0,"type":2,"era_sel":1,"displacement":11.9,"compression":3.87,"cyl_per_row":7,"rows":1,"RPM_boost":1.2,"material_fudge":0.8,"quality_fudge":1,"compressor_type":0,"compressor_count":0,"min_IAF":0,"upgrades":[false,false,false,false],"rarity":1},{"name":"Schreiber TG.IX 130hp","engine_type":0,"type":2,"era_sel":1,"displacement":15.84,"compression":4.85,"cyl_per_row":9,"rows":1,"RPM_boost":0.8,"material_fudge":0.8,"quality_fudge":1,"compressor_type":2,"compressor_count":1,"min_IAF":20,"upgrades":[false,false,false,false],"rarity":1},{"name":"Schreiber T.IX 160hp","engine_type":0,"type":2,"era_sel":1,"displacement":16.2,"compression":4.8,"cyl_per_row":9,"rows":1,"RPM_boost":0.95,"material_fudge":1,"quality_fudge":1.1,"compressor_type":2,"compressor_count":1,"min_IAF":30,"upgrades":[false,false,false,false],"rarity":2},{"name":"W.O.1 150hp","engine_type":0,"type":2,"era_sel":1,"displacement":17.1,"compression":4.9,"cyl_per_row":9,"rows":1,"RPM_boost":1,"material_fudge":1,"quality_fudge":1,"compressor_type":0,"compressor_count":0,"min_IAF":0,"upgrades":[false,false,false,false],"rarity":2},{"name":"W.O.3 230hp","engine_type":0,"type":2,"era_sel":1,"displacement":24.93,"compression":5.2,"cyl_per_row":9,"rows":1,"RPM_boost":0.9,"material_fudge":0.8,"quality_fudge":1.2,"compressor_type":0,"compressor_count":0,"min_IAF":0,"upgrades":[false,false,false,false],"rarity":3}]}]}');class x{constructor(t){this.constant=!1,this.name=t,this.list=[];const e=window.localStorage.getItem("test.engines."+this.name);null!=e&&this.fromJSON(JSON.parse(e));const s=window.localStorage.getItem("test.engines_names");let i=[];s&&(i=JSON.parse(s));let a=!1;for(const e of i)if(e==t){a=!0;break}a||i.push(t),window.localStorage.setItem("test.engines_names",JSON.stringify(i))}toJSON(){const t=[];for(const e of this.list)t.push(e.toJSON());return{name:this.name,engines:t}}fromJSON(t,e=!1){t.name&&(this.name=t.name),e&&(this.list=[]);for(const s of t.engines)try{this.push(new G(s),e)}catch(t){console.error(t)}}deserializeEngine(t){if(this.constant)throw"Engine List is Constant";const e=new G;return e.deserialize(t),this.push(e)}push(t,e=!1){if(this.constant)throw"Engine List is Constant";if(e)this.remove(t);else for(let e=0;e<this.length;e++)if(this.list[e].Equal(t))return e;return this.list.push(t.Clone()),this.list=this.list.sort(((t,e)=>(""+t.name).localeCompare(e.name))),window.localStorage.setItem("test.engines."+this.name,JSON.stringify(this.toJSON())),this.find(t)}get(t){return t<0||t>=this.length?new G:this.list[t]}get_name(t){const e=this.find_name(t);return this.get(e)}get_stats(t){return t<0||t>=this.length?new R:this.list[t].PartStats()}get_stats_name(t){const e=this.find_name(t);return this.get_stats(e)}find(t){for(let e=0;e<this.length;e++)if(t.Equal(this.list[e]))return e;return-1}find_name(t){for(let e=0;e<this.length;e++)if(this.list[e].name==t)return e;return-1}remove(t){if(this.constant)throw"Engine List is Constant";const e=this.find(t);e>=0&&this.list.splice(e,1),window.localStorage.setItem("test.engines."+this.name,JSON.stringify(this.toJSON()))}remove_name(t){if(this.constant)throw"Engine List is Constant";const e=this.find_name(t);e>=0&&this.list.splice(e,1),window.localStorage.setItem("test.engines."+this.name,JSON.stringify(this.toJSON()))}get length(){return this.list.length}SetConstant(){this.constant=!0}}const F=new Map([["Custom",new x("Custom")]]);function T(){return F}function v(t){const e=T();for(const s of e.keys())if("Custom"!=s&&e.get(s).find_name(t)>=0)return s;return e.get("Custom").find_name(t)>=0?"Custom":""}var D,N,k,W,O;function L(t){return t==D.ORNITHOPTER_BASIC||t==D.ORNITHOPTER_FLUTTER||t==D.ORNITHOPTER_BUZZER}!function(t){t[t.AIRPLANE=0]="AIRPLANE",t[t.HELICOPTER=1]="HELICOPTER",t[t.AUTOGYRO=2]="AUTOGYRO",t[t.ORNITHOPTER_BASIC=3]="ORNITHOPTER_BASIC",t[t.ORNITHOPTER_FLUTTER=4]="ORNITHOPTER_FLUTTER",t[t.ORNITHOPTER_BUZZER=5]="ORNITHOPTER_BUZZER"}(D||(D={}));class H{FormatEquipment(t,e,s){return Math.abs(s)>.5?t.push({source:h(e),charge:s.toString()}):s>0&&s<1e-6&&t.push({source:h(e),charge:"-"}),t}}function U(t,e){for(let s=0;s<e.equipment.length;s++){let i=!1;for(let a=0;a<t.equipment.length;a++)if(t.equipment[a].source==e.equipment[s].source&&!isNaN(parseInt(t.equipment[a].charge))){t.equipment[a].charge=(parseInt(t.equipment[a].charge)+parseInt(e.equipment[s].charge)).toString(),i=!0;break}i||t.equipment.push(e.equipment[s])}return{storage:t.storage+e.storage,equipment:t.equipment}}class q extends H{constructor(){super();let t=JSON.parse(window.localStorage.getItem("test.CustomParts"));t||(t=[],window.localStorage.setItem("test.CustomParts",JSON.stringify([]))),this.custom_parts=[];for(const e of t)this.custom_parts.push({name:e.name,stats:new u(e.stats),qty:0})}toJSON(){const t=[],e=[];for(const s of this.custom_parts)e.push({name:s.name,stats:s.stats.toJSON(),qty:s.qty}),s.qty>0&&t.push({name:s.name,stats:s.stats.toJSON(),qty:s.qty});return window.localStorage.setItem("test.CustomParts",JSON.stringify(e)),{part_list:t}}fromJSON(t,e){for(const t of this.custom_parts)t.qty=0;for(const e of t.part_list){const t=this.custom_parts.findIndex((t=>t.name==e.name));-1==t?this.custom_parts.push({name:e.name,stats:new u(e.stats),qty:e.qty}):this.custom_parts[t].qty=e.qty}}serialize(t){const e=[];for(const t of this.custom_parts)t.qty>0&&e.push({name:t.name,stats:t.stats,qty:t.qty});t.PushNum(e.length);for(const s of e)t.PushString(s.name),s.stats.serialize(t),t.PushNum(s.qty)}deserialize(t){for(const t of this.custom_parts)t.qty=0;const e=t.GetNum();for(let i=0;i<e;i++){const e=t.GetString(),i=new u;i.deserialize(t);const a=t.GetNum();var s=this.custom_parts.findIndex((t=>t.name==e));-1==s?(s=this.custom_parts.length,this.custom_parts.push({name:e,stats:i,qty:a})):this.custom_parts[s].qty=a}}IsDefault(){for(const t of this.custom_parts)if(t.qty>0)return!1;return!0}ClearAll(){for(const t of this.custom_parts)t.qty=0}AddPart(t,e){var s=0;if(s+=Math.abs(e.drag),s+=Math.abs(e.mass),s+=Math.abs(e.wetmass),s+=Math.abs(e.bomb_mass),s+=Math.abs(e.cost),s+=Math.abs(e.upkeep),s+=Math.abs(e.liftbleed),s+=Math.abs(e.wingarea),s+=Math.abs(e.control),s+=Math.abs(e.pitchstab),s+=Math.abs(e.latstab),s+=Math.abs(e.maxstrain),s+=Math.abs(e.structure),s+=Math.abs(e.toughness),s+=Math.abs(e.power),s+=Math.abs(e.fuelconsumption),s+=Math.abs(e.fuel),s+=Math.abs(e.charge),s+=Math.abs(e.crashsafety),s+=Math.abs(e.visibility),s+=Math.abs(e.escape),s+=Math.abs(e.reliability),0==(s+=Math.abs(e.warnings.length)))return;const i=this.custom_parts.findIndex((e=>e.name==t));-1!=i?this.custom_parts[i].stats=e:this.custom_parts.push({name:t,stats:e,qty:0}),this.custom_parts.sort(((t,e)=>t.name.localeCompare(e.name))),this.CalculateStats()}RemovePart(t){const e=this.custom_parts.findIndex((e=>e.name==t));-1!=e&&this.custom_parts.splice(e,1),this.CalculateStats()}GetParts(){return this.custom_parts}SetUsedPart(t,e){this.custom_parts[t].qty=e,this.CalculateStats()}PartStats(){var t=new u;for(const e of this.custom_parts)if(e.qty>0){let s=e.stats.Clone();s=s.Multiply(e.qty),t=t.Add(s)}return t}GetElectrics(){var t=[];for(const e of this.custom_parts)e.qty>0&&(t=this.FormatEquipment(t,e.name,e.stats.charge));return{storage:0,equipment:t}}SetCalculateStats(t){this.CalculateStats=t}}class Q extends H{constructor(t){super(),this.selected=0,this.vals=[];for(const e of t.options){const t={name:e.name,maxbomb:e.maxbomb,cant_lift:e.cant_lift,stats:new u(e)};this.vals.push(t)}}toJSON(){return{selected:this.selected}}fromJSON(t,e){this.selected=t.selected,e<10.35&&this.selected>2&&this.selected++}serialize(t){t.PushNum(this.selected)}deserialize(t){this.selected=t.GetNum()}GetSelected(){return this.selected}GetSelectedText(){return this.vals[this.selected].name}SetSelected(t){this.selected=t,this.CalculateStats()}GetEraOptions(){return this.vals}GetLiftBleed(){return this.vals[this.selected].stats.liftbleed}GetMaxBomb(){return this.vals[this.selected].maxbomb}GetCantLift(){return this.vals[this.selected].cant_lift}PartStats(){var t=new u;return t.Add(this.vals[this.selected].stats)}SetCalculateStats(t){this.CalculateStats=t}GetElectrics(){return{storage:0,equipment:[]}}}class z extends H{constructor(t,e,s,i){super(),this.stats=new u,this.types=t,this.upgrades=e,this.safety=s,this.gunsights=i,this.selected_type=0,this.selected_upgrades=[...Array(this.upgrades.length).fill(!1)],this.selected_safety=[...Array(this.safety.length).fill(!1)],this.selected_gunsights=[...Array(this.gunsights.length).fill(!1)],this.total_stress=[0,0],this.total_escape=0,this.total_visibility=0,this.seat_index=0,this.bombsight=0,this.is_armed=!1}toJSON(){return{type:this.selected_type,upgrades:this.selected_upgrades,safety:this.selected_safety,sights:this.selected_gunsights,bombsight:this.bombsight}}fromJSON(t,e){this.selected_type=t.type,this.selected_upgrades=S(t.upgrades,this.selected_upgrades.length),this.selected_safety=S(t.safety,this.selected_safety.length),this.selected_gunsights=S(t.sights,this.selected_gunsights.length),this.IsPrimary()&&(this.selected_upgrades[0]=!1),e>10.35&&(this.bombsight=t.bombsight)}serialize(t){t.PushNum(this.selected_type),t.PushBoolArr(this.selected_upgrades),t.PushBoolArr(this.selected_safety),t.PushBoolArr(this.selected_gunsights),t.PushNum(this.bombsight)}deserialize(t){this.selected_type=t.GetNum(),this.selected_upgrades=t.GetBoolArr(this.selected_upgrades.length),this.selected_safety=t.GetBoolArr(this.selected_safety.length),this.selected_gunsights=t.GetBoolArr(this.selected_gunsights.length),this.IsPrimary()&&(this.selected_upgrades[0]=!1),t.version>10.35&&(this.bombsight=t.GetNum())}GetTypeList(){return this.types}GetUpgradeList(){return this.upgrades}GetSafetyList(){return this.safety}GetGunsightList(){return this.gunsights}GetType(){return this.selected_type}SetType(t){if(t>=this.types.length)throw"Selected type is not in range of actual types.";this.selected_type=t,this.CalculateStats()}GetSelectedUpgrades(){return this.selected_upgrades}SetUpgrade(t,e){if(t>=this.upgrades.length)throw"Selected type is not in range of actual upgrades.";this.selected_upgrades[t]=e,this.CalculateStats()}GetSelectedSafety(){return this.selected_safety}CanSafety(){const t=Array(this.safety.length).fill(!0);return t[5]=!this.types[this.selected_type].exposed,t}SetSafety(t,e){if(t>=this.safety.length)throw"Selected type is not in range of actual safties.";this.selected_safety[t]=e,this.CalculateStats()}GetSelectedGunsights(){return this.selected_gunsights}SetGunsight(t,e){if(t>=this.safety.length)throw"Selected type is not in range of actual gunsights.";this.selected_gunsights[t]=e,this.CalculateStats()}GetVisibility(){return this.types[this.selected_type].stats.visibility<-10?-1/0:this.total_visibility}GetFlightStress(){return this.total_stress}GetEscape(){return this.total_escape}GetCrash(){return this.total_crash}GetAttack(){var t=0;for(let e=0;e<this.gunsights.length;e++)this.selected_gunsights[e]&&(t=Math.max(t,this.gunsights[e].attack));return t}SetSeatIndex(t){this.seat_index=t}IsPrimary(){return 0==this.seat_index}CanUpgrades(){const t=[...Array(this.upgrades.length).fill(!0)];return this.IsPrimary()&&(t[0]=!1),t}IsOpen(){return"Open"==this.types[this.selected_type].name||"Windscreen"==this.types[this.selected_type].name}GetBombsightQuality(){return this.bombsight}SetBombsightQuality(t){t!=t&&(t=0),t==this.bombsight-1&&(t=this.bombsight-3),t==this.bombsight+1&&(t=this.bombsight+3),t<2&&(t=0),t>0&&(t=t-t%3+1),this.bombsight=t,this.CalculateStats()}SetHasRotary(t){this.has_rotary=t}IsElectrics(){return 0!=this.stats.charge}IsCopilot(){return this.selected_upgrades[0]}SetArmed(t){this.is_armed=t}GetName(){return this.IsPrimary()?"Crew Pilot":this.bombsight>0?"Crew Bombadier":this.IsCopilot()?"Crew Co-Pilot":this.is_armed?"Crew Gunner":"Crew Aircrew"}PartStats(){let t=new u;t.reqsections=1,t=t.Add(this.types[this.selected_type].stats);for(let e=0;e<this.selected_upgrades.length;e++)this.selected_upgrades[e]&&(t=t.Add(this.upgrades[e].stats));const e=this.CanSafety();for(let s=0;s<this.selected_safety.length;s++)e[s]||(this.selected_safety[s]=!1),this.selected_safety[s]&&(t=t.Add(this.safety[s].stats));for(let e=0;e<this.selected_gunsights.length;e++)this.selected_gunsights[e]&&(t=t.Add(this.gunsights[e].stats));return this.bombsight>0&&(t.cost+=Math.floor(2.000001+(this.bombsight-4)/3),t.warnings.push({source:h("Bombsight"),warning:h("Bombsight Warning 1")+this.bombsight.toString()+h("Bombsight Warning 2"),color:c.WHITE}),this.IsCopilot()&&t.warnings.push({source:h("Bombadier Controls"),warning:h("Bombadier Controls Warning"),color:c.WHITE})),this.stats=t.Clone(),this.selected_upgrades[0]?(t.flightstress=this.upgrades[0].stats.flightstress,this.stats.flightstress-=t.flightstress):t.flightstress=0,t}CrewUpdate(t,e,s,i,a,n){this.total_escape=this.stats.escape+t;let r=this.stats.flightstress,o=this.stats.flightstress;(this.IsPrimary()||this.selected_upgrades[0])&&(r+=e,o+=e-2*i),r=Math.max(0,r),o=Math.max(0,o),r+=s,o+=s,this.IsOpen()&&this.has_rotary&&(r+=1,o+=1),r=Math.max(0,r),o=Math.max(0,o),this.total_stress=[r,o],this.total_visibility=this.stats.visibility+a,this.total_crash=this.stats.crashsafety+n}SetCalculateStats(t){this.CalculateStats=t}GetElectrics(){var t=[];for(let e=0;e<this.upgrades.length;e++)if(this.selected_upgrades[e]){const s=this.upgrades[e];t=this.FormatEquipment(t,s.name,s.stats.charge)}for(let e=0;e<this.safety.length;e++)if(this.selected_safety[e]){const s=this.safety[e];t=this.FormatEquipment(t,s.name,s.stats.charge)}for(let e=0;e<this.gunsights.length;e++)if(this.selected_gunsights[e]){const s=this.gunsights[e];t=this.FormatEquipment(t,s.name,s.stats.charge)}return{storage:0,equipment:t}}}class j extends H{constructor(t){super(),this.positions=[],this.types=[];for(const e of t.options){let t={name:e.name,exposed:e.exposed,stats:new u(e)};this.types.push(t)}this.upgrades=[];for(const e of t.upgrades){let t={name:e.name,stats:new u(e)};this.upgrades.push(t)}this.safety=[];for(const e of t.safety){let t={name:e.name,stats:new u(e)};this.safety.push(t)}this.gunsights=[];for(const e of t.gunsights){let t={name:e.name,attack:e.attack,stats:new u(e)};this.gunsights.push(t)}}toJSON(){const t=[];for(const e of this.positions)t.push(e.toJSON());return{positions:t}}fromJSON(t,e){this.positions=[];for(const s of t.positions){let t=new z(this.types,this.upgrades,this.safety,this.gunsights);t.SetSeatIndex(this.positions.length),t.fromJSON(s,e),t.SetCalculateStats(this.CalculateStats),this.positions.push(t)}}serialize(t){t.PushNum(this.positions.length);for(const e of this.positions)e.serialize(t)}deserialize(t){const e=t.GetNum();this.positions=[];for(let s=0;s<e;s++){let e=new z(this.types,this.upgrades,this.safety,this.gunsights);e.SetSeatIndex(this.positions.length),e.deserialize(t),e.SetCalculateStats(this.CalculateStats),this.positions.push(e)}}GetAttackList(){const t=[];for(const e of this.positions)t.push(e.GetAttack());return t}GetVisibilityList(){const t=[];for(const e of this.positions)t.push(e.GetVisibility());return t}GetStressList(){const t=[];for(const e of this.positions)t.push(e.GetFlightStress());return t}GetEscapeList(){const t=[];for(const e of this.positions)t.push(e.GetEscape());return t}GetCrashList(){const t=[];for(const e of this.positions)t.push(e.GetCrash());return t}SetNumberOfCockpits(t){for((t!=t||t<1)&&(t=1),t=Math.floor(1e-6+t);this.positions.length>t;)this.positions.pop();var e=null;for(this.positions.length>0&&(e=JSON.stringify(this.positions[this.positions.length-1].toJSON()));this.positions.length<t;){let t=new z(this.types,this.upgrades,this.safety,this.gunsights);t.SetSeatIndex(this.positions.length),e&&t.fromJSON(JSON.parse(e),1e3),t.SetCalculateStats(this.CalculateStats),this.positions.push(t)}this.CalculateStats()}GetNumberOfCockpits(){return this.positions.length}GetCockpit(t){return this.positions[t]}SetHasRotary(t){for(const e of this.positions)e.SetHasRotary(t)}IsElectrics(){for(const t of this.positions)if(t.IsElectrics())return!0;return!1}PartStats(){var t=new u;let e=new Map;for(let s=0;s<this.positions.length;s++){let i=this.positions[s].PartStats();t=t.Add(i);for(const t of i.warnings){let i=e.get(t.source);i?(i.push(s+1),e.set(t.source,i)):e.set(t.source,[s+1])}}for(const s of t.warnings)s.source=h("Seats #",n.Join(",",e.get(s.source)))+" "+s.source;return t.escape=0,t.visibility=0,t.crashsafety=0,t}SetArmed(t){for(let e=0;e<this.positions.length;e++)this.positions[e].SetArmed(t[e])}UpdateCrewStats(t,e,s,i,a){let n=0;for(const t of this.positions)t.IsCopilot()&&(n+=1);for(const r of this.positions)r.CrewUpdate(t,e,s,n,i,a)}SetCalculateStats(t){this.CalculateStats=t}GetElectrics(){let t={storage:0,equipment:[]};for(const e of this.positions)t=U(t,e.GetElectrics());return t}}class J extends H{constructor(t){super(),this.seats=0,this.beds=0,this.connected=!1}toJSON(){return{seats:this.seats,beds:this.beds,connected:this.connected}}fromJSON(t,e){this.seats=t.seats,this.beds=t.beds,this.connected=t.connected}serialize(t){t.PushNum(this.seats),t.PushNum(this.beds),t.PushBool(this.connected)}deserialize(t){this.seats=t.GetNum(),this.beds=t.GetNum(),this.connected=t.GetBool()}IsDefault(){return 0==this.seats&&0==this.beds&&!this.connected}GetSeats(){return this.seats}SetSeats(t){(t!=t||t<0)&&(t=0),t=Math.floor(1e-6+t),this.seats=t,this.CalculateStats()}GetBeds(){return this.beds}SetBeds(t){(t!=t||t<0)&&(t=0),t=Math.floor(1e-6+t),this.beds=t,this.CalculateStats()}PossibleConnection(){return this.seats+this.beds>0}GetConnected(){return this.connected}SetConnected(t){this.connected=t,this.CalculateStats()}PartStats(){const t=new u;return t.reqsections=2*Math.ceil((this.seats+2*this.beds)/5-1e-6),this.seats+this.beds>0&&this.connected&&(t.mass=1),t.bomb_mass+=this.seats+this.beds,t.bomb_mass%5>0&&(t.bomb_mass+=5-t.bomb_mass%5),this.seats+this.beds>0&&t.warnings.push({source:h("Passengers Section Title"),warning:h("Passengers Count",this.seats,this.beds),color:c.WHITE}),t}SetCalculateStats(t){this.CalculateStats=t}GetElectrics(){return{storage:0,equipment:[]}}}class Y extends H{constructor(t,e){super();const s=T();if(this.elist_idx="Custom",this.etype_stats=s.get(this.elist_idx).get_stats(0),this.etype_inputs=s.get(this.elist_idx).get(0),this.cooling_count=this.etype_stats.stats.cooling,this.radiator_index=-1,this.cooling_count>0&&(this.radiator_index=0),this.num_radiators=0,this.mount_list=t,this.mount_sel=0,this.intake_fan=!1,this.use_pp=!1,this.torque_to_struct=!1,this.cowl_list=e,this.cowl_sel=0,this.use_ds=!1,this.outboard_prop=!1,this.gp_count=0,this.gpr_count=0,this.total_reliability=0,this.is_generator=!1,this.has_alternator=!1,s.get(this.elist_idx).length<=0)throw"No Engine Stats Found.  Should be at least one."}toJSON(){return{selected_stats:this.etype_stats.toJSON(),selected_inputs:this.etype_inputs.toJSON(),cooling_count:this.cooling_count,radiator_index:this.radiator_index,selected_mount:this.mount_sel,use_pushpull:this.use_pp,pp_torque_to_struct:this.torque_to_struct,use_driveshafts:this.use_ds,geared_propeller_ratio:this.gp_count,geared_propeller_reliability:this.gpr_count,cowl_sel:this.cowl_sel,is_generator:this.is_generator,has_alternator:this.has_alternator,intake_fan:this.intake_fan,outboard_prop:this.outboard_prop}}oldJSON(t,e){const s=t.selected_stats;if(this.etype_stats.fromJSON(s,e),this.etype_inputs=new G,this.etype_stats.pulsejet&&s.input_pj){this.etype_inputs=new G,this.etype_inputs.name=this.etype_stats.name,this.etype_inputs.engine_type=w.PULSEJET;const t=s.input_pj;this.etype_inputs.type=t.type,this.etype_inputs.power=t.power,this.etype_inputs.era_sel=t.era_sel,this.etype_inputs.quality_cost=t.quality_cost,this.etype_inputs.quality_rely=t.quality_rely,this.etype_inputs.starter=t.starter}else if(s.input_eb){this.etype_inputs.name=this.etype_stats.name,this.etype_inputs.engine_type=w.PROPELLER;const t=s.input_eb;this.etype_inputs.displacement=t.displacement,this.etype_inputs.compression=t.compression,this.etype_inputs.type=t.type,this.etype_inputs.cyl_per_row=t.cyl_per_row,this.etype_inputs.rows=t.rows,this.etype_inputs.RPM_boost=t.RPM_boost,this.etype_inputs.era_sel=t.era_sel,this.etype_inputs.material_fudge=t.material_fudge,this.etype_inputs.quality_fudge=t.quality_fudge,this.etype_inputs.upgrades=t.upgrades,6==this.etype_inputs.upgrades.length?(this.etype_stats.altitude=10*this.etype_stats.altitude-1,this.etype_inputs.upgrades[0]&&(this.etype_inputs.compressor_type=2,this.etype_inputs.compressor_count=1),this.etype_inputs.upgrades[1]&&(this.etype_inputs.compressor_type=3,this.etype_inputs.compressor_count=1),this.etype_inputs.upgrades.splice(0,2)):(this.etype_inputs.compressor_type=t.compressor_type,this.etype_inputs.compressor_count=t.compressor_count,this.etype_inputs.min_IdealAlt=t.min_IAF)}else this.etype_stats.altitude=10*this.etype_stats.altitude-1;return this.etype_inputs}fromJSON(t,e){const s=T();let i="";if(e>10.55){this.etype_stats.fromJSON(t.selected_stats,e);const a=new G(t.selected_inputs);i=v(this.etype_stats.name),""==i&&(i="Custom","Default"!=a.name&&s.get(i).push(a)),this.etype_stats=s.get(i).get_stats_name(this.etype_stats.name),this.etype_inputs=s.get(i).get_name(this.etype_stats.name)}else{const a=this.oldJSON(t,e);"Default"!=a.name&&(i=v(this.etype_stats.name),""==i&&(i="Custom",s.get(i).push(a)),this.etype_stats=s.get(i).get_stats_name(this.etype_stats.name),this.etype_inputs=s.get(i).get_name(this.etype_stats.name))}this.elist_idx=i,this.cooling_count=t.cooling_count,this.radiator_index=t.radiator_index,this.mount_sel=t.selected_mount,this.use_pp=t.use_pushpull,this.torque_to_struct=t.pp_torque_to_struct,this.use_ds=t.use_driveshafts,this.gp_count=t.geared_propeller_ratio,this.gpr_count=t.geared_propeller_reliability,this.cowl_sel=t.cowl_sel,this.is_generator=t.is_generator,this.has_alternator=t.has_alternator,this.intake_fan=t.intake_fan,this.outboard_prop=e>=12.15&&t.outboard_prop}serialize(t){this.etype_stats.serialize(t),this.etype_inputs.serialize(t),t.PushNum(this.cooling_count),t.PushNum(this.radiator_index),t.PushNum(this.mount_sel),t.PushBool(this.use_pp),t.PushBool(this.torque_to_struct),t.PushBool(this.use_ds),t.PushNum(this.gp_count),t.PushNum(this.gpr_count),t.PushNum(this.cowl_sel),t.PushBool(this.is_generator),t.PushBool(this.has_alternator),t.PushBool(this.intake_fan),t.PushBool(this.outboard_prop)}oldDeserialize(t){return this.etype_stats.name=t.GetString(),this.etype_stats.overspeed=t.GetNum(),this.etype_stats.altitude=t.GetNum(),this.etype_stats.torque=t.GetNum(),this.etype_stats.rumble=t.GetNum(),this.etype_stats.oiltank=t.GetBool(),this.etype_stats.pulsejet=t.GetBool(),this.etype_inputs=new G,t.version>10.45?(this.etype_inputs.name=this.etype_stats.name,this.etype_stats.pulsejet?(this.etype_inputs.engine_type=w.PULSEJET,this.etype_inputs.power=t.GetNum(),this.etype_inputs.type=t.GetNum(),this.etype_inputs.era_sel=t.GetNum(),this.etype_inputs.quality_cost=t.GetNum(),this.etype_inputs.quality_rely=t.GetNum(),this.etype_inputs.starter=t.GetBool()):(this.etype_inputs.displacement=t.GetNum(),this.etype_inputs.compression=t.GetNum(),this.etype_inputs.type=t.GetNum(),this.etype_inputs.cyl_per_row=t.GetNum(),this.etype_inputs.rows=t.GetNum(),this.etype_inputs.RPM_boost=t.GetNum(),this.etype_inputs.era_sel=t.GetNum(),this.etype_inputs.material_fudge=t.GetNum(),this.etype_inputs.quality_fudge=t.GetNum(),this.etype_inputs.upgrades=t.GetBoolArr(0),6==this.etype_inputs.upgrades.length?(this.etype_stats.altitude=10*this.etype_stats.altitude-1,this.etype_inputs.upgrades[0]&&(this.etype_inputs.compressor_type=2,this.etype_inputs.compressor_count=1),this.etype_inputs.upgrades[1]&&(this.etype_inputs.compressor_type=3,this.etype_inputs.compressor_count=1),this.etype_inputs.upgrades.splice(0,2)):(this.etype_inputs.compressor_type=t.GetNum(),this.etype_inputs.compressor_count=t.GetNum(),this.etype_inputs.min_IdealAlt=t.GetNum()))):this.etype_stats.altitude=10*this.etype_stats.altitude-1,this.etype_stats.stats.deserialize(t),this.etype_inputs}deserialize(t){const e=T();var s="";if(t.version>10.55){this.etype_stats.deserialize(t);const i=new G;i.deserialize(t),""==(s=v(this.etype_stats.name))&&(s="Custom","Default"!=i.name&&e.get(s).push(i)),this.etype_stats=e.get(s).get_stats_name(this.etype_stats.name),this.etype_inputs=e.get(s).get_name(this.etype_stats.name)}else{const i=this.oldDeserialize(t);"Default"!=i.name&&(""==(s=v(this.etype_stats.name))&&(s="Custom",e.get(s).push(i)),this.etype_stats=e.get(s).get_stats_name(this.etype_stats.name),this.etype_inputs=e.get(s).get_name(this.etype_stats.name))}this.cooling_count=t.GetNum(),this.radiator_index=t.GetNum(),this.mount_sel=t.GetNum(),this.use_pp=t.GetBool(),this.torque_to_struct=t.GetBool(),this.use_ds=t.GetBool(),this.gp_count=t.GetNum(),this.gpr_count=t.GetNum(),this.cowl_sel=t.GetNum(),this.is_generator=t.GetBool(),this.has_alternator=t.GetBool(),this.intake_fan=t.GetBool(),t.version>=12.15?this.outboard_prop=t.GetBool():this.outboard_prop=!1,this.elist_idx=s}GetMinAltitude(){return this.etype_inputs.min_IdealAlt}GetMaxAltitude(){return this.GetMinAltitude()+this.etype_stats.altitude}GetMinIAF(){return Math.floor(1e-6+this.GetMinAltitude()/10)}GetMaxIAF(){return Math.floor(1e-6+this.GetMaxAltitude()/10)}CanSelectIndex(){const t=T().get(this.elist_idx),e=[...Array(t.length).fill(!0)];if(this.is_internal)for(let s=0;s<t.length;s++)t.get(s).engine_type!=w.PULSEJET&&(t.get(s).engine_type!=w.TURBOMACHINERY||1!=t.get(s).type&&2!=t.get(s).type)||(e[s]=!1);return e}SetSelectedIndex(t){const e=T();this.etype_stats=e.get(this.elist_idx).get_stats(t),this.etype_inputs=e.get(this.elist_idx).get(t),this.use_pp?this.cooling_count=2*this.etype_stats.stats.cooling:this.cooling_count=this.etype_stats.stats.cooling,this.radiator_index<0&&(this.radiator_index=0),this.PulseJetCheck(),this.VerifyCowl(this.cowl_sel),this.CalculateStats()}GetSelectedIndex(){return T().get(this.elist_idx).find_name(this.etype_stats.name)}GetCurrentStats(){return this.etype_stats.Clone()}NeedCooling(){return this.etype_stats.stats.cooling>0}WarnCoolingReliability(){return this.cooling_count<this.etype_stats.stats.cooling}SetCooling(t){(t!=t||t<0)&&(t=0),t=Math.floor(1e-6+t),this.cooling_count=t,this.NeedCooling()&&(this.cooling_count=Math.max(1,this.cooling_count)),this.CalculateStats()}GetCooling(){return this.cooling_count}GetMaxCooling(){return this.use_pp?2*this.etype_stats.stats.cooling:this.etype_stats.stats.cooling}SetNumRadiators(t){this.num_radiators=t,this.radiator_index>=t&&(this.radiator_index=t-1),this.radiator_index<0&&t>0&&(this.radiator_index=0)}GetNumRadiators(){return this.num_radiators}SetRadiator(t){this.radiator_index=t,this.CalculateStats()}GetRadiator(){return this.radiator_index}CanIntakeFan(){return this.IsAirCooled()}SetIntakeFan(t){this.intake_fan=t,this.CalculateStats()}GetIntakeFan(){return this.intake_fan}CanOutboardProp(){return this.use_ds&&(this.IsTractor()||"Fuselage Push-Pull"==this.mount_list[this.mount_sel].name)}GetOutboardProp(){return this.outboard_prop}SetOutboardProp(t){t&&this.use_ds?this.outboard_prop=!0:this.outboard_prop=!1,this.CalculateStats()}SetSelectedList(t){t!=this.elist_idx&&(this.elist_idx=t,this.SetSelectedIndex(0))}GetSelectedList(){return this.elist_idx}GetListOfEngines(){return T().get(this.elist_idx)}RequiresExtendedDriveshafts(){return!this.is_internal&&this.mount_list[this.mount_sel].reqED}SetTailMods(t,e,s){!this.mount_list[this.mount_sel].reqTail||t||e||this.GetGenerator()||(this.use_ds=!0),!this.mount_list[this.mount_sel].reqED||this.GetGenerator()||s&&(t||e)||(this.use_ds=!0)}CanMountIndex(){var t=[...Array(this.mount_list.length).fill(!0)];if(this.is_internal)for(let e=0;e<t.length;++e)t[e]=this.mount_list[e].helicopter;else if(this.GetIsTurbine()&&!this.GetIsTurboprop())for(let e=0;e<t.length;++e)t[e]=this.mount_list[e].turbine;else if(this.is_generator)(t=[...Array(this.mount_list.length).fill(!1)])[0]=!0;else if(this.use_pp)for(let e=0;e<t.length;++e)"fuselage"==this.mount_list[e].mount_type&&"Fuselage Push-Pull"!=this.mount_list[e].name&&(t[e]=!1),this.mount_list[e].turbine&&(t[e]=!1);else for(let e=0;e<t.length;++e)"Fuselage Push-Pull"==this.mount_list[e].name&&(t[e]=!1),this.mount_list[e].turbine&&(t[e]=!1);return t}SetMountIndex(t){if(t>=this.mount_list.length)throw"Index outside of mount_list range.";this.mount_sel=t,this.mount_list[this.mount_sel].reqED&&this.SetUseExtendedDriveshaft(!0),this.CalculateStats()}GetMountIndex(){return this.GetIsPulsejet()?-1:this.mount_sel}CanUsePushPull(){return!(this.is_generator||this.GetIsJet()||this.is_internal||this.mount_list[this.mount_sel].helicopter)}SetUsePushPull(t){this.use_pp=t,t?(this.cooling_count*=2,"fuselage"==this.mount_list[this.mount_sel].mount_type&&(this.mount_sel=8)):(this.cooling_count=Math.floor(1e-6+this.cooling_count/2),"Fuselage Push-Pull"==this.mount_list[this.mount_sel].name&&(this.mount_sel=0)),this.CalculateStats()}GetUsePushPull(){return this.use_pp}GetMountList(){return this.mount_list}CanUseExtendedDriveshaft(){return!(0==this.GetNumPropellers()||this.is_internal||this.GetGenerator()||this.mount_list[this.mount_sel].helicopter)}SetUseExtendedDriveshaft(t){this.GetGenerator()||this.is_internal?this.use_ds=!1:this.use_ds=t,this.CalculateStats()}GetUseExtendedDriveshaft(){return this.use_ds}CanUseGears(){return!(0==this.GetNumPropellers()||this.GetGenerator())}SetGearCount(t){(t!=t||t<0)&&(t=0),t=Math.floor(1e-6+t),this.gp_count=t,this.SetGearReliability(this.gpr_count)}GetGearCount(){return this.gp_count}SetGearReliability(t){(t!=t||t<0)&&(t=0),t=Math.floor(1e-6+t),this.gpr_count=Math.min(t,this.gp_count),this.CalculateStats()}GetGearReliability(){return this.gpr_count}SetTorqueToStruct(t){this.torque_to_struct=t,this.use_pp||(this.torque_to_struct=!1),this.CalculateStats()}GetTorqueToStruct(){return this.torque_to_struct}CanTorqueToStruct(){return this.use_pp&&this.etype_stats.torque>0&&"pod"!=this.mount_list[this.mount_sel].mount_type}UpdateReliability(t){this.total_reliability=this.etype_stats.stats.reliability,this.total_reliability-=this.gp_count-this.gpr_count,this.total_reliability+=this.cowl_list[this.cowl_sel].stats.reliability,this.NeedCooling()&&(this.total_reliability-=this.GetMaxCooling()-this.cooling_count),this.GetIntakeFan()&&(this.total_reliability+=6),this.total_reliability+=t}GetReliability(){return this.use_pp?this.outboard_prop?this.total_reliability.toString()+"/"+(this.total_reliability-2).toString():this.total_reliability.toString()+"/"+this.total_reliability.toString():this.outboard_prop?(this.total_reliability-2).toString():this.total_reliability.toString()}GetOverspeed(){return this.is_generator?1e3:this.etype_stats.overspeed+Math.floor(1e-6+this.gp_count*this.etype_stats.overspeed/2)}GetIsPulsejet(){return this.etype_stats.pulsejet}GetIsJet(){return this.GetIsPulsejet()||this.GetIsTurbine()&&!this.GetIsTurboprop()}PulseJetCheck(){this.GetIsPulsejet()&&(this.use_pp=!1,this.use_ds=!1,this.gp_count=0,this.gpr_count=0,this.cooling_count=0,this.has_alternator=!1,this.is_generator=!1,this.cowl_sel=0,this.radiator_index=-1)}GetIsTurbine(){return this.etype_inputs.engine_type==w.TURBOMACHINERY}GetIsTurboprop(){return this.etype_inputs.engine_type==w.TURBOMACHINERY&&3==this.etype_inputs.type}TurbineCheck(){this.GetIsTurbine()&&(0==this.GetNumPropellers()&&(this.use_ds=!1,this.gp_count=0,this.gpr_count=0),this.cooling_count=0,this.cowl_sel=0,this.radiator_index=-1)}GetNumPropellers(){return!(this.GetIsPulsejet()||this.GetIsTurbine()||this.GetGenerator())||this.GetIsTurboprop()||this.is_internal?this.use_pp?2:1:0}GetIsTractorNacelle(){return this.GetNumPropellers()>0&&!this.GetUsePushPull()&&.8==this.mount_list[this.mount_sel].powerfactor&&!this.is_internal}IsLiquidCooled(){return this.NeedCooling()}IsRotary(){return this.etype_stats.oiltank}IsContraRotary(){return!this.GetIsPulsejet()&&!this.GetIsTurbine()&&""!=this.elist_idx&&3==this.etype_inputs.type}IsAirCooled(){return!(this.GetIsPulsejet()||this.GetIsTurbine()||this.IsLiquidCooled()||this.IsRotary())}GetCowlList(){return this.cowl_list}GetCowl(){return this.cowl_sel}GetCowlEnabled(){const t=[];for(const e of this.cowl_list)this.GetIsPulsejet()||this.GetIsTurbine()?t.push(e.air&&e.rotary&&e.liquid):this.IsLiquidCooled()?t.push(e.liquid):this.IsRotary()?t.push(e.rotary):t.push(e.air);return t}GetHasOilTank(){return this.etype_stats.oiltank}GetHasOilCooler(){return this.etype_stats.stats.cooling>0}GetHasOilPan(){return this.IsAirCooled()}VerifyCowl(t){const e=this.GetCowlEnabled();e[t]&&(this.cowl_sel=t),e[this.cowl_sel]||(this.cowl_sel=0)}SetCowl(t){this.VerifyCowl(t),this.CalculateStats()}GetGeneratorEnabled(){return!(this.GetIsPulsejet()||this.use_pp)}GetGenerator(){return this.is_generator}SetGenerator(t){this.GetGeneratorEnabled()?this.is_generator=t:this.is_generator=!1,this.is_generator&&(this.gp_count=0,this.gpr_count=0,this.use_ds=!1),this.CalculateStats()}GetAlternatorEnabled(){return!this.GetIsPulsejet()&&!this.is_generator&&this.etype_inputs.engine_type!=w.ELECTRIC}GetAlternator(){return this.has_alternator}SetAlternator(t){this.GetAlternatorEnabled()?this.has_alternator=t:this.has_alternator=!1,this.CalculateStats()}GetRumble(){return this.etype_stats.rumble}IsTractor(){return!(this.is_internal||this.GetGenerator()||"Tractor"!=this.mount_list[this.mount_sel].name&&"Center-Mounted Tractor"!=this.mount_list[this.mount_sel].name&&"Fuselage Push-Pull"!=this.mount_list[this.mount_sel].name)}GetTractorSpinner(){return{has:this.IsTractor()&&!(this.outboard_prop&&!this.use_pp),spinner:this.GetSpinner()}}IsPusher(){return!(this.is_internal||this.GetGenerator()||"Rear-Mounted Pusher"!=this.mount_list[this.mount_sel].name&&"Center-Mounted Pusher"!=this.mount_list[this.mount_sel].name&&"Fuselage Push-Pull"!=this.mount_list[this.mount_sel].name)}GetPusherSpinner(){return{has:this.IsPusher()&&!this.outboard_prop,spinner:this.GetSpinner()}}GetSpinner(){if(this.gp_count>0&&!this.GetGenerator()&&!this.outboard_prop){if(this.use_ds&&("Center-Mounted Tractor"==this.mount_list[this.mount_sel].name||"Center-Mounted Pusher"==this.mount_list[this.mount_sel].name||"Fuselage Push-Pull"==this.mount_list[this.mount_sel].name))return[!0,!0];if(!this.etype_stats.oiltank)return[!0,!1]}return[!1,!1]}IsElectrics(){return this.has_alternator||this.GetGenerator()}GetEngineHeight(){return this.GetGenerator()?5:"Pod"==this.mount_list[this.mount_sel].name||this.etype_stats.pulsejet||this.is_internal||this.outboard_prop?2:"Nacelle (Offset)"==this.mount_list[this.mount_sel].name?1:"Nacelle (Inside)"==this.mount_list[this.mount_sel].name||"Channel Tractor"==this.mount_list[this.mount_sel].name||"Wing Pod"==this.mount_list[this.mount_sel].name?0:-1}IsTractorRotary(){return!this.GetGenerator()&&this.IsRotary()&&("Tractor"==this.mount_list[this.mount_sel].name||"Fuselage Push-Pull"==this.mount_list[this.mount_sel].name)}IsDiesel(){return this.etype_inputs.upgrades[3]}SetCalculateStats(t){this.CalculateStats=t}SetInternal(t){this.is_internal=t,t&&(this.use_ds=!1)}VerifyMount(){if(this.GetIsTurbine()&&!this.GetIsTurboprop())for(;!this.mount_list[this.mount_sel].turbine;)this.mount_sel++;else if(this.GetIsPulsejet()){if("fuselage"==this.mount_list[this.mount_sel].mount_type)for(let t=0;t<this.mount_list.length&&(this.mount_sel=t,"fuselage"==this.mount_list[this.mount_sel].mount_type);t++);}else this.is_internal?this.CanMountIndex()[this.mount_sel]||(this.mount_sel=1):this.is_generator?this.mount_sel=0:this.mount_list[this.mount_sel].turbine&&(this.use_pp?this.mount_sel=8:this.mount_sel=0)}VerifyCooling(){this.NeedCooling()&&this.radiator_index<0?this.radiator_index=0:this.NeedCooling()||(this.radiator_index=-1)}ElectricCheck(){this.etype_inputs.engine_type==w.ELECTRIC&&(this.has_alternator=!1)}PartStats(){this.VerifyMount(),this.VerifyCooling(),this.PulseJetCheck(),this.TurbineCheck(),this.ElectricCheck(),this.CanUseExtendedDriveshaft()||(this.use_ds=!1),this.CanOutboardProp()||(this.outboard_prop=!1);let t=new u;t=t.Add(this.etype_stats.stats),t.upkeep=t.power/10,this.etype_stats.oiltank&&(t.mass+=1);var e=this.etype_stats.torque;return this.mount_list[this.mount_sel].helicopter&&(e=this.IsRotary()?Math.floor(1e-6+e/2):0),this.torque_to_struct?t.structure-=this.etype_stats.torque:"wing"==this.mount_list[this.mount_sel].mount_type?t.maxstrain-=this.etype_stats.torque:"fuselage"==this.mount_list[this.mount_sel].mount_type&&(t.latstab-=this.etype_stats.torque),this.IsContraRotary()&&(this.gp_count=Math.max(1,this.gp_count)),t.cost+=this.gp_count+this.gpr_count,this.gp_count>0&&t.era.push({name:"Propeller Gearing",era:"WWI"}),this.gpr_count>0&&t.era.push({name:"Reliable Gearing",era:"Roaring 20s"}),this.use_ds&&(t.mass+=1),t=t.Add(this.cowl_list[this.cowl_sel].stats),t.mass+=Math.floor(1e-6+t.drag*this.cowl_list[this.cowl_sel].mpd),t.drag=Math.floor(1e-6+t.drag*this.cowl_list[this.cowl_sel].ed),this.use_pp&&(t.power*=2,t.mass*=2,t.cooling*=2,t.fuelconsumption*=2,t.cost*=2,t.latstab*=2,t.structure*=2,t.maxstrain*=2,t.upkeep*=2,t.reqsections*=2,t.power=Math.floor(1e-6+this.mount_list[this.mount_sel].powerfactor*t.power)),"No Cowling"==this.cowl_list[this.cowl_sel].name||"Sealed Cowl"==this.cowl_list[this.cowl_sel].name||"Rear-Mounted Pusher"!=this.mount_list[this.mount_sel].name&&"Center-Mounted Pusher"!=this.mount_list[this.mount_sel].name&&"Center-Mounted Tractor"!=this.mount_list[this.mount_sel].name&&"Fuselage Push-Pull"!=this.mount_list[this.mount_sel].name||(t.cost+=2),this.IsAirCooled()&&this.intake_fan?(t.mass+=3,t.latstab*=2,t.structure*=2,t.maxstrain*=2,t.cost+=4,t.era.push({name:"Air Cooling Fan",era:"WWII"})):this.intake_fan=!1,this.GetHasOilCooler()&&(t.drag+=Math.floor(t.power/15)),this.GetIsPulsejet()?t.mass+=this.etype_stats.rumble:(t=t.Add(this.mount_list[this.mount_sel].stats),t.maxstrain-=Math.floor(1e-6+this.mount_list[this.mount_sel].strainfactor*this.etype_stats.stats.mass),t.drag+=Math.floor(1e-6+this.mount_list[this.mount_sel].dragfactor*this.etype_stats.stats.mass)),this.is_generator?(t.charge=Math.floor(1e-6+2*t.power/10)+2,t.power=0):this.has_alternator&&(t.charge=Math.floor(1e-6+t.power/10)+1,t.mass+=1,t.cost+=2),this.outboard_prop&&(t.drag+=3,this.use_pp&&(t.escape+=2)),t.pitchspeed=0,t.reliability=0,t}GetElectrics(){return{storage:0,equipment:[]}}}class K extends H{constructor(t,e,s){super(),this.need_cool=0,this.idx_type=1,this.idx_mount=1,this.idx_coolant=0,this.metal_area=0,this.engine_count=0,this.type_list=t,this.mount_list=e,this.coolant_list=s,this.harden_cool=!1}toJSON(){return{type:this.idx_type,mount:this.idx_mount,coolant:this.idx_coolant,harden_cool:this.harden_cool}}fromJSON(t,e){this.idx_type=t.type,this.idx_mount=t.mount,this.idx_coolant=t.coolant,e>10.85&&(this.harden_cool=t.harden_cool)}serialize(t){t.PushNum(this.idx_type),t.PushNum(this.idx_mount),t.PushNum(this.idx_coolant),t.PushBool(this.harden_cool)}derserialize(t){this.idx_type=t.GetNum(),this.idx_mount=t.GetNum(),this.idx_coolant=t.GetNum(),t.version>10.85&&(this.harden_cool=t.GetBool())}GetTypeList(){return this.type_list}GetMountList(){return this.mount_list}GetCoolantList(){return this.coolant_list}CanType(){const t=[...Array(this.type_list.length).fill(!0)];for(let e=0;e<this.type_list.length;e++)"Evaporation"==this.type_list[e].name&&this.metal_area<5*this.engine_count&&(t[e]=!1);return t}SetTypeIndex(t){this.idx_type=t,this.CalculateStats()}GetTypeIndex(){return this.idx_type}SetParasol(t){this.has_parasol=t,this.CanMount()[this.idx_mount]||(this.idx_mount=0)}CanMount(){const t=[...Array(this.mount_list.length).fill(!0)];for(let e=0;e<this.mount_list.length;e++)"High Offset"!=this.mount_list[e].name||this.has_parasol||(t[e]=!1);return t}SetMountIndex(t){this.CanMount()[t]&&(this.idx_mount=t,this.CalculateStats())}GetMountIndex(){return this.idx_mount}SetCoolantIndex(t){this.idx_coolant=t,this.CalculateStats()}GetCoolantIndex(){return this.idx_coolant}SetNeedCool(t,e){this.need_cool=t,this.engine_count=e}SetMetalArea(t){this.metal_area=t,this.CanType()[this.idx_type]||(this.idx_type=0)}GetHarden(){return this.harden_cool}SetHarden(t){this.harden_cool=t,this.CalculateStats()}VerifyHarden(){this.coolant_list[this.idx_coolant].harden&&(this.harden_cool=!0)}GetIsFlammable(){return this.coolant_list[this.idx_coolant].flammable}PartStats(){this.VerifyHarden();var t=new u;return t.mass=3,(t=(t=(t=t.Add(this.type_list[this.idx_type].stats)).Add(this.mount_list[this.idx_mount].stats)).Add(this.coolant_list[this.idx_coolant].stats)).drag+=Math.ceil(this.type_list[this.idx_type].dragpercool*(this.need_cool-t.cooling)-1e-6),this.harden_cool&&(t.cost+=2),t}SetCalculateStats(t){this.CalculateStats=t}GetElectrics(){return{storage:0,equipment:[]}}}class V extends H{constructor(t){super(),this.engines=[],this.radiators=[],this.mount_list=[];for(const e of t.mounts){const t={name:e.name,stats:new u(e),strainfactor:e.strainfactor,dragfactor:e.dragfactor,mount_type:e.location,powerfactor:e.powerfactor,reqED:!1,reqTail:!1,helicopter:e.helicopter,turbine:e.turbine};e.reqED&&(t.reqED=!0),e.reqTail&&(t.reqTail=!0),this.mount_list.push(t)}this.is_asymmetric=!1,this.r_type_list=[];for(const e of t["radiator-type"])this.r_type_list.push({name:e.name,stats:new u(e),dragpercool:e.dragpercool});this.r_mount_list=[];for(const e of t["radiator-mount"])this.r_mount_list.push({name:e.name,stats:new u(e)});this.r_coolant_list=[];for(const e of t["radiator-coolant"])this.r_coolant_list.push({name:e.name,harden:e.harden,flammable:e.flammable,stats:new u(e)});this.cowl_list=[];for(const e of t.cowling)this.cowl_list.push({name:e.name,stats:new u(e),ed:e.ed,mpd:e.mpd,air:e.air,liquid:e.liquid,rotary:e.rotary})}toJSON(){const t=[];for(const e of this.engines)t.push(e.toJSON());const e=[];for(const t of this.radiators)e.push(t.toJSON());return{engines:t,radiators:e,is_asymmetric:this.is_asymmetric}}fromJSON(t,e){this.radiators=[];for(const s of t.radiators){const t=new K(this.r_type_list,this.r_mount_list,this.r_coolant_list);t.fromJSON(s,e),t.SetCalculateStats(this.CalculateStats),this.radiators.push(t)}this.engines=[];for(const s of t.engines){const t=new Y(this.mount_list,this.cowl_list);t.fromJSON(s,e),t.SetCalculateStats(this.CalculateStats),this.engines.push(t),t.SetNumRadiators(this.GetNumberOfRadiators())}this.is_asymmetric=t.is_asymmetric}serialize(t){t.PushNum(this.engines.length);for(const e of this.engines)e.serialize(t);t.PushNum(this.radiators.length);for(const e of this.radiators)e.serialize(t);t.PushBool(this.is_asymmetric)}deserialize(t){const e=t.GetNum();this.engines=[];for(let s=0;s<e;s++){const e=new Y(this.mount_list,this.cowl_list);e.deserialize(t),e.SetCalculateStats(this.CalculateStats),this.engines.push(e)}const s=t.GetNum();this.radiators=[];for(let e=0;e<s;e++){const e=new K(this.r_type_list,this.r_mount_list,this.r_coolant_list);e.derserialize(t),e.SetCalculateStats(this.CalculateStats),this.radiators.push(e)}this.is_asymmetric=t.GetBool();for(const t of this.engines)t.SetNumRadiators(this.GetNumberOfRadiators())}GetHasOilTank(){for(const t of this.engines)if(t.GetCurrentStats().oiltank)return!0;return!1}GetReliabilityList(){var t=[];for(const e of this.engines)t.push(e.GetReliability());return t}GetMinIAF(){var t=0;for(const e of this.engines)t=Math.max(t,e.GetMinIAF());return t}GetMaxIAF(){var t=100;for(const e of this.engines)t=Math.min(t,e.GetMaxIAF());return t}GetMinAltitude(){var t=0;for(const e of this.engines)t=Math.max(t,e.GetMinAltitude());return t}GetMaxAltitude(){var t=1e3;for(const e of this.engines)t=Math.min(t,e.GetMaxAltitude());return t}SetNumberOfEngines(t){for((t!=t||t<0)&&(t=0),t=Math.floor(1e-6+t),t=Math.min(20,t);this.engines.length>t;)this.engines.pop();var e=null;for(this.engines.length>0&&(e=JSON.stringify(this.engines[this.engines.length-1].toJSON()));this.engines.length<t;){const t=new Y(this.mount_list,this.cowl_list);t.SetCalculateStats(this.CalculateStats),e&&t.fromJSON(JSON.parse(e),1e3),this.engines.push(t),t.SetNumRadiators(this.GetNumberOfRadiators())}this.CalculateStats()}GetNumberOfEngines(){let t=0;for(const e of this.engines)e.GetGenerator()||t++;return t}GetNumberOfItems(){return this.engines.length}GetEngine(t){return this.engines[t]}GetRadiator(t){return this.radiators[t]}SetNumberOfRadiators(t){for((t!=t||t<0)&&(t=0),t=Math.floor(1e-6+t);this.radiators.length>t;)this.radiators.pop();for(;this.radiators.length<t;){const t=new K(this.r_type_list,this.r_mount_list,this.r_coolant_list);t.SetCalculateStats(this.CalculateStats),this.radiators.push(t)}for(const e of this.engines)e.SetNumRadiators(t);this.CalculateStats()}GetNumberOfRadiators(){return 0==this.radiators.length&&this.NeedCooling()?this.SetNumberOfRadiators(1):this.radiators.length>0&&!this.NeedCooling()&&this.SetNumberOfRadiators(0),this.radiators.length}NeedCooling(){let t=!1;for(const e of this.engines)t=t||e.NeedCooling();return t}UpdateReliability(t){for(const e of this.engines){let s=new u;e.GetRadiator()<this.radiators.length&&e.GetRadiator()>=0&&(s=this.radiators[e.GetRadiator()].PartStats()),e.UpdateReliability(t.reliability+s.reliability)}}SetAsymmetry(t){this.is_asymmetric=t,this.CalculateStats()}GetAsymmetry(){return this.is_asymmetric}GetNumPropellers(){var t=0;for(const e of this.engines)t+=e.GetNumPropellers();return t}GetOverspeed(){let t=100;for(const e of this.engines)t=Math.min(t,e.GetOverspeed());return t}GetRumble(){var t=0;for(const e of this.engines)t+=e.GetRumble();return t}GetMaxRumble(){var t=0;for(const e of this.engines)t=Math.max(t,e.GetRumble());return t}GetTractorSpinner(){const t={have:!1,spin_count:0,arty_spin_count:0};for(const e of this.engines){const s=e.GetTractorSpinner();s.has&&(t.have=!0,s.spinner[0]&&t.spin_count++,s.spinner[1]&&t.arty_spin_count++)}return t}GetPusherSpinner(){const t={have:!1,spin_count:0,arty_spin_count:0};for(const e of this.engines){const s=e.GetPusherSpinner();s.has&&(t.have=!0,s.spinner[0]&&t.spin_count++,s.spinner[1]&&t.arty_spin_count++)}return t}IsElectrics(){for(const t of this.engines)if(t.IsElectrics())return!0;return!1}HaveParasol(t){for(const e of this.radiators)e.SetParasol(t)}SetMetalArea(t){for(const e of this.radiators)e.SetMetalArea(t)}SetTailMods(t,e,s){for(const i of this.engines)i.SetTailMods(t,e,s)}GetEngineHeight(){var t=2;for(const e of this.engines)t=Math.min(t,e.GetEngineHeight());return t}HasTractorRotary(){for(const t of this.engines)if(t.IsTractorRotary())return!0;return!1}SetInternal(t){for(const e of this.engines)e.SetInternal(t);if(t)for(const t of this.radiators)t.SetMetalArea(0),t.SetParasol(!1)}HasPulsejet(){for(const t of this.engines)if(t.GetIsPulsejet())return!0;return!1}HasTurbineNoProp(){for(const t of this.engines)if(t.GetIsTurbine()&&0==t.GetNumPropellers())return!0;return!1}HasDiesel(){for(const t of this.engines)if(t.IsDiesel())return!0;return!1}GetEngineTypes(){var t=[];for(const e of this.engines)e.GetNumPropellers()>0?t.push({type:A.PROPELLER,num:e.GetNumPropellers()}):e.GetIsPulsejet()?t.push({type:A.PULSEJET,num:0}):e.GetIsTurbine()&&t.push({type:A.TURBINE,num:e.GetCurrentStats().stats.pitchspeed});return t}GetIsFlammable(){for(const t of this.radiators)if(t.GetIsFlammable())return!0;return!1}PartStats(){var t=new u;const e=new Array(this.GetNumberOfRadiators()).fill(null).map((()=>({cool:0,count:0})));var s=0,i=100;for(const a of this.engines){const n=a.PartStats();t=t.Add(n),a.NeedCooling()&&(e[a.GetRadiator()].cool+=a.GetCooling(),e[a.GetRadiator()].count+=1),s+=a.GetCurrentStats().stats.cost,n.pitchspeed>0&&(i=Math.min(i,n.pitchspeed))}i<100&&(t.pitchspeed=i),t.upkeep=Math.floor(1e-6+Math.min(t.upkeep,s));let a=new u;const r=new Map;for(let t=0;t<this.radiators.length;t++){const s=this.radiators[t];s.SetNeedCool(e[t].cool,e[t].count);const i=s.PartStats();a=a.Add(i);for(const e of i.warnings){const s=r.get(e.source);s?(s.push(t+1),r.set(e.source,s)):r.set(e.source,[t+1])}}for(const t of a.warnings)t.source=h("Radiators #",n.Join(",",r.get(t.source)))+" "+t.source;t=t.Add(a),this.is_asymmetric&&(t.latstab-=3),this.HasPulsejet()&&t.warnings.push({source:h("Pulsejets"),warning:h("Pulsejet Boost Warning"),color:c.WHITE}),this.HasTurbineNoProp()&&t.warnings.push({source:h("Turbine"),warning:h("Turbine Boost Warning"),color:c.WHITE}),this.HasDiesel()&&t.warnings.push({source:h("Diesel"),warning:h("Diesel Warning"),color:c.WHITE});var o=0;for(const t of this.engines)t.IsRotary()&&(t.GetUsePushPull()&&t.GetTorqueToStruct()||(t.GetUsePushPull()&&t.IsTractor()?o+=2:t.IsTractor()?o++:t.IsPusher()&&o--));return o>0?t.warnings.push({source:h("Rotary"),warning:h("Rotary Right Warning"),color:c.WHITE}):o<0&&t.warnings.push({source:h("Rotary"),warning:h("Rotary Left Warning"),color:c.WHITE}),t.reliability=0,t}SetCalculateStats(t){this.CalculateStats=t}GetHasTractorNacelles(){let t=0;for(const e of this.engines)e.GetIsTractorNacelle()&&t++;return t>1}GetElectrics(){let t={storage:0,equipment:[]};for(let e=0;e<this.engines.length;e++){const s=this.engines[e].PartStats();0!=s.charge&&t.equipment.push({source:h("Vital Part Engine",e),charge:s.charge.toString()})}for(const e of this.radiators)t=U(t,e.GetElectrics());return t}}class Z extends H{constructor(t){super(),this.engines=[],this.idx_prop=2,this.prop_list=[];for(const e of t.props)this.prop_list.push({name:e.name,stats:new u(e),energy:e.energy,turn:e.turn});this.idx_upg=0,this.upg_list=[];for(const e of t.upgrades)this.upg_list.push({name:e.name,stats:new u(e),energy:e.energy,turn:e.turn})}toJSON(){return{type:this.idx_prop,upgrade:this.idx_upg}}fromJSON(t,e){this.idx_prop=t.type,e<11.35?(this.idx_upg=0,t.use_variable&&(this.idx_upg=1),5==this.idx_prop&&(this.idx_upg=2,this.idx_prop=2)):this.idx_upg=t.upgrade}serialize(t){t.PushNum(this.idx_prop),t.PushNum(this.idx_upg)}deserialize(t){this.idx_prop=t.GetNum(),t.version<11.35?(this.idx_upg=0,t.GetBool()&&(this.idx_upg=1),5==this.idx_prop&&(this.idx_upg=2,this.idx_prop=2)):this.idx_upg=t.GetNum()}GetPropList(){return this.prop_list}GetUpgradeList(){return this.upg_list}SetPropIndex(t){this.idx_prop=t,this.CalculateStats()}GetPropIndex(){return this.idx_prop}SetUpgradeIndex(t){this.idx_upg=t,this.CalculateStats()}GetUpgradeIndex(){return this.idx_upg}SetEngineTypes(t){this.engines=t}GetNumPropellers(){var t=0;for(const e of this.engines)e.type==A.PROPELLER&&(t+=e.num);return t}GetEnergy(){if(this.acft_type==D.HELICOPTER)return 2.5;if(this.acft_type==D.ORNITHOPTER_BASIC)return 6;if(this.acft_type==D.ORNITHOPTER_FLUTTER)return 8;if(this.acft_type==D.ORNITHOPTER_BUZZER)return 5;if(0==this.engines.length)return 2.5;var t=999;for(const e of this.engines)switch(e.type){case A.PROPELLER:t=Math.min(t,this.prop_list[this.idx_prop].energy+this.upg_list[this.idx_upg].energy);break;case A.PULSEJET:t=Math.min(t,4);break;case A.TURBINE:t=Math.min(t,9);break;default:throw"Not a known Engine Type."}return t}GetTurn(){if(this.acft_type==D.HELICOPTER)return 6;if(this.acft_type==D.ORNITHOPTER_BASIC)return 7;if(this.acft_type==D.ORNITHOPTER_FLUTTER)return 8;if(this.acft_type==D.ORNITHOPTER_BUZZER)return 5;if(0==this.engines.length)return 6;var t=999;for(const e of this.engines)switch(e.type){case A.PROPELLER:t=Math.min(t,this.prop_list[this.idx_prop].turn+this.upg_list[this.idx_upg].turn);break;case A.PULSEJET:t=Math.min(t,5);break;case A.TURBINE:t=Math.min(t,4);break;default:throw"Not a known Engine Type."}return t}SetAcftType(t){this.acft_type=t}PartStats(){var t=new u;if(0!=this.GetNumPropellers()&&(t=(t=t.Add(this.prop_list[this.idx_prop].stats.Multiply(this.GetNumPropellers()))).Add(this.upg_list[this.idx_upg].stats.Multiply(this.GetNumPropellers()))),this.acft_type==D.HELICOPTER)t.pitchboost=.6,t.pitchspeed=1;else if(this.acft_type==D.ORNITHOPTER_BASIC)t.pitchboost=.6,t.pitchspeed=.8;else if(this.acft_type==D.ORNITHOPTER_FLUTTER)t.pitchboost=.8,t.pitchspeed=.8;else if(this.acft_type==D.ORNITHOPTER_BUZZER)t.pitchboost=1,t.pitchspeed=.6;else if(0==this.engines.length)t.pitchboost=.6,t.pitchspeed=1;else{t.pitchboost=999,t.pitchspeed=999;for(const e of this.engines)switch(e.type){case A.PROPELLER:t.pitchboost=Math.min(t.pitchboost,this.prop_list[this.idx_prop].stats.pitchboost+this.upg_list[this.idx_upg].stats.pitchboost),t.pitchspeed=Math.min(t.pitchspeed,this.prop_list[this.idx_prop].stats.pitchspeed+this.upg_list[this.idx_upg].stats.pitchspeed);break;case A.PULSEJET:t.pitchboost=Math.min(t.pitchboost,.4),t.pitchspeed=Math.min(t.pitchspeed,1.1);break;case A.TURBINE:t.pitchboost=Math.min(t.pitchboost,.2),t.pitchspeed=Math.min(t.pitchspeed,e.num);break;default:throw"Not a known Engine Type."}}return t}SetCalculateStats(t){this.CalculateStats=t}GetElectrics(){return{storage:0,equipment:[]}}}class X extends H{constructor(t){super(),this.frame_list=[];for(const e of t.frames)this.frame_list.push({name:e.name,stats:new u(e),basestruct:e.basestructure,basecost:e.basecost,geodesic:e.geodesic});this.sel_skin=0,this.skin_list=[];for(const e of t.skin)this.skin_list.push({name:e.name,stats:new u(e),monocoque:e.monocoque,monocoque_structure:e.monocoque_structure,flammable:e.flammable,dragfactor:e.dragfactor,massfactor:e.massfactor});this.farman=!1,this.boom=!1,this.has_tractor_nacelles=!1,this.sel_tail=2,this.tail_list=[];for(const e of t.tail)this.tail_list.push({name:e.name,stats:new u(e)});this.flying_wing=!1,this.is_tandem=!1,this.section_list=[],this.tail_section_list=[],this.interal_bracing_count=0,this.SetRequiredSections(1)}toJSON(){return{sections:this.section_list,tail_sections:this.tail_section_list,tail_index:this.sel_tail,use_farman:this.farman,use_boom:this.boom,flying_wing:this.flying_wing,sel_skin:this.sel_skin}}fromJSON(t,e){this.section_list=[];for(const i of t.sections)(s={frame:i.frame,geodesic:i.geodesic,monocoque:i.monocoque,lifting_body:i.lifting_body,internal_bracing:i.internal_bracing}).monocoque&&s.lifting_body&&(s.monocoque=!1),this.section_list.push(s),e<10.25&&(this.sel_skin=i.skin);this.tail_section_list=[];for(const i of t.tail_sections){var s;(s={frame:i.frame,geodesic:i.geodesic,monocoque:i.monocoque,lifting_body:i.lifting_body,internal_bracing:i.internal_bracing}).monocoque&&s.lifting_body&&(s.monocoque=!1),this.tail_section_list.push(s),e<10.25&&(this.sel_skin=i.skin)}this.farman=t.use_farman,this.boom=t.use_boom,this.sel_tail=t.tail_index,this.flying_wing=t.flying_wing,e>10.25&&(this.sel_skin=t.sel_skin),this.interal_bracing_count=this.CountInternalBracing()}serialize(t){t.PushNum(this.section_list.length);for(let e=0;e<this.section_list.length;e++){const s=this.section_list[e];t.PushNum(s.frame),t.PushBool(s.geodesic),t.PushBool(s.monocoque),t.PushBool(s.lifting_body),t.PushBool(s.internal_bracing)}t.PushNum(this.tail_section_list.length);for(let e=0;e<this.tail_section_list.length;e++){const s=this.tail_section_list[e];t.PushNum(s.frame),t.PushBool(s.geodesic),t.PushBool(s.monocoque),t.PushBool(s.lifting_body),t.PushBool(s.internal_bracing)}t.PushNum(this.sel_tail),t.PushBool(this.farman),t.PushBool(this.boom),t.PushBool(this.flying_wing),t.PushNum(this.sel_skin)}deserialize(t){const e=t.GetNum();this.section_list=[];for(let s=0;s<e;s++){let e={frame:0,skin:0,geodesic:!1,monocoque:!1,lifting_body:!1,internal_bracing:!1};e.frame=t.GetNum(),t.version<10.25&&(this.sel_skin=t.GetNum()),e.geodesic=t.GetBool(),e.monocoque=t.GetBool(),e.lifting_body=t.GetBool(),e.internal_bracing=t.GetBool(),e.monocoque&&e.lifting_body&&(e.monocoque=!1),this.section_list.push(e)}const s=t.GetNum();this.tail_section_list=[];for(let e=0;e<s;e++){let e={frame:0,skin:0,geodesic:!1,monocoque:!1,lifting_body:!1,internal_bracing:!1};e.frame=t.GetNum(),t.version<10.25&&(this.sel_skin=t.GetNum()),e.geodesic=t.GetBool(),e.monocoque=t.GetBool(),e.lifting_body=t.GetBool(),e.internal_bracing=t.GetBool(),e.monocoque&&e.lifting_body&&(e.monocoque=!1),this.tail_section_list.push(e)}this.sel_tail=t.GetNum(),this.farman=t.GetBool(),this.boom=t.GetBool(),this.flying_wing=t.GetBool(),t.version>10.25&&(this.sel_skin=t.GetNum()),this.interal_bracing_count=this.CountInternalBracing()}DuplicateSection(t,e=1){const s=this.section_list[t],i={frame:s.frame,geodesic:s.geodesic,monocoque:s.monocoque,lifting_body:s.lifting_body,internal_bracing:s.internal_bracing};if(i.internal_bracing){if(this.CountSections()+this.tail_section_list.length==this.interal_bracing_count)return;this.interal_bracing_count+=e}for(let s=0;s<e;s++)this.section_list.splice(t,0,i);this.CalculateStats()}DuplicateTailSection(t,e=1){const s=this.tail_section_list[t],i={frame:s.frame,geodesic:s.geodesic,monocoque:s.monocoque,lifting_body:s.lifting_body,internal_bracing:s.internal_bracing};if(!i.internal_bracing||this.CountSections()!=this.interal_bracing_count){for(let s=0;s<e;s++)this.tail_section_list.splice(t,0,i);this.CalculateStats()}}DeleteSection(t){if(this.required_sections!=this.CountSections()||this.section_list[t].internal_bracing){if(this.section_list[t].internal_bracing&&this.interal_bracing_count--,this.section_list.splice(t,1),this.interal_bracing_count>this.CountSections()+this.tail_section_list.length)for(let t=this.section_list.length-1;t>=0;t--)if(this.section_list[t].internal_bracing){this.interal_bracing_count--,this.section_list.splice(t,1);break}this.CalculateStats()}}SetRequiredSections(t){if(this.required_sections=t,this.required_sections>this.CountSections()&&(0==this.section_list.length&&this.section_list.push({frame:0,geodesic:!1,monocoque:!1,lifting_body:!1,internal_bracing:!1}),this.required_sections-this.CountSections()>0))for(let t=this.section_list.length-1;t>=0;t--)if(!this.section_list[t].internal_bracing)return void this.DuplicateSection(t,this.required_sections-this.CountSections())}SetRequiredTailSections(t){for(t>this.tail_section_list.length&&(0==this.tail_section_list.length&&this.tail_section_list.push({frame:0,geodesic:!1,monocoque:!1,lifting_body:!1,internal_bracing:!1}),t-this.tail_section_list.length>0&&this.DuplicateTailSection(this.tail_section_list.length-1,t-this.tail_section_list.length));t<this.tail_section_list.length;)this.tail_section_list.pop();for(;this.CountSections()+t<this.interal_bracing_count;){let t=this.section_list.length-1;for(;t>0&&!this.section_list[t].internal_bracing;t--);this.DeleteSection(t)}this.CalculateStats()}CountSections(){return this.section_list.length-this.interal_bracing_count}GetNumFrames(){return this.CountSections()+this.tail_section_list.length}CountInternalBracing(){var t=0;for(const e of this.section_list)e.internal_bracing&&t++;return t}BaseType(){const t=[...Array(this.frame_list.length).fill(0)];for(const e of this.section_list)e.internal_bracing||t[e.frame]++;for(const e of this.tail_section_list)e.internal_bracing||t[e.frame]++;var e=0,s=0;for(let i=t.length-1;i>=0;i--)t[i]>s&&(s=t[i],e=i);return e}GetFrameList(){return this.frame_list}GetSkinList(){return this.skin_list}GetSectionList(){return this.section_list}SetFrame(t,e){this.section_list[t].frame=e,this.frame_list[e].geodesic||(this.section_list[t].geodesic=!1),this.CalculateStats()}SetGeodesic(t,e){this.frame_list[this.section_list[t].frame].geodesic&&(this.section_list[t].geodesic=e,this.CalculateStats())}SetMonocoque(t,e){this.skin_list[this.sel_skin].monocoque&&(this.section_list[t].monocoque=e,this.CalculateStats())}SetLiftingBody(t,e){this.skin_list[this.sel_skin].monocoque&&(this.section_list[t].lifting_body=e,this.CalculateStats())}SetInternalBracing(t,e){e&&!this.section_list[t].internal_bracing&&this.PossibleInternalBracing(!0)&&this.CountSections()>this.required_sections?(this.section_list[t].internal_bracing=!0,this.section_list[t].monocoque=!1,this.section_list[t].lifting_body=!1,this.interal_bracing_count++,this.CalculateStats()):e||(this.section_list[t].internal_bracing=!1,this.interal_bracing_count--,this.CalculateStats())}PossibleInternalBracing(t=!1){var e=this.CountSections();return this.farman||(e+=this.tail_section_list.length),t&&(e-=1),this.interal_bracing_count+1<=e}PossibleGeodesic(t){return this.frame_list[this.section_list[t].frame].geodesic&&!this.section_list[t].monocoque}PossibleMonocoque(t){return this.skin_list[this.sel_skin].monocoque&&!this.section_list[t].internal_bracing&&!this.section_list[t].lifting_body}PossibleLiftingBody(t){return this.skin_list[this.sel_skin].monocoque&&!this.section_list[t].internal_bracing&&!this.section_list[t].monocoque}PossibleTailGeodesic(t){return this.frame_list[this.tail_section_list[t].frame].geodesic&&!this.tail_section_list[t].monocoque}PossibleTailMonocoque(t){return this.skin_list[this.sel_skin].monocoque&&!this.farman&&!this.tail_section_list[t].lifting_body}PossibleTailLiftingBody(t){return this.skin_list[this.sel_skin].monocoque&&!this.farman&&!this.tail_section_list[t].monocoque}PossibleRemoveSections(){return this.CountSections()>this.required_sections}GetFarmanOrBoom(){return this.farman||this.boom}SectionStats(t){var e=new u;return e=e.Add(this.frame_list[t.frame].stats),t.geodesic&&(e.structure*=1.5,e.cost*=2,e.era.push({name:"Geodesic",era:"Coming Storm"})),t.lifting_body&&(e.wingarea+=3),t.internal_bracing||(e.drag+=4,t.monocoque&&(e.mass=0,e.cost+=1,e.structure=this.skin_list[this.sel_skin].monocoque_structure),e=e.Add(this.skin_list[this.sel_skin].stats)),e}TailSectionStats(t){var e=new u;return e=e.Add(this.frame_list[t.frame].stats),t.geodesic&&(e.structure*=1.5,e.cost*=2,e.era.push({name:"Geodesic",era:"Coming Storm"})),t.lifting_body&&(e.wingarea+=3),e.drag+=4,this.farman||(t.monocoque&&(e.mass=0,e.cost+=1,e.structure=this.skin_list[this.sel_skin].monocoque_structure),e=e.Add(this.skin_list[this.sel_skin].stats)),e}CountMainLiftingBody(){var t=0;for(const e of this.section_list)e.lifting_body&&t++;return t}CountTailLiftingBody(){var t=0;for(const e of this.tail_section_list)e.lifting_body&&t++;return t}CountLiftingBody(){return this.CountMainLiftingBody()+this.CountTailLiftingBody()}SetIsTandem(t){this.is_tandem!=t&&(this.is_tandem=t,this.SetTailType(this.sel_tail))}SetTailType(t){0==this.tail_list[t].stats.reqsections&&this.is_tandem&&t++,this.sel_tail=t,this.SetRequiredTailSections(this.tail_list[t].stats.reqsections)}GetTailType(){return this.sel_tail}GetTailList(){return this.tail_list}GetTailSectionList(){return this.tail_section_list}SetUseFarman(t){if(this.farman=t,t&&this.boom&&(this.boom=!1),this.farman)for(const t of this.tail_section_list)t.monocoque=!1,t.lifting_body=!1;this.CalculateStats()}GetUseFarman(){return this.farman}SetUseBoom(t){this.boom=t,t&&this.farman&&(this.farman=!1),this.CalculateStats()}GetUseBoom(){return this.boom}SetTailFrame(t,e){this.tail_section_list[t].frame=e,this.frame_list[e].geodesic||(this.tail_section_list[t].geodesic=!1),this.CalculateStats()}SetTailGeodesic(t,e){this.frame_list[this.tail_section_list[t].frame].geodesic&&(this.tail_section_list[t].geodesic=e,this.CalculateStats())}SetTailMonocoque(t,e){this.skin_list[this.sel_skin].monocoque&&!this.farman&&(this.tail_section_list[t].monocoque=e,this.CalculateStats())}SetTailLiftingBody(t,e){this.skin_list[this.sel_skin].monocoque&&!this.farman&&(this.tail_section_list[t].lifting_body=e,this.CalculateStats())}SetHasTractorNacelles(t){this.has_tractor_nacelles=t}GetHasTractorNacelles(){return this.has_tractor_nacelles}CanFlyingWing(){for(const t of this.section_list)if(t.lifting_body)return!0;for(const t of this.tail_section_list)if(t.lifting_body)return!0;return!1}GetFlyingWing(){return this.flying_wing}SetFlyingWing(t){t&&this.CanFlyingWing()?this.flying_wing=!0:this.flying_wing=!1,this.CalculateStats()}GetIsTailless(){return 0==this.tail_section_list.length}SetAllFrame(t){for(const e of this.section_list)e.frame=t,this.frame_list[t].geodesic||(e.geodesic=!1);for(const e of this.tail_section_list)e.frame=t,this.frame_list[t].geodesic||(e.geodesic=!1);this.CalculateStats()}SetAllSkin(t){this.sel_skin=t;for(const e of this.section_list)e.internal_bracing||this.skin_list[t].monocoque||(e.monocoque=!1,e.lifting_body=!1);for(const e of this.tail_section_list)e.internal_bracing||this.skin_list[t].monocoque||(e.monocoque=!1,e.lifting_body=!1);this.CalculateStats()}GetArmor(){return"Dragon Skin"==this.skin_list[this.sel_skin].name?5:0}GetIsFlammable(){return!!this.skin_list[this.sel_skin].flammable}GetSkin(){return this.sel_skin}CanCutout(){let t=this.section_list.length*this.skin_list[this.sel_skin].stats.visibility;return this.farman?t+=this.tail_section_list.length:t+=this.tail_section_list.length*this.skin_list[this.sel_skin].stats.visibility,t<3}SetCalculateStats(t){this.CalculateStats=t}PartStats(){this.CanFlyingWing()||(this.flying_wing=!1);var t=new u;const e=this.BaseType();t.structure=this.frame_list[e].basestruct,t.cost=this.frame_list[e].basecost;var s=this.skin_list[this.sel_skin].monocoque_structure<0;for(const e of this.section_list)t=t.Add(this.SectionStats(e)),s=s&&(e.internal_bracing||e.monocoque);var i=new u;for(const t of this.tail_section_list)i=i.Add(this.TailSectionStats(t)),this.farman||(s=s&&(t.internal_bracing||t.monocoque));s&&(t.structure+=30),t=t.Add(this.tail_list[this.sel_tail].stats),this.boom&&(i.maxstrain-=i.mass,this.has_tractor_nacelles||(i.drag=Math.floor(1e-6+1.5*i.drag))),this.farman?(t.drag*=this.skin_list[this.sel_skin].dragfactor,t.mass*=this.skin_list[this.sel_skin].massfactor,t.visibility+=this.tail_section_list.length,i.mass=Math.floor(1e-6+.5*i.mass),t=t.Add(i)):((t=t.Add(i)).drag*=this.skin_list[this.sel_skin].dragfactor,t.mass*=this.skin_list[this.sel_skin].massfactor);const a=this.CountLiftingBody();return t.cost+=a,this.flying_wing?t.liftbleed+=5:t.drag+=a,this.PossibleRemoveSections()&&this.CountMainLiftingBody()<this.CountSections()&&t.warnings.push({source:h("Frame Count"),warning:h("Frame Count Warning"),color:c.YELLOW}),t.structure=Math.floor(1e-6+t.structure),t.cost=Math.floor(1e-6+t.cost),t.visibility=Math.min(t.visibility,3),t.Round(),t}GetElectrics(){return{storage:0,equipment:[]}}}!function(t){t[t.PARASOL=0]="PARASOL",t[t.SHOULDER=1]="SHOULDER",t[t.MID=2]="MID",t[t.LOW=3]="LOW",t[t.GEAR=4]="GEAR"}(N||(N={}));class $ extends H{constructor(t){super(),this.skin_list=[];for(const e of t.surface)this.skin_list.push({name:e.name,flammable:e.flammable,stats:new u(e),strainfactor:e.strainfactor,dragfactor:e.dragfactor,metal:e.metal,transparent:e.transparent});this.stagger_list=[];for(const e of t.stagger)this.stagger_list.push({name:e.name,inline:e.inline,wing_count:e.wing_count,hstab:e.hstab,stats:new u(e)});this.deck_list=[];for(const e of t.decks)this.deck_list.push({name:e.name,limited:e.limited,stats:new u(e)});this.long_list=[];for(const e of t.largest)this.long_list.push({dragfactor:e.dragfactor,stats:new u(e)});this.wing_list=[],this.mini_wing_list=[],this.wing_stagger=Math.floor(1e-6+this.stagger_list.length/2),this.is_swept=!1,this.is_closed=!1,this.rotor_span=0}toJSON(){return{wing_list:this.wing_list,mini_wing_list:this.mini_wing_list,wing_stagger:this.wing_stagger,is_swept:this.is_swept,is_closed:this.is_closed}}fromJSON(t,e){if(e>11.15)this.wing_list=t.wing_list,this.mini_wing_list=t.mini_wing_list;else{const e=t.wing_list;this.wing_list=this.OldtoNew(e);const s=t.mini_wing_list;this.mini_wing_list=this.OldtoNew(s)}this.wing_stagger=t.wing_stagger,this.is_swept=t.is_swept,this.is_closed=t.is_closed}OldtoNew(t){const e=[];for(const s of t)e.push({surface:s.surface,area:s.area,span:s.span,anhedral:s.anhedral,dihedral:s.dihedral,gull:!1,deck:s.deck});return e}serialize(t){t.PushNum(this.wing_list.length);for(let e=0;e<this.wing_list.length;e++){const s=this.wing_list[e];t.PushNum(s.surface),t.PushNum(s.area),t.PushNum(s.span),t.PushNum(s.dihedral),t.PushNum(s.anhedral),t.PushBool(s.gull),t.PushNum(s.deck)}t.PushNum(this.mini_wing_list.length);for(let e=0;e<this.mini_wing_list.length;e++){const s=this.mini_wing_list[e];t.PushNum(s.surface),t.PushNum(s.area),t.PushNum(s.span),t.PushNum(s.dihedral),t.PushNum(s.anhedral),t.PushBool(s.gull),t.PushNum(s.deck)}t.PushNum(this.wing_stagger),t.PushBool(this.is_swept),t.PushBool(this.is_closed)}deserialize(t){const e=t.GetNum();this.wing_list=[];for(let s=0;s<e;s++){const e={surface:0,area:0,span:0,anhedral:0,dihedral:0,gull:!1,deck:0};e.surface=t.GetNum(),e.area=t.GetNum(),e.span=t.GetNum(),t.version>11.15?(e.dihedral=t.GetNum(),e.anhedral=t.GetNum(),e.gull=t.GetBool()):(e.dihedral=t.GetNum(),e.anhedral=t.GetNum(),e.gull=!1),e.deck=t.GetNum(),this.wing_list.push(e)}const s=t.GetNum();this.mini_wing_list=[];for(let e=0;e<s;e++){const e={surface:0,area:0,span:0,anhedral:0,dihedral:0,gull:!1,deck:0};e.surface=t.GetNum(),e.area=t.GetNum(),e.span=t.GetNum(),t.version>11.15?(e.dihedral=t.GetNum(),e.anhedral=t.GetNum(),e.gull=t.GetBool()):(e.dihedral=t.GetNum(),e.anhedral=t.GetNum(),e.gull=!1),e.deck=t.GetNum(),this.mini_wing_list.push(e)}this.wing_stagger=t.GetNum(),this.is_swept=t.GetBool(),this.is_closed=t.GetBool()}SetRotorSpan(t){this.rotor_span=t}GetWingList(){return this.wing_list}GetMiniWingList(){return this.mini_wing_list}GetSkinList(){return this.skin_list}GetStaggerList(){return this.stagger_list}GetDeckList(){return this.deck_list}DeckCountFull(){const t=[...Array(this.deck_list.length).fill(0)];for(const e of this.wing_list)t[e.deck]++;return t}DeckCountMini(){const t=[...Array(this.deck_list.length).fill(0)];for(const e of this.mini_wing_list)t[e.deck]++;return t}CanStagger(){const t=[...Array(this.stagger_list.length).fill(!1)];if(this.acft_type==D.ORNITHOPTER_FLUTTER)this.wing_list.length>1?t[1]=!0:t[0]=!0;else{if(this.wing_list.length>1)for(let e=1;e<this.stagger_list.length;e++)t[e]=!0;1==this.wing_list.length&&(t[0]=!0)}return t}SetAcftType(t){this.acft_type=t,t==D.ORNITHOPTER_FLUTTER&&(this.wing_list.length>1?this.wing_stagger=1:this.wing_stagger=0)}SetStagger(t){for(this.wing_stagger=t;this.stagger_list[t].wing_count<this.wing_list.length;)this.wing_list.pop();if(!this.stagger_list[t].inline){const t=this.DeckCountFull();for(let e=this.wing_list.length-1;e>=0;e--){const s=this.wing_list[e];t[s.deck]>1&&this.deck_list[s.deck].limited&&(t[s.deck]--,this.wing_list.splice(e,1))}}this.CalculateStats()}GetStagger(){return this.wing_list.length>0?this.wing_stagger:-1}CanAddFullWing(t){if(t>=this.deck_list.length&&console.log("Deck out of Bounds"),!this.stagger_list[this.wing_stagger].inline){if(t==N.SHOULDER&&this.HasPolishWing())return!1;if(this.DeckCountFull()[t]==N.SHOULDER&&this.deck_list[t].limited)return!1}return 0==this.DeckCountMini()[t]}CanAddMiniWing(t){const e=this.DeckCountFull(),s=this.DeckCountMini();return 0==e[t]&&0==s[t]}CanMoveFullWing(t,e){const s=this.wing_list[t];this.wing_list.splice(t,1);const i=this.CanAddFullWing(e);return this.wing_list.splice(t,0,s),i}CanMoveMiniWing(t,e){const s=this.mini_wing_list[t];this.mini_wing_list.splice(t,1);const i=this.CanAddMiniWing(e);return this.mini_wing_list.splice(t,0,s),i}GetWingHeight(){let t=0;for(const e of this.wing_list)t=Math.max(t,4-e.deck);return t}CanClosed(){return this.wing_list.length>1}SetClosed(t){this.wing_list.length>0?this.is_closed=t:this.is_closed=!1,this.CalculateStats()}GetClosed(){return this.is_closed}CanSwept(){return this.wing_list.length>0}SetSwept(t){this.wing_list.length>0?this.is_swept=t:this.is_swept=!1,this.CalculateStats()}GetSwept(){return this.is_swept}GetTandem(){return this.stagger_list[this.wing_stagger].inline&&this.wing_list.length>1}GetMonoplane(){return 1==this.wing_list.length}GetStaggered(){return 0!=this.stagger_list[this.wing_stagger].stats.liftbleed}SetFullWing(t,e){this.wing_list.length!=t&&this.wing_list.splice(t,1),e.area!=e.area&&(e.area=3),e.area=Math.floor(1e-6+e.area),e.span!=e.span&&(e.span=1),e.span=Math.floor(1e-6+e.span),e.deck>=0&&(e.area=Math.max(e.area,3),e.span=Math.max(e.span,1),this.CanAddFullWing(e.deck)&&this.wing_list.splice(t,0,e)),this.wing_list.length>1&&0==this.wing_stagger?this.wing_stagger=4:this.wing_list.length<=1&&(this.wing_stagger=0),e.dihedral=Math.min(e.dihedral,e.span-1),e.anhedral=Math.min(e.anhedral,e.span-1-e.dihedral),this.CalculateStats()}SetMiniWing(t,e){this.mini_wing_list.length!=t&&this.mini_wing_list.splice(t,1),e.area!=e.area&&(e.area=2),e.area=Math.floor(1e-6+e.area),e.span!=e.span&&(e.span=1),e.span=Math.floor(1e-6+e.span),e.deck>=0&&(e.area=Math.max(e.area,1),e.area=Math.min(e.area,2),e.span=Math.max(e.span,1),this.CanAddMiniWing(e.deck)&&this.mini_wing_list.splice(t,0,e)),this.CalculateStats()}HasNonGullDeck(t){for(const e of this.wing_list)if(e.deck==t&&!e.gull)return!0;return!1}CanGull(t){if(t==N.PARASOL){if(!this.GetTandem()&&this.HasNonGullDeck(N.SHOULDER))return!1}else{if(t==N.SHOULDER)return!1;if(!this.GetTandem()&&this.HasNonGullDeck(t-1))return!1}return!0}IsFlammable(){for(const t of this.wing_list)if(this.skin_list[t.surface].flammable)return!0;for(const t of this.mini_wing_list)if(this.skin_list[t.surface].flammable)return!0;return!1}NeedHStab(){return this.stagger_list[this.wing_stagger].hstab}NeedTail(){return this.NeedHStab()||!this.is_swept}GetSpan(){let t=0;for(const e of this.wing_list){const s=e.span;t=Math.max(t,s)}for(const e of this.mini_wing_list){const s=e.span;t=Math.max(t,s)}return t}GetArea(){let t=0;for(const e of this.wing_list)t+=e.area;for(const e of this.mini_wing_list)t+=e.area;return t}GetParasol(){for(const t of this.wing_list)if(t.deck==N.PARASOL)return!0;for(const t of this.mini_wing_list)if(t.deck==N.PARASOL)return!0;return!1}GetMetalArea(){let t=0;for(const e of this.wing_list)this.skin_list[e.surface].metal&&(t+=e.area);for(const e of this.mini_wing_list)this.skin_list[e.surface].metal&&(t+=e.area);return t}GetWingDrag(){let t=0;const e=this.DeckCountFull();let s=0,i=0;for(const a of this.wing_list){const n=a.span;let r=a.area;s=Math.max(s,n),a.gull&&(r=Math.floor(1e-6+1.1*r));let o=Math.max(1,6*r*r/(n*n));o=Math.max(1,o*this.skin_list[a.surface].dragfactor),this.stagger_list[this.wing_stagger].inline&&e[a.deck]>1&&(o=Math.floor(1e-6+.75*o),o=Math.max(1,o)),o=Math.floor(1e-6+o),s==n&&(i=i),t+=o}for(const e of this.mini_wing_list){const s=e.span;let i=Math.max(1,6*e.area*e.area/(s*s));i=Math.max(1,i*this.skin_list[e.surface].dragfactor),i=Math.floor(1e-6+i),t+=i}const a=this.GetIsSesquiplane();return(a.is||this.GetMonoplane())&&-1!=a.deck&&(t-=Math.floor(1e-6+(1-this.long_list[a.deck].dragfactor)*i)),t}GetIsFlammable(){for(const t of this.wing_list)if(this.skin_list[t.surface].flammable)return!0;for(const t of this.mini_wing_list)if(this.skin_list[t.surface].flammable)return!0;return!1}SetAircraftMass(t){this.plane_mass=t}GetPaperMass(){let t=0;for(const e of this.wing_list){const s=this.skin_list[e.surface].stats.Multiply(e.area);s.Round(),s.mass<0&&(t+=s.mass)}for(const e of this.mini_wing_list){const s=this.skin_list[e.surface].stats.Multiply(e.area);s.Round(),s.mass<0&&(t+=s.mass)}return Math.max(-Math.floor(1e-6+.25*this.plane_mass),t)}GetIsSesquiplane(){let t=0,e=-1,s=0,i=1e100,a=0;for(const n of this.wing_list)n.area>t?(t=n.area,e=n.deck,s=n.span):n.area==t&&(e=-1),i>n.area&&(i=n.area,a=n.span);let n=t>=2*i;return n=n&&!this.GetMonoplane()&&!this.GetTandem(),n?{is:n,deck:e,super_small:.75*s>=a}:{is:!1,deck:e,super_small:!1}}HasPolishWing(){for(const t of this.wing_list)if(t.deck==N.PARASOL&&1==t.gull)return!0;return!1}HasInvertedGull(){let t=-1;for(const e of this.wing_list)e.gull&&e.deck>N.SHOULDER&&(t=Math.max(t,e.deck));return t}CanCutout(){let t=0;for(const e of this.wing_list)this.skin_list[e.surface].transparent&&(t+=1);return t<3}PartStats(){this.CanClosed()||(this.is_closed=!1),this.CanSwept()||(this.is_swept=!1);var t=new u;let e=!1;const s=this.DeckCountFull();let i=!1,a=this.rotor_span,n=0,r=0;for(const i of this.wing_list){a=Math.max(a,i.span),e?(t.control+=3,t.liftbleed+=5,t.visibility-=1):e=!0;let o=new u;o=o.Add(this.skin_list[i.surface].stats.Multiply(i.area)),o.wingarea=i.area,o.maxstrain+=Math.min(0,-(2*i.span+i.area-10)),this.acft_type==D.ORNITHOPTER_BUZZER&&(o.maxstrain+=Math.min(0,-(2*i.span+i.area-10))),o.maxstrain*=this.skin_list[i.surface].strainfactor,this.skin_list[i.surface].transparent&&r<3&&(o.visibility+=1,r+=1);const l=i.span;let h=i.area;i.gull&&(h=Math.floor(1e-6+1.1*h));const c=Math.max(1,6*h*h/(l*l));o.drag=o.drag+c,o.drag=Math.max(1,o.drag*this.skin_list[i.surface].dragfactor),this.stagger_list[this.wing_stagger].inline&&s[i.deck]>1&&(o.drag=Math.floor(1e-6+.75*o.drag),o.drag=Math.max(1,o.drag)),t=t.Add(this.deck_list[i.deck].stats),o.latstab+=i.dihedral-i.anhedral,o.liftbleed+=i.dihedral+i.anhedral,o.Round(),a==i.span&&(n=o.drag),o.mass<0&&(o.mass=0),t=t.Add(o)}for(const e of this.mini_wing_list){a=Math.max(a,e.span),t.control+=1,i?t.liftbleed+=1:i=!0;const s=this.skin_list[e.surface].stats.Multiply(e.area);s.wingarea=e.area,s.maxstrain+=Math.min(0,-(2*e.span+e.area-10)),s.maxstrain*=this.skin_list[e.surface].strainfactor;const n=e.span;s.drag=Math.max(1,s.drag+6*e.area*e.area/(n*n)),s.drag=Math.max(1,s.drag*this.skin_list[e.surface].dragfactor),s.latstab+=e.dihedral-e.anhedral,s.liftbleed+=e.dihedral+e.anhedral,s.Round(),s.mass<0&&(s.mass=0),t=t.Add(s)}t.control+=8-a,t.latstab+=Math.min(0,a-8);const o=this.GetIsSesquiplane();if((o.is||this.GetMonoplane())&&-1!=o.deck&&((t=t.Add(this.long_list[o.deck].stats)).drag-=Math.floor(1e-6+(1-this.long_list[o.deck].dragfactor)*n)),o.is&&(t.liftbleed-=2,t.control+=2),this.stagger_list[this.wing_stagger].inline)for(const e of s)e>1&&(t.liftbleed+=3*(e-1));switch(this.HasPolishWing()&&(t.visibility+=1,t.maxstrain+=10),this.HasInvertedGull()){case 1:case 2:case 3:break;case 4:t.maxstrain+=10,t.crashsafety+=1}if((this.HasInvertedGull()>0||this.HasPolishWing())&&t.era.push({name:"Gull Wing",era:"Coming Storm"}),this.is_swept&&(t.liftbleed+=5,t.latstab--),this.is_closed){const e=Math.floor(1e-6+this.wing_list.length/2);t.mass+=1*e,t.control-=5*e,t.maxstrain+=20*e}return this.wing_list.length>1&&(t=t.Add(this.stagger_list[this.wing_stagger].stats)),t}SetCalculateStats(t){this.CalculateStats=t}GetElectrics(){const t={storage:0,equipment:[]};let e=0,s="";for(const t of this.wing_list){const i=this.skin_list[t.surface];0!=i.stats.charge&&(s=h(i.name),e+=i.stats.charge*t.area)}return e=Math.floor(1e-6+e),0!=e&&t.equipment.push({source:s,charge:e.toString()}),t}}class tt extends H{constructor(t){super(),this.have_tail=!0,this.is_tandem=!1,this.is_swept=!1,this.is_heli=!1,this.hstab_sel=0,this.hstab_count=1,this.hstab_list=[];for(const e of t.hstab)this.hstab_list.push({name:e.name,is_canard:e.is_canard,increment:e.increment,stats:new u(e),dragfactor:e.dragfactor,is_vtail:e.is_vtail,is_tail:e.is_tail});this.vstab_sel=0,this.vstab_count=1,this.vstab_list=[];for(const e of t.vstab)this.vstab_list.push({name:e.name,increment:e.increment,stats:new u(e),dragfactor:e.dragfactor,is_vtail:e.is_vtail,is_tail:e.is_tail})}toJSON(){return{hstab_sel:this.hstab_sel,hstab_count:this.hstab_count,vstab_sel:this.vstab_sel,vstab_count:this.vstab_count}}fromJSON(t,e){this.hstab_sel=t.hstab_sel,this.hstab_count=t.hstab_count,this.vstab_sel=t.vstab_sel,this.vstab_count=t.vstab_count}serialize(t){t.PushNum(this.hstab_sel),t.PushNum(this.hstab_count),t.PushNum(this.vstab_sel),t.PushNum(this.vstab_count)}deserialize(t){this.hstab_sel=t.GetNum(),this.hstab_count=t.GetNum(),this.vstab_sel=t.GetNum(),this.vstab_count=t.GetNum()}IsDefault(){return 0==this.hstab_sel&&1==this.hstab_count&&0==this.vstab_sel&&1==this.vstab_count}GetHStabList(){return this.hstab_list}GetVStabList(){return this.vstab_list}GetHStabType(){return this.hstab_sel}SetHStabType(t){("The Wings"!=this.hstab_list[t].name||this.is_tandem||this.is_swept)&&(this.hstab_list[t].is_vtail?this.SetVTail():this.hstab_list[this.hstab_sel].is_vtail&&(this.vstab_sel=0,this.vstab_count=1),this.hstab_sel=t,this.SetHStabCount(this.hstab_count),this.CalculateStats())}GetHValidList(){var t=[];if(this.is_heli)t=Array(this.hstab_list.length).fill(!1),this.have_tail?t[0]=!0:t[1]=!0;else for(const e of this.hstab_list)"The Wings"!=e.name&&"Outboard"!=e.name||this.is_tandem||this.is_swept?e.is_tail&&!this.have_tail?t.push(!1):t.push(!0):t.push(!1);return t}GetIsVTail(){return this.hstab_list[this.hstab_sel].is_vtail}SetVTail(){for(let t=0;t<this.hstab_list.length;t++)this.hstab_list[t].is_vtail&&(this.hstab_sel=t);for(let t=0;t<this.vstab_list.length;t++)this.vstab_list[t].is_vtail&&(this.vstab_sel=t);this.hstab_count=1,this.vstab_count=0}GetVStabType(){return this.vstab_sel}SetVStabType(t){("Outboard"!=this.vstab_list[t].name||this.CanVOutboard())&&(this.vstab_list[t].is_vtail?this.SetVTail():this.vstab_list[this.vstab_sel].is_vtail&&(this.hstab_sel=0,this.vstab_count=1),this.vstab_sel=t,this.SetVStabCount(this.vstab_count),this.CalculateStats())}GetVValidList(){var t=[];if(this.is_heli)(t=Array(this.vstab_list.length).fill(!1))[0]=!0;else for(const e of this.vstab_list)"Outboard"!=e.name||this.CanVOutboard()?e.is_tail&&!this.have_tail?t.push(!1):t.push(!0):t.push(!1);return t}GetHStabCount(){return this.hstab_count}SetHStabCount(t){if((t!=t||t<0)&&(t=0),t=Math.floor(1e-6+t),this.hstab_count=t,0!=this.hstab_list[this.hstab_sel].increment)for(;this.hstab_count%this.hstab_list[this.hstab_sel].increment!=0;)this.hstab_count++;else this.hstab_count=0;this.CalculateStats()}GetHStabIncrement(){return this.hstab_sel>=0?this.hstab_list[this.hstab_sel].increment:1}GetVStabCount(){return this.vstab_count}SetVStabCount(t){if((t!=t||t<0)&&(t=0),t=Math.floor(1e-6+t),this.vstab_count=t,0!=this.vstab_list[this.vstab_sel].increment)for(;this.vstab_count%this.vstab_list[this.vstab_sel].increment!=0;)this.vstab_count++;else this.vstab_count=0;this.CalculateStats()}GetVStabIncrement(){return this.vstab_sel>=0?this.vstab_list[this.vstab_sel].increment:1}SetEngineCount(t){this.engine_count=t}GetIsTandem(){return this.is_tandem}SetIsTandem(t){this.is_tandem=t}SetIsSwept(t){this.is_swept=t}CanVOutboard(){return this.is_swept||this.is_tandem||this.hstab_list[this.hstab_sel].is_canard&&this.hstab_count>0}GetVOutboard(){return"Outboard"==this.vstab_list[this.vstab_sel].name}GetCanard(){return this.hstab_list[this.hstab_sel].is_canard}SetLiftingArea(t){this.lifting_area=t}SetHaveTail(t){if(this.have_tail=t,!t){this.GetHValidList()[this.hstab_sel]||(this.hstab_sel=2);const t=this.GetVValidList();t[this.vstab_sel]||(t[1]||(this.hstab_sel=2),this.vstab_sel=1,this.vstab_count%2!=0&&this.vstab_count++)}this.is_heli&&(this.have_tail?this.hstab_sel=0:this.hstab_sel=1,this.hstab_count=1)}SetHelicopter(t){this.is_heli=t,t&&(this.have_tail=!0,this.is_tandem=!1,this.is_swept=!1,this.lifting_area=0,this.engine_count=0,this.hstab_sel=0,this.hstab_count=1,this.vstab_sel=0,this.vstab_count=1)}SetCalculateStats(t){this.CalculateStats=t}PartStats(){const t=this.GetHValidList();t[this.hstab_sel]||(this.hstab_sel=0,t[this.hstab_sel]||(this.hstab_sel=0,this.hstab_count=0));const e=this.GetVValidList();e[this.vstab_sel]||(this.vstab_sel=0,e[this.vstab_sel]||(this.vstab_sel=0,this.vstab_count=0));var s=new u;if(this.hstab_count>0){s=s.Add(this.hstab_list[this.hstab_sel].stats);var i=0;this.is_heli?(i=Math.floor(1e-6+this.wing_drag/8*this.hstab_list[this.hstab_sel].dragfactor),s.drag+=Math.max(Math.ceil(1*this.hstab_list[this.hstab_sel].dragfactor),i)):(i=Math.floor(1e-6+this.wing_drag/4*this.hstab_list[this.hstab_sel].dragfactor),s.drag+=Math.max(1,i))}else(this.hstab_sel<0||0!=this.hstab_list[this.hstab_sel].increment)&&(s.pitchstab-=Math.floor(1e-6+this.lifting_area/2),s.liftbleed+=5);if(this.vstab_count>0?(s=s.Add(this.vstab_list[this.vstab_sel].stats),i=0,this.is_heli?(i=Math.floor(1e-6+this.wing_drag/16*this.vstab_list[this.vstab_sel].dragfactor),s.drag+=Math.max(Math.ceil(1*this.hstab_list[this.hstab_sel].dragfactor),i)):(i=Math.floor(1e-6+this.wing_drag/8*this.vstab_list[this.vstab_sel].dragfactor),s.drag+=Math.max(1,i))):(this.vstab_sel<0||0!=this.vstab_list[this.vstab_sel].increment||0==this.vstab_list[this.vstab_sel].increment&&0==this.hstab_count)&&(s.latstab-=this.lifting_area),s.drag+=2*(Math.max(0,this.hstab_count-1)+Math.max(0,this.vstab_count-1)),this.vstab_sel>=0&&0!=this.vstab_list[this.vstab_sel].increment){var a=Math.max(0,this.hstab_count-1);const t=Math.min(this.engine_count-1,this.vstab_count-1);a+=Math.max(0,this.vstab_count-1-t),s.control+=3*t+a}else{const t=Math.max(0,Math.min(this.engine_count-1,this.hstab_count-1));a=Math.max(0,this.hstab_count-1-t),s.control+=3*t+a}return s}GetElectrics(){return{storage:0,equipment:[]}}}class et extends H{constructor(t){super(),this.span=0,this.is_cantilever=0,this.wing_area=0,this.mp=0,this.is_boom=!1,this.acft_type=D.AIRPLANE,this.aileron_sel=0,this.aileron_list=[];for(const e of t.ailerons)this.aileron_list.push({name:e.name,warping:e.warping,stats:new u(e)});this.rudder_sel=0,this.rudder_list=[];for(const e of t.rudders)this.rudder_list.push({name:e.name,stats:new u(e)});this.elevator_sel=0,this.elevator_list=[];for(const e of t.elevators)this.elevator_list.push({name:e.name,stats:new u(e)});this.flaps_sel=0,this.flaps_list=[];for(const e of t.flaps)this.flaps_list.push({name:e.name,costfactor:e.costfactor,stats:new u(e)});this.slats_sel=0,this.slats_list=[];for(const e of t.slats)this.slats_list.push({name:e.name,stats:new u(e)});this.drag_list=[];for(const e of t.drag_inducers)this.drag_list.push({name:e.name,stats:new u(e)});this.drag_sel=[...Array(this.drag_list.length).fill(!1)]}toJSON(){return{aileron_sel:this.aileron_sel,rudder_sel:this.rudder_sel,elevator_sel:this.elevator_sel,flaps_sel:this.flaps_sel,slats_sel:this.slats_sel,drag_sel:this.drag_sel}}fromJSON(t,e){this.aileron_sel=t.aileron_sel,this.rudder_sel=t.rudder_sel,this.elevator_sel=t.elevator_sel,this.flaps_sel=t.flaps_sel,this.slats_sel=t.slats_sel,this.drag_sel=S(t.drag_sel,this.drag_sel.length)}serialize(t){t.PushNum(this.aileron_sel),t.PushNum(this.rudder_sel),t.PushNum(this.elevator_sel),t.PushNum(this.flaps_sel),t.PushNum(this.slats_sel),t.PushBoolArr(this.drag_sel)}deserialize(t){this.aileron_sel=t.GetNum(),this.rudder_sel=t.GetNum(),this.elevator_sel=t.GetNum(),this.flaps_sel=t.GetNum(),this.slats_sel=t.GetNum(),this.drag_sel=t.GetBoolArr(this.drag_sel.length)}IsDefault(){return 0==this.aileron_sel&&0==this.rudder_sel&&0==this.elevator_sel&&0==this.flaps_sel&&0==this.slats_sel&&0==this.drag_sel.reduce(((t,e)=>t||e),!1)}GetAileronList(){return this.aileron_list}CanAileron(){const t=[];if(L(this.acft_type))for(const e of this.aileron_list)t.push(e.warping);else for(const e of this.aileron_list)e.warping&&0==this.wing_area?t.push(!1):t.push(!0);return t}GetAileron(){return this.aileron_sel}SetAileron(t){this.aileron_sel=t,this.CalculateStats()}GetRudderList(){return this.rudder_list}CanRudder(){return this.can_rudder}SetCanRudder(t){this.can_rudder=t,t||(this.rudder_sel=0)}GetRudder(){return this.rudder_sel}SetRudder(t){this.rudder_sel=t,this.CalculateStats()}GetElevatorList(){return this.elevator_list}CanElevator(){return this.can_elevator}SetCanElevator(t){this.can_elevator=t,t||(this.elevator_sel=0)}GetElevator(){return this.elevator_sel}SetElevator(t){this.elevator_sel=t,this.CalculateStats()}GetFlapsList(){return this.flaps_list}GetFlaps(){return this.flaps_sel}SetFlaps(t){this.flaps_sel=t,this.CalculateStats()}GetFlapCost(t){return t&&(this.mp=t),this.flaps_list[this.flaps_sel].costfactor>0?Math.max(1,Math.floor(1e-6+this.flaps_list[this.flaps_sel].costfactor*this.mp)):0}GetSlatsList(){return this.slats_list}GetSlats(){return this.slats_sel}SetSlats(t){this.slats_sel=t,this.CalculateStats()}GetDragList(){return this.drag_list}GetDrag(){return this.drag_sel}SetDrag(t,e){this.drag_sel[t]=e,this.CalculateStats()}SetNumCantilever(t){this.is_cantilever=t}SetSpan(t){this.span=t}SetWingArea(t){this.wing_area=t}SetAcftType(t){if(this.acft_type=t,this.acft_type==D.HELICOPTER){this.aileron_sel=0,this.rudder_sel=0,this.elevator_sel=0,this.flaps_sel=0,this.slats_sel=0;for(let t=0;t<this.drag_sel.length;t++)this.drag_sel[t]=!1;this.span=0,this.is_cantilever=0,this.wing_area=0}else if(L(this.acft_type)){const t=this.CanAileron();this.aileron_sel=t.findIndex((t=>t)),this.is_cantilever=0}}SetBoomTail(t){this.is_boom=t}SetIsVTail(t){t&&(this.rudder_sel=this.elevator_sel)}SetCalculateStats(t){this.CalculateStats=t}PartStats(){var t=new u;this.aileron_list[this.aileron_sel].warping&&0==this.wing_area&&(this.aileron_sel=0),t=t.Add(this.aileron_list[this.aileron_sel].stats),this.aileron_list[this.aileron_sel].warping&&(t.maxstrain-=this.span,this.is_cantilever&&(t.cost+=2*this.is_cantilever,t.era.push({name:h("Cantilever Wing Warping"),era:"Last Hurrah"})),this.is_boom&&(t.pitchstab-=2,t.latstab-=2,t.warnings.push({source:h("Wing Warping"),warning:h("Wing Warping Warning"),color:c.WHITE}))),t=(t=(t=(t=t.Add(this.rudder_list[this.rudder_sel].stats)).Add(this.elevator_list[this.elevator_sel].stats)).Add(this.flaps_list[this.flaps_sel].stats)).Add(this.slats_list[this.slats_sel].stats);for(let e=0;e<this.drag_list.length;e++)this.drag_sel[e]&&(t=t.Add(this.drag_list[e].stats));return t}GetElectrics(){return{storage:0,equipment:[]}}}class st extends H{constructor(t){super(),this.ext_wood_list=[];for(const e of t.external_wood)this.ext_wood_list.push({name:e.name,tension:e.tension,config:e.config,first:e.first,small_sqp:e.small_sqp,ornith:e.ornith,stats:new u(e)});this.ext_wood_count=[...Array(this.ext_wood_list.length).fill(0)],this.ext_steel_list=[];for(const e of t.external_steel)this.ext_steel_list.push({name:e.name,tension:e.tension,config:e.config,first:e.first,small_sqp:e.small_sqp,ornith:e.ornith,stats:new u(e)});this.ext_steel_count=[...Array(this.ext_steel_list.length).fill(0)],this.ext_cabane_list=[];for(const e of t.cabane)this.ext_cabane_list.push({name:e.name,tension:e.tension,stats:new u(e)});this.cabane_sel=0,this.cant_list=[];for(const e of t.cantilever)this.cant_list.push({name:e.name,limited:e.limited,stats:new u(e)});this.cant_count=[...Array(this.cant_list.length).fill(0)],this.wires=!1,this.wing_blades=!1,this.is_staggered=!1,this.is_tandem=!1,this.is_monoplane=!1,this.can_external=!0,this.acft_structure=0,this.cant_lift=0,this.acft_type=D.AIRPLANE}toJSON(){return{ext_wood_count:this.ext_wood_count,ext_steel_count:this.ext_steel_count,cant_count:this.cant_count,wires:this.wires,cabane_sel:this.cabane_sel,wing_blades:this.wing_blades}}fromJSON(t,e){this.ext_wood_count=b(t.ext_wood_count,this.ext_wood_count.length),this.ext_steel_count=b(t.ext_steel_count,this.ext_steel_count.length),this.cant_count=b(t.cant_count,this.cant_count.length),this.wires=t.wires,this.cabane_sel=t.cabane_sel,this.wing_blades=e>10.25&&t.wing_blades,e<10.45&&(this.cant_count[0]*=2,this.cant_count[1]*=2,this.cant_count[2]*=3,this.cant_count[3]*=2)}serialize(t){t.PushNumArr(this.ext_wood_count),t.PushNumArr(this.ext_steel_count),t.PushNumArr(this.cant_count),t.PushBool(this.wires),t.PushNum(this.cabane_sel),t.PushBool(this.wing_blades)}deserialize(t){this.ext_wood_count=t.GetNumArr(this.ext_wood_count.length),this.ext_steel_count=t.GetNumArr(this.ext_steel_count.length),this.cant_count=t.GetNumArr(this.cant_count.length),this.wires=t.GetBool(),this.cabane_sel=t.GetNum(),t.version>10.25?this.wing_blades=t.GetBool():this.wing_blades=!1,t.version<10.45&&(this.cant_count[0]*=2,this.cant_count[1]*=2,this.cant_count[2]*=3,this.cant_count[3]*=2)}GetExternalList(){return this.ext_wood_list}GetCantileverList(){return this.cant_list}CanExternalWood(){const t=[...Array(this.ext_wood_list.length).fill(this.can_external)];for(let e=0;e<this.ext_wood_list.length;e++)this.acft_type==D.ORNITHOPTER_FLUTTER?t[e]=this.ext_wood_list[e].ornith:this.limited_sqp&&(t[e]=this.ext_wood_list[e].small_sqp),this.wires||"Wing Truss"!=this.ext_wood_list[e].name&&"Wire Root"!=this.ext_wood_list[e].name||(t[e]=!1);return t}GetExternalWoodCount(){return this.ext_wood_count}SetExternalWoodCount(t,e){(e!=e||e<0)&&(e=0),e=Math.floor(1e-6+e),this.ext_wood_count[t]=e,this.CalculateStats()}CanExternalSteel(){const t=[...Array(this.ext_steel_list.length).fill(this.can_external)];for(let e=0;e<this.ext_steel_list.length;e++)this.acft_type==D.ORNITHOPTER_FLUTTER?t[e]=this.ext_steel_list[e].ornith:this.limited_sqp&&(t[e]=this.ext_steel_list[e].small_sqp),this.wires||"Steel Wing Truss"!=this.ext_steel_list[e].name&&"Steel Wire Root"!=this.ext_steel_list[e].name||(t[e]=!1);return t}GetExternalSteelCount(){return this.ext_steel_count}SetExternalSteelCount(t,e){(e!=e||e<0)&&(e=0),e=Math.floor(1e-6+e),this.ext_steel_count[t]=e,this.CalculateStats()}GetCantileverCount(){return this.cant_count}GetTotalCantilevers(){var t=0;for(let e=0;e<this.cant_count.length;e++)t+=this.cant_count[e];return t}GetIsCantilever(){var t=0;for(const e of this.cant_count)t+=e;return t>0}SetCantileverCount(t,e){(e!=e||e<0)&&(e=0),e=Math.floor(1e-6+e),this.ImplSCC(t,e),this.CalculateStats()}ImplSCC(t,e){var s=e-this.cant_count[t];if(this.cant_list[t].limited&&e>0){var i=this.TotalStructure();for(let t=0;t<this.cant_list.length;t++)this.cant_list[t].limited&&(i-=5*this.cant_count[t]*this.cant_list[t].stats.mass);s=Math.min(s,Math.floor(1e-6+i/(5*this.cant_list[t].stats.mass)))}return this.cant_count[t]+=s,0!=s}GetWires(){return this.wires}SetWires(t){this.wires=t,this.CalculateStats()}SetStaggered(t){this.is_staggered=t}SetTandem(t){this.is_tandem=t}SetMonoplane(t){this.is_monoplane=t}SetCanUseExternal(t){this.can_external=t}SetAcftStructure(t){const e=this.acft_structure;this.acft_structure=t;var s=!1;if(e>this.acft_structure)for(let t=this.cant_list.length-1;t>=0;t--)s=s||this.ImplSCC(t,this.cant_count[t]);s&&this.CalculateStats()}TotalStructure(){var t=this.ext_cabane_list[this.cabane_sel].stats.structure,e=!1;for(let s=0;s<this.ext_wood_list.length;s++)t+=this.ext_wood_count[s]*this.ext_wood_list[s].stats.structure,t+=this.ext_steel_count[s]*this.ext_steel_list[s].stats.structure,(this.ext_wood_count[s]>0||this.ext_steel_count[s]>0)&&(e=!0);return e&&(t+=5),this.acft_structure+t}GetCantileverType(){const t=this.cant_count[0]+this.cant_count[4];return this.cant_count[1]+this.cant_count[2]+this.cant_count[3]>0?2:t>0?1:0}GetCabaneList(){return this.ext_cabane_list}GetCabane(){return this.cabane_sel}SetCabane(t){this.cabane_sel=t,this.CalculateStats()}SetCantLift(t){this.cant_lift=t}CanWingBlade(){for(const t of this.ext_wood_count)if(t>0)return!1;for(const t of this.ext_steel_count)if(t>0)return!1;return 0==this.cabane_sel&&this.cant_count[2]>0}GetWingBlade(){return this.wing_blades}SetWingBlade(t){this.wing_blades=t,this.CalculateStats()}SetAircraftType(t){this.acft_type=t,t==D.HELICOPTER&&(this.can_external=!1,this.is_monoplane=!1,this.is_tandem=!1,this.is_staggered=!1),t==D.ORNITHOPTER_BUZZER&&(this.can_external=!1);const e=this.CanExternalWood();for(let t=0;t<this.ext_wood_count.length;t++)e[t]||(this.ext_wood_count[t]=0);const s=this.CanExternalSteel();for(let t=0;t<this.ext_steel_count.length;t++)s[t]||(this.ext_steel_count[t]=0)}SetSesquiplane(t){if(this.tension_sqp=t.is&&t.super_small,this.limited_sqp=t.is&&!t.super_small,this.limited_sqp){for(let t=0;t<this.ext_wood_list.length;t++)this.ext_wood_list[t].small_sqp||(this.ext_wood_count[t]=0);for(let t=0;t<this.ext_steel_list.length;t++)this.ext_steel_list[t].small_sqp||(this.ext_steel_count[t]=0)}}SetCalculateStats(t){this.CalculateStats=t}PartStats(){var t=new u;switch(this.acft_type){case D.AIRPLANE:case D.AUTOGYRO:case D.ORNITHOPTER_BASIC:break;case D.HELICOPTER:case D.ORNITHOPTER_BUZZER:case D.ORNITHOPTER_FLUTTER:this.cabane_sel=0}var e=1;if(this.is_monoplane?e=.6:this.is_tandem?e=.8:this.is_staggered&&(e=.9),this.tension_sqp&&(e-=.15),this.acft_type==D.ORNITHOPTER_BASIC&&(e=.5),!this.can_external){for(let t=0;t<this.ext_wood_count.length;t++)this.ext_wood_count[t]=0;for(let t=0;t<this.ext_steel_count.length;t++)this.ext_steel_count[t]=0;this.cabane_sel=0,this.wires=!1}var s=0,i=0,a=!1;for(let n=0;n<this.ext_wood_list.length;n++)if(i+=this.ext_wood_count[n],this.ext_wood_count[n]>0){a=a||this.ext_wood_list[n].first;let i=this.ext_wood_list[n].stats;i=i.Multiply(this.ext_wood_count[n]),t=t.Add(i),this.ext_wood_list[n].config?s+=e*this.ext_wood_list[n].tension*this.ext_wood_count[n]:s+=this.ext_wood_list[n].tension*this.ext_wood_count[n]}for(let n=0;n<this.ext_steel_list.length;n++)if(i+=this.ext_steel_count[n],this.ext_steel_count[n]>0){a=a||this.ext_wood_list[n].first;let i=this.ext_steel_list[n].stats.Clone();i=i.Multiply(this.ext_steel_count[n]),t=t.Add(i),this.ext_steel_list[n].config?s+=e*this.ext_steel_list[n].tension*this.ext_steel_count[n]:s+=this.ext_steel_list[n].tension*this.ext_steel_count[n]}this.acft_type==D.ORNITHOPTER_BASIC&&(t.maxstrain=Math.floor(1e-6+.5*t.maxstrain)),a&&(t.structure+=5,t.maxstrain+=10,s+=10);const n=this.ext_cabane_list[this.cabane_sel].stats.Clone();t=t.Add(n),s+=e*this.ext_cabane_list[this.cabane_sel].tension,this.cabane_sel>0&&(i+=1),this.wires&&(t.maxstrain+=Math.floor(1e-6+s),t.drag+=3*i);var r=!1;for(let e=0;e<this.cant_list.length;e++)if(this.cant_count[e]>0){r=!0;let s=this.cant_list[e].stats;s=s.Multiply(this.cant_count[e]),s.maxstrain,t=t.Add(s)}return this.CanWingBlade()?this.wing_blades&&(t.mass*=2,t.warnings.push({source:h("Wing Blades"),warning:h("Wing Blades Warning"),color:c.WHITE})):this.wing_blades=!1,r&&(t.cost+=5,t.liftbleed-=this.cant_lift),t}GetElectrics(){return{storage:0,equipment:[]}}}class it extends H{constructor(t){super(),this.tank_stats=[],this.tank_count=[];for(const e of t.tanks)this.tank_stats.push({name:e.name,stats:new u(e),internal:e.internal,cantilever:e.cantilever}),this.tank_count.push(0);this.self_sealing=!1,this.is_cantilever=!1,this.wing_area=-1}toJSON(){return{tank_count:this.tank_count,self_sealing:this.self_sealing,fire_extinguisher:this.fire_extinguisher}}fromJSON(t,e){this.tank_count=b(t.tank_count,this.tank_count.length),this.self_sealing=t.self_sealing,this.fire_extinguisher=t.fire_extinguisher,this.wing_area=-1}serialize(t){t.PushNumArr(this.tank_count),t.PushBool(this.self_sealing),t.PushBool(this.fire_extinguisher)}deserialize(t){this.tank_count=t.GetNumArr(this.tank_count.length),this.self_sealing=t.GetBool(),this.fire_extinguisher=t.GetBool(),this.wing_area=-1}GetTankList(){return this.tank_stats}GetTankEnabled(){const t=[];for(const e of this.tank_stats)!this.is_cantilever&&e.cantilever?t.push(!1):t.push(!0);return t}GetTankCount(){return this.tank_count}SetTankCount(t,e){(e!=e||e<0)&&(e=0),e=Math.floor(1e-6+e),this.tank_count[t]=e,this.VerifyOK(),this.CalculateStats()}SetCantilever(t){this.is_cantilever&&!t&&(this.is_cantilever=t,this.VerifyOK()&&this.CalculateStats()),this.is_cantilever=t}SetArea(t){this.wing_area>t&&(this.wing_area=t,this.VerifyOK()&&this.CalculateStats()),this.wing_area=t}VerifyOK(){if(-1!=this.wing_area){var t=0;for(let e=0;e<this.tank_count.length;e++)this.tank_stats[e].cantilever&&(t+=this.tank_count[e]);var e=Math.floor(1e-6+this.wing_area/10);this.is_cantilever||(e=0);var s=t-e;const i=s>0;for(;s>0;)for(let t=this.tank_count.length-1;t>=0;t--)if(this.tank_stats[t].cantilever){this.tank_count[t]--,s--;break}for(let t=0;t<this.tank_count.length;t++)0==this.tank_stats[t].stats.wetmass&&(this.tank_count[t]=Math.min(4,this.tank_count[t]));return i}return!1}GetSealingEnabled(){var t=0;for(let e=0;e<this.tank_count.length;e++)this.tank_stats[e].internal&&(t+=this.tank_count[e]);return t>0}GetSelfSealing(){return this.self_sealing}SetSelfSealing(t){this.self_sealing=t,this.CalculateStats()}GetExtinguisher(){return this.fire_extinguisher}SetExtinguisher(t){this.fire_extinguisher=t,this.CalculateStats()}SetCalculateStats(t){this.CalculateStats=t}PartStats(){var t=new u,e=0;for(let s=0;s<this.tank_count.length;s++){let i=this.tank_stats[s].stats.Clone();i=i.Multiply(this.tank_count[s]),t=t.Add(i),this.tank_stats[s].internal&&(e+=this.tank_count[s])}return t.reqsections=Math.ceil(-1e-6+t.reqsections),this.self_sealing&&(t.mass+=e,t.cost+=2*e,t.era.push({name:"Self-Sealing Gas Tank",era:"Roaring 20s"}),t.warnings.push({source:h("Self-Sealing Gas Tank"),warning:h("Self-Sealing Gas Tank Warning"),color:c.WHITE})),this.fire_extinguisher&&(t.mass+=2,t.cost+=3,t.era.push({name:"Remote Fire Extinguisher",era:"WWII"}),t.warnings.push({source:h("Remote Fire Extinguisher"),warning:h("Remote Fire Extinguisher Warning"),color:c.WHITE})),t.wetmass%5>0&&(t.wetmass+=5-t.wetmass%5),t}GetElectrics(){return{storage:0,equipment:[]}}}class at extends H{constructor(){super(),this.bomb_count=0,this.rocket_count=0,this.internal_bay_count=0,this.internal_bay_1=!1,this.internal_bay_2=!1}toJSON(){return{bomb_count:this.bomb_count,rocket_count:this.rocket_count,bay_count:this.internal_bay_count,bay1:this.internal_bay_1,bay2:this.internal_bay_2}}fromJSON(t,e){this.bomb_count=t.bomb_count,this.internal_bay_count=t.bay_count,this.internal_bay_1=t.bay1,this.internal_bay_2=t.bay2,e>10.75&&(this.rocket_count=t.rocket_count)}serialize(t){t.PushNum(this.bomb_count),t.PushNum(this.internal_bay_count),t.PushBool(this.internal_bay_1),t.PushBool(this.internal_bay_2),t.PushNum(this.rocket_count)}deserialize(t){this.bomb_count=t.GetNum(),this.internal_bay_count=t.GetNum(),this.internal_bay_1=t.GetBool(),this.internal_bay_2=t.GetBool(),t.version>10.75&&(this.rocket_count=t.GetNum())}GetRocketCount(){return this.rocket_count}GetBombCount(){return this.bomb_count}GetInternalBombCount(){var t=10*this.internal_bay_count;return this.bomb_count>0&&this.internal_bay_count>0&&this.internal_bay_1&&(t*=2,this.internal_bay_2&&(t*=2)),t}GetMaxBombSize(){var t=0;const e=this.GetInternalBombCount();return this.bomb_count>0&&this.internal_bay_count>0&&(t=this.internal_bay_1?this.internal_bay_2?Math.floor(1e-6+e):Math.floor(1e-6+e/2):Math.floor(1e-6+e/4)),t}SetRocketCount(t){(t!=t||t<0)&&(t=0),t=Math.floor(1e-6+t),this.rocket_count=t,this.LimitMass(),this.CalculateStats()}SetBombCount(t){(t!=t||t<0)&&(t=0),t=Math.floor(1e-6+t),this.bomb_count=t,this.LimitMass(),this.CalculateStats()}GetBayCount(){return this.internal_bay_count}GetBay1(){return this.internal_bay_1}GetBay2(){return this.internal_bay_2}SetBayCount(t){(t!=t||t<0)&&(t=0),t=Math.floor(1e-6+t),this.internal_bay_count=t,this.CalculateStats()}SetUseBays(t,e){this.internal_bay_1=t,this.internal_bay_2=e,!this.internal_bay_1&&this.internal_bay_2&&(this.internal_bay_1=!0,this.internal_bay_2=!1),this.CalculateStats()}LimitMass(){var t=!1;const e=Math.min(this.GetInternalBombCount(),Math.floor(1e-6+3*this.acft_struct*this.maxbomb));var s,i,a=0,n=0;s=this.bomb_count>e?e:this.bomb_count,i=this.rocket_count+s>e?e-s:this.rocket_count,a=this.bomb_count-s,n=this.rocket_count-i;const r=Math.floor(1e-6+this.acft_struct*this.maxbomb-(s+i)/3)*this.gull_factor;for(;a+n>r;)n>0?n--:a--;return this.bomb_count>s+a&&(t=!0,this.bomb_count=s+a),this.rocket_count>i+n&&(t=!0,this.rocket_count=i+n),t}GetExternalMass(){const t=this.bomb_count+this.rocket_count;return Math.max(0,t-this.GetInternalBombCount())}SetAcftParameters(t,e,s){switch(this.acft_struct=t,this.maxbomb=e,s){case 2:case 3:this.gull_factor=1.1;break;case 4:this.gull_factor=1.2;break;default:this.gull_factor=1}this.LimitMass()&&this.CalculateStats()}SetCalculateStats(t){this.CalculateStats=t}PartStats(){const t=new u,e=this.GetExternalMass();if(t.reqsections+=this.internal_bay_count,this.internal_bay_count>0){const e=t.reqsections;this.internal_bay_1&&(t.reqsections+=e,this.internal_bay_2&&(t.reqsections+=e))}const s=Math.ceil(e/5-1e-6);return t.mass+=s,t.drag+=s,t.bomb_mass=this.bomb_count+this.rocket_count,t.reqsections=Math.ceil(-1e-6+t.reqsections),t.bomb_mass%5>0&&(t.bomb_mass+=5-t.bomb_mass%5),t}GetElectrics(){return{storage:0,equipment:[]}}}class nt extends H{constructor(t){super(),this.cargo_list=[];for(const e of t.spaces)this.cargo_list.push({name:e.name,stats:new u(e)});this.cargo_sel=0}toJSON(){return{space_sel:this.cargo_sel}}fromJSON(t,e){this.cargo_sel=t.space_sel}serialize(t){t.PushNum(this.cargo_sel)}deserialize(t){this.cargo_sel=t.GetNum()}GetSpaceList(){return this.cargo_list}GetSpace(){return this.cargo_sel}SetSpace(t){this.cargo_sel=t,this.CalculateStats()}SetCalculateStats(t){this.CalculateStats=t}PartStats(){var t=new u;return(t=t.Add(this.cargo_list[this.cargo_sel].stats)).bomb_mass+=3*t.reqsections,t.bomb_mass%5>0&&(t.bomb_mass+=5-t.bomb_mass%5),t}GetElectrics(){return{storage:0,equipment:[]}}}class rt extends H{constructor(t){super(),this.gear_list=[],this.gear_sel=0,this.retract=!1;for(const e of t.gear)this.gear_list.push({name:e.name,stats:new u(e),DpLMP:e.DpLMP,SpLMP:e.SpLMP,can_retract:e.can_retract});this.extra_list=[];for(const e of t.extras)this.extra_list.push({name:e.name,stats:new u(e),MpLMP:e.MpLMP});this.extra_sel=[...Array(this.extra_list.length).fill(!1)]}toJSON(){return{gear_sel:this.gear_sel,retract:this.retract,extra_sel:this.extra_sel}}fromJSON(t,e){this.gear_sel=t.gear_sel,this.retract=t.retract,this.extra_sel=S(t.extra_sel,this.extra_sel.length)}serialize(t){t.PushNum(this.gear_sel),t.PushBool(this.retract),t.PushBoolArr(this.extra_sel)}deserialize(t){this.gear_sel=t.GetNum(),this.retract=t.GetBool(),this.extra_sel=t.GetBoolArr(this.extra_sel.length)}IsDefault(){return 0==this.gear_sel&&0==this.retract&&0==this.extra_sel.reduce(((t,e)=>t||e),!1)}GetGearName(){return this.retract&&"Boat Hull"==this.gear_list[this.gear_sel].name?h("Retractable Gear + Boat Hull"):this.retract?h("Retractable ")+h(this.gear_list[this.gear_sel].name):h(this.gear_list[this.gear_sel].name)}GetGearList(){return this.gear_list}CanGear(){const t=[...Array(this.gear_list.length).fill(!0)];for(let e=0;e<this.gear_list.length;e++)"Boat Hull"!=this.gear_list[e].name||this.can_boat||(t[e]=!1);return t}GetGear(){return this.gear_sel}SetGear(t){this.CanGear()[t]&&(this.gear_sel=t),this.CalculateStats()}CanRetract(){return this.gear_list[this.gear_sel].can_retract||"Boat Hull"==this.gear_list[this.gear_sel].name}GetRetract(){return this.retract}SetRetract(t){this.retract=t&&this.CanRetract(),this.CalculateStats()}GetExtraList(){return this.extra_list}GetExtraSelected(){return this.extra_sel}SetExtraSelected(t,e){this.extra_sel[t]=e,this.CalculateStats()}SetLoadedMass(t){this.loadedMass=t}CanBoat(t,e){this.can_boat=2==t||1==t&&e>=3||0==t&&e>=4}SetGull(t){this.gull_deck=t}SetCalculateStats(t){this.CalculateStats=t}IsVital(){return!0}PartStats(){var t=new u;this.CanGear()[this.gear_sel]||(this.gear_sel=0),this.CanRetract()||(this.retract=!1);var e=this.loadedMass;for(let s=0;s<this.extra_list.length;s++)this.extra_sel[s]&&(t=t.Add(this.extra_list[s].stats),e+=this.extra_list[s].stats.mass,t.mass+=Math.floor(1e-6+this.extra_list[s].MpLMP*Math.floor(1e-6+e/5)));t=t.Add(this.gear_list[this.gear_sel].stats);var s=this.gear_list[this.gear_sel].DpLMP*Math.floor(1e-6+e/5);if("Boat Hull"==this.gear_list[this.gear_sel].name&&this.retract&&(t.drag+=s,s=this.gear_list[0].DpLMP*Math.floor(1e-6+e/5)),"Boat Hull"!=this.gear_list[this.gear_sel].name||this.retract)switch(this.gull_deck){case 1:s-=Math.floor(1e-6+.1*s);break;case 2:case 3:s-=Math.floor(1e-6+.15*s);break;case 4:s-=Math.floor(1e-6+.25*s)}return this.retract?(t.mass+=Math.floor(1e-6+s/2),t.cost+=Math.floor(1e-6+s/2)):t.drag+=s,t.structure+=this.gear_list[this.gear_sel].SpLMP*Math.floor(1e-6+e/5),t.Round(),t}GetElectrics(){return{storage:0,equipment:[]}}}class ot extends H{constructor(t){super(),this.armour_coverage=[...Array(8).fill(0)],this.acft_rad=!1,this.skin_armour=0,this.vital_parts=0,this.electric_list=[];for(const e of t.electrical)this.electric_list.push({name:e.name,stats:new u(e),cp10s:e.cp10s,storage:e.storage});this.electrical_count=[...Array(this.electric_list.length).fill(0)],this.radio_list=[],this.radio_sel=0;for(const e of t.radios)this.radio_list.push({name:e.name,stats:new u(e)});this.recon_list=[];for(const e of t.recon)this.recon_list.push({name:e.name,stats:new u(e)});this.recon_sel=Array(this.recon_list.length).fill(0),this.visi_list=[];for(const e of t.visibility)this.visi_list.push({name:e.name,stats:new u(e)});this.visi_sel=[...Array(this.visi_list.length).fill(!1)],this.can_visi=[...Array(this.visi_list.length).fill(!0)],this.clim_list=[];for(const e of t.climate)this.clim_list.push({name:e.name,stats:new u(e),req_radiator:e.req_radiator});this.clim_sel=[...Array(this.clim_list.length).fill(!1)],this.auto_list=[],this.auto_sel=0;for(const e of t.autopilots)this.auto_list.push({name:e.name,stats:new u(e)});this.cont_list=[],this.cont_sel=0;for(const e of t.control)this.cont_list.push({name:e.name,max_mass_stress:e.max_mass_stress,max_total_stress:e.max_total_stress,stats:new u(e)})}toJSON(){return{v:2,armour_coverage:this.armour_coverage,electrical_count:this.electrical_count,radio_sel:this.radio_sel,recon_sel:this.recon_sel,visi_sel:this.visi_sel,clim_sel:this.clim_sel,auto_sel:this.auto_sel,cont_sel:this.cont_sel}}fromJSON(t,e){if(2==t.v&&(this.armour_coverage=t.armour_coverage),this.skin_armour=0,e<11.85?(this.electrical_count=b(t.electrical_count,this.electrical_count.length+1),this.electrical_count[0]+=this.electrical_count[1],this.electrical_count.splice(1,1)):this.electrical_count=b(t.electrical_count,this.electrical_count.length),this.radio_sel=t.radio_sel,e<12.05){const e=S(t.info_sel,2);this.recon_sel=Array(this.recon_list.length).fill(0),e[0]&&(this.recon_sel[1]=1),e[1]&&(this.recon_sel[0]=1)}else this.recon_sel=b(t.recon_sel,this.recon_sel.length);this.visi_sel=S(t.visi_sel,this.visi_sel.length),this.clim_sel=S(t.clim_sel,this.clim_sel.length),e<11.95&&this.clim_sel.splice(2,1),this.auto_sel=t.auto_sel,this.cont_sel=t.cont_sel}serialize(t){t.PushNumArr(this.armour_coverage),t.PushNumArr(this.electrical_count),t.PushNum(this.radio_sel),t.PushNumArr(this.recon_sel),t.PushBoolArr(this.visi_sel),t.PushBoolArr(this.clim_sel),t.PushNum(this.auto_sel),t.PushNum(this.cont_sel)}deserialize(t){if(this.armour_coverage=t.GetNumArr(this.armour_coverage.length),this.skin_armour=0,t.version<11.85?(this.electrical_count=t.GetNumArr(this.electrical_count.length+1),this.electrical_count[0]+=this.electrical_count[1],this.electrical_count.splice(1,1)):this.electrical_count=t.GetNumArr(this.electrical_count.length),this.radio_sel=t.GetNum(),t.version<12.05){const e=t.GetBoolArr(2);this.recon_sel=Array(this.recon_list.length).fill(0),e[0]&&(this.recon_sel[1]=1),e[1]&&(this.recon_sel[0]=1)}else this.recon_sel=t.GetNumArr(this.recon_sel.length);this.visi_sel=t.GetBoolArr(this.visi_sel.length),this.clim_sel=t.GetBoolArr(this.clim_sel.length),t.version<11.95&&this.clim_sel.splice(2,1),this.auto_sel=t.GetNum(),this.cont_sel=t.GetNum()}GetCommunicationName(){return h(this.radio_list[this.radio_sel].name)}GetArmourCoverageForDisplay(){var t=[];for(let e=0;e<this.armour_coverage.length;e++)t.push(this.armour_coverage[e]);return t[1]+=this.skin_armour,t}GetEffectiveCoverage(){const t=[],e=Math.max(0,Math.floor((this.vital_parts-8)/2));for(let e=0;e<this.armour_coverage.length;e++)t.push(Math.max(0,this.armour_coverage[e]));t[1]+=this.skin_armour;let s=0;for(let i=this.armour_coverage.length-1;i>=0;i--)s+=t[i],t[i]=s-e;return t}SetArmourCoverage(t,e){(e!=e||e<0)&&(e=0),e=Math.floor(1e-6+e),this.armour_coverage[t]=1!=t?e:e-this.skin_armour,this.NormalizeCoverage(),this.CalculateStats()}NormalizeCoverage(){var t=-8+Math.min(0,-Math.floor(1e-6+(this.vital_parts-8)/2));t+=this.skin_armour;for(let e=this.armour_coverage.length-1;e>=0;e--)this.armour_coverage[e]=Math.max(0,Math.min(Math.abs(t),this.armour_coverage[e])),t+=this.armour_coverage[e]}GetElectricalList(){return this.electric_list}GetElectricalCount(){return this.electrical_count}SetElectricalCount(t,e){(e!=e||e<0)&&(e=0),e=Math.floor(1e-6+e),e=Math.min(e,50),this.electrical_count[t]=e,this.CalculateStats()}GetRadioList(){return this.radio_list}GetRadioSel(){return this.radio_sel}SetRadioSel(t){this.radio_sel=t,this.CalculateStats()}GetReconList(){return this.recon_list}GetReconSel(){return this.recon_sel}SetReconSel(t,e){((e=Math.trunc(e))!=e||e<0)&&(e=0),this.recon_sel[t]=e,this.CalculateStats()}GetVisibilityList(){return this.visi_list}GetCanVisibility(){return this.can_visi}GetVisibilitySel(){return this.visi_sel}SetVisibilitySel(t,e){this.visi_sel[t]=e,this.CalculateStats()}GetClimateList(){return this.clim_list}GetClimateSel(){return this.clim_sel}GetClimateEnable(){const t=[];for(const e of this.clim_list)!this.acft_rad&&e.req_radiator?t.push(!1):t.push(!0);return t}SetClimateSel(t,e){this.clim_sel[t]=e,this.CalculateStats()}GetAutopilotList(){return this.auto_list}GetAutopilotSel(){return this.auto_sel}SetAutopilotSel(t){this.auto_sel=t,this.CalculateStats()}GetControlList(){return this.cont_list}GetControlSel(){return this.cont_sel}SetControlSel(t){this.cont_sel=t,this.CalculateStats()}SetAcftRadiator(t){this.acft_rad=t}IsElectrics(){for(const t of this.electrical_count)if(t>0)return!0;for(let t=0;t<this.clim_list.length;t++)if(this.clim_sel[t]&&0!=this.clim_list[t].stats.charge)return!0;for(let t=0;t<this.visi_list.length;t++)if(this.visi_sel[t]&&0!=this.visi_list[t].stats.charge)return!0;return 0!=this.radio_list[this.radio_sel].stats.charge||0!=this.auto_list[this.auto_sel].stats.charge}SetSkinArmor(t){this.skin_armour=t}SetVitalParts(t){this.vital_parts=t,this.NormalizeCoverage()}GetMaxMassStress(){return this.cont_list[this.cont_sel].max_mass_stress}GetMaxTotalStress(){return this.cont_list[this.cont_sel].max_total_stress}SetCalculateStats(t){this.CalculateStats=t}GetStorage(){return 5*this.electrical_count[2]+5*this.electrical_count[3]}GetWindmill(){var t=0;for(let e=0;e<this.electrical_count.length;e++)t+=this.electric_list[e].cp10s*this.electrical_count[e];return t}SetCanCutouts(t,e){for(let s=0;s<this.visi_list.length;s++){let i=!0;switch(this.visi_list[s].name){case"Wing Cutouts":i=t;break;case"Hull Cutouts":i=e}this.can_visi[s]=i,i||(this.visi_sel[s]=!1)}}PartStats(){var t=new u,e="";const s=this.GetEffectiveCoverage();for(let a=0;a<this.armour_coverage.length;a++){const n=a+1;var i=this.armour_coverage[a];t.mass+=i*Math.pow(2,n-1),t.cost+=Math.floor(1e-6+i*n/3),t.toughness+=this.armour_coverage[a]*n,s[a]>0&&(""!=e&&(e+=", "),e+=n.toString()+"/"+(11-s[a]).toString()+"+")}""!=e&&t.warnings.push({source:h("Armour"),warning:e,color:c.WHITE});for(let e=0;e<this.electrical_count.length;e++)if(this.electrical_count[e]>0){let s=this.electric_list[e].stats.Clone();s=s.Multiply(this.electrical_count[e]),t=t.Add(s)}t=t.Add(this.radio_list[this.radio_sel].stats);for(let e=0;e<this.recon_list.length;e++)if(this.recon_sel[e]>0){let s=this.recon_list[e].stats.Clone();s=s.Multiply(this.recon_sel[e]),t=t.Add(s)}for(let e=0;e<this.visi_list.length;e++)this.visi_sel[e]&&(t=t.Add(this.visi_list[e].stats));for(let e=0;e<this.clim_list.length;e++)!this.clim_sel[e]||this.clim_list[e].req_radiator&&!this.acft_rad||(t=t.Add(this.clim_list[e].stats));return(t=(t=t.Add(this.auto_list[this.auto_sel].stats)).Add(this.cont_list[this.cont_sel].stats)).Round(),t}GetElectrics(){var t=0,e=[];for(let s=0;s<this.electric_list.length;s++){const i=this.electric_list[s],a=this.electrical_count[s];a>0&&(t+=i.storage*a,i.cp10s>0?e.push({source:h(i.name),charge:n.Format("{0}"+h("Derived Per 10 Speed"),Math.floor(1e-6+a*i.cp10s))}):0!=i.stats.charge&&e.push({source:h(i.name),charge:(a*i.stats.charge).toString()}))}const s=this.radio_list[this.radio_sel];e=this.FormatEquipment(e,s.name,s.stats.charge);for(let t=0;t<this.clim_list.length;t++)if(this.clim_sel[t]){const s=this.clim_list[t];e=this.FormatEquipment(e,s.name,s.stats.charge)}for(let t=0;t<this.recon_list.length;t++){const s=this.recon_list[t],i=this.recon_sel[t];i>0&&(e=this.FormatEquipment(e,s.name,i*s.stats.charge))}for(let t=0;t<this.visi_list.length;t++)if(this.visi_sel[t]){const s=this.visi_list[t];e=this.FormatEquipment(e,s.name,s.stats.charge)}const i=this.auto_list[this.auto_sel];e=this.FormatEquipment(e,i.name,i.stats.charge);const a=this.cont_list[this.cont_sel];return{storage:t,equipment:e=this.FormatEquipment(e,a.name,a.stats.charge)}}}class lt extends H{constructor(){super(),this.free_dots=0,this.cost=0,this.bleed=0,this.escape=0,this.mass=0,this.toughness=0,this.maxstrain=0,this.reliability=0,this.drag=0,this.acft_stats=new u}toJSON(){return{free_dots:this.free_dots,cost:this.cost,bleed:this.bleed,escape:this.escape,mass:this.mass,toughness:this.toughness,maxstrain:this.maxstrain,reliability:this.reliability,drag:this.drag}}fromJSON(t,e){this.free_dots=t.free_dots,this.cost=t.cost,this.bleed=t.bleed,this.escape=t.escape,this.mass=t.mass,this.toughness=t.toughness,this.maxstrain=t.maxstrain,this.reliability=t.reliability,this.drag=t.drag}serialize(t){t.PushNum(this.free_dots),t.PushNum(this.cost),t.PushNum(this.bleed),t.PushNum(this.escape),t.PushNum(this.mass),t.PushNum(this.toughness),t.PushNum(this.maxstrain),t.PushNum(this.reliability),t.PushNum(this.drag)}deserialize(t){this.free_dots=t.GetNum(),this.cost=t.GetNum(),this.bleed=t.GetNum(),this.escape=t.GetNum(),this.mass=t.GetNum(),this.toughness=t.GetNum(),this.maxstrain=t.GetNum(),this.reliability=t.GetNum(),this.drag=t.GetNum()}IsDefault(){return 0==this.free_dots&&0==this.cost&&0==this.bleed&&0==this.escape&&0==this.mass&&0==this.toughness&&0==this.maxstrain&&0==this.reliability&&0==this.drag}GetUnassignedCount(){return this.free_dots-this.cost-this.bleed-this.escape-this.mass-this.toughness-this.maxstrain-this.reliability-this.drag}ReduceDots(){var t=-this.GetUnassignedCount();if(t>0){let e=Math.min(t,this.drag);e=Math.max(e,0),this.drag-=e,t-=e,e=Math.min(t,this.reliability),e=Math.max(e,0),this.reliability-=e,t-=e,e=Math.min(t,this.maxstrain),e=Math.max(e,0),this.maxstrain-=e,t-=e,e=Math.min(t,this.toughness),e=Math.max(e,0),this.toughness-=e,t-=e,e=Math.min(t,this.mass),e=Math.max(e,0),this.mass-=e,t-=e,e=Math.min(t,this.escape),e=Math.max(e,0),this.escape-=e,t-=e,e=Math.min(t,this.bleed),e=Math.max(e,0),this.bleed-=e,t-=e,e=Math.min(t,this.cost),e=Math.max(e,0),this.cost-=e,t-=e}}GetFreeDots(){return this.free_dots}SetFreeDots(t){(t!=t||t<0)&&(t=0),t=Math.floor(1e-6+t),t=Math.max(t,0),this.free_dots=t,this.ReduceDots(),this.CalculateStats()}GetCost(){return this.cost}SetCost(t){t!=t&&(t=0),t=Math.floor(1e-6+t),t=Math.max(t,-3),t=Math.min(t,3),this.cost=t,this.ReduceDots(),this.CalculateStats()}GetBleed(){return this.bleed}SetBleed(t){t!=t&&(t=0),t=Math.floor(1e-6+t),t=Math.max(t,-3),t=Math.min(t,3),this.bleed=t,this.ReduceDots(),this.CalculateStats()}GetEscape(){return this.escape}SetEscape(t){t!=t&&(t=0),t=Math.floor(1e-6+t),t=Math.max(t,-3),t=Math.min(t,3),this.escape=t,this.ReduceDots(),this.CalculateStats()}GetMass(){return this.mass}SetMass(t){t!=t&&(t=0),t=Math.floor(1e-6+t),t=Math.max(t,-3),t=Math.min(t,3),this.mass=t,this.ReduceDots(),this.CalculateStats()}GetToughness(){return this.toughness}SetToughness(t){t!=t&&(t=0),t=Math.floor(1e-6+t),t=Math.max(t,-3),t=Math.min(t,3),this.toughness=t,this.ReduceDots(),this.CalculateStats()}GetMaxStrain(){return this.maxstrain}SetMaxStrain(t){t!=t&&(t=0),t=Math.floor(1e-6+t),t=Math.max(t,-3),t=Math.min(t,3),this.maxstrain=t,this.ReduceDots(),this.CalculateStats()}GetReliabiilty(){return this.reliability}SetReliability(t){t!=t&&(t=0),t=Math.floor(1e-6+t),t=Math.max(t,-3),t=Math.min(t,3),this.reliability=t,this.ReduceDots(),this.CalculateStats()}GetDrag(){return this.drag}SetDrag(t){t!=t&&(t=0),t=Math.floor(1e-6+t),t=Math.max(t,-3),t=Math.min(t,3),this.drag=t,this.ReduceDots(),this.CalculateStats()}SetAcftStats(t){this.acft_stats=t}SetCalculateStats(t){this.CalculateStats=t}PartStats(){const t=new u;return t.cost=Math.floor(1e-6+-this.cost*this.acft_stats.cost/10),t.liftbleed=Math.floor(1e-6+3*-this.bleed),t.escape=this.escape,t.visibility=this.escape,t.mass=Math.floor(1e-6+-this.mass*this.acft_stats.mass/10),t.toughness=Math.floor(1e-6+this.toughness*this.acft_stats.toughness/4),t.reliability=2*this.reliability,t.drag=Math.floor(1e-6+-this.drag*this.acft_stats.drag/10),t}GetElectrics(){return{storage:0,equipment:[]}}}!function(t){t[t.NONE=-1]="NONE",t[t.INTERRUPT=0]="INTERRUPT",t[t.SYNCH=1]="SYNCH",t[t.SPINNER=2]="SPINNER",t[t.DEFLECT=3]="DEFLECT",t[t.NO_INTERFERENCE=4]="NO_INTERFERENCE",t[t.ENUM_MAX=5]="ENUM_MAX"}(k||(k={})),function(t){t[t.BULLETS=0]="BULLETS",t[t.HEATRAY=1]="HEATRAY",t[t.PNEUMATIC=2]="PNEUMATIC",t[t.ENUM_MAX=3]="ENUM_MAX",t[t.GYROJETS=4]="GYROJETS"}(W||(W={})),function(t){t[t.STANDARD=0]="STANDARD",t[t.MECHANICAL=1]="MECHANICAL",t[t.GAST=2]="GAST",t[t.ROTARY=3]="ROTARY",t[t.ENUM_MAX=4]="ENUM_MAX"}(O||(O={}));class ht extends H{constructor(t,e,s,i=!1){super(),this.weapon_type=t,this.fixed=i,this.wing=!0,this.covered=!1,this.accessible=!1,this.free_accessible=!1,this.synchronization=i?k.NONE:k.INTERRUPT,this.w_count=1,this.repeating=!1,this.wing_reinforcement=!1}toJSON(){return{fixed:this.fixed,wing:this.wing,covered:this.covered,accessible:this.accessible,free_accessible:this.free_accessible,synchronization:this.synchronization,w_count:this.w_count}}fromJSON(t,e){this.fixed=t.fixed,this.wing=t.wing,this.covered=t.covered,this.accessible=t.accessible,this.free_accessible=t.free_accessible,this.synchronization=t.synchronization,this.w_count=t.w_count,e<10.95&&(this.repeating=t.repeating)}serialize(t){t.PushBool(this.fixed),t.PushBool(this.wing),t.PushBool(this.covered),t.PushBool(this.accessible),t.PushBool(this.free_accessible),t.PushNum(this.synchronization),t.PushNum(this.w_count)}deserialize(t){this.fixed=t.GetBool(),this.wing=t.GetBool(),this.covered=t.GetBool(),this.accessible=t.GetBool(),this.free_accessible=t.GetBool(),this.synchronization=t.GetNum(),this.w_count=t.GetNum(),t.version<10.95&&(this.repeating=t.GetBool())}SetWeaponType(t,e,s){this.weapon_type=t,this.action=e,16==this.weapon_type.size&&(this.w_count=1),this.SetCount(this.w_count)}GetFixed(){return this.fixed}SetFixed(t){t!=this.fixed&&(t?this.fixed=!0:(this.fixed=!1,this.synchronization=k.NONE),this.CalculateStats())}SetCanWing(t){this.canwing=t,this.wing&&!t&&(this.wing=!1)}GetWing(){return this.wing}CanWing(){return this.weapon_type.size<=16&&this.canwing}SetWing(t){t&&this.CanWing()?(this.wing=!0,this.free_accessible=!1,this.synchronization=k.NONE):this.wing=!1,this.CalculateStats()}CanCovered(){return this.wing?this.has_cantilever&&!(16==this.weapon_type.size&&!this.fixed):!(this.GetArty()&&!this.fixed)}GetCovered(){return this.covered}SetCovered(t){this.covered=t,this.CalculateStats()}GetAccessible(){return this.accessible||this.free_accessible}SetAccessible(t){t&&this.free_accessible&&(t=!1),this.accessible=t,this.CalculateStats()}GetFreeAccessible(){return this.free_accessible}SetFreeAccessible(t){t&&!this.wing&&this.can_free_accessible?(this.free_accessible=!0,this.accessible=!1):this.free_accessible=!1,this.CalculateStats()}CanSynchronization(){const t=[];for(let e=-1;e<k.ENUM_MAX;e++)t.push(this.CanSynch(e));return t}CanSynch(t){return this.fixed||this.wing?!(this.can_synchronize&&t==k.NONE||!this.can_synchronize&&t!=k.NONE||"Fliergerflammenwerfer"==this.weapon_type.name&&t!=k.NONE&&t!=k.SPINNER&&t!=k.NO_INTERFERENCE||!(this.action!=O.MECHANICAL||t==k.NONE||t==k.SYNCH||t==k.SPINNER&&this.CanSpinner())||this.action==O.GAST&&t==k.SPINNER||!(t!=k.INTERRUPT&&t!=k.SYNCH||this.weapon_type.synched)||t==k.SPINNER&&!this.CanSpinner()||t==k.DEFLECT&&this.GetArty()):this.can_synchronize?(t==k.NONE||t==k.DEFLECT||t==k.NO_INTERFERENCE)&&(t!=k.NONE&&t!=k.DEFLECT||!this.GetArty()):t==k.NONE}GetSynchronization(){return this.synchronization}SetSynchronization(t){this.CanSynch(t)?this.synchronization=t:this.synchronization=k.NONE,this.synchronization==k.SPINNER&&(this.w_count=1),this.CalculateStats()}GetCount(){return this.w_count}SetCount(t){for(t!=t&&(t=1),t=Math.max(1,t),this.synchronization==k.SPINNER&&(t=1),"Precision Rifle"==this.weapon_type.name&&(t=1);t*this.weapon_type.size>16;)t-=1;this.w_count=t,this.CalculateStats()}CanRepeating(){return!this.weapon_type.rapid||this.weapon_type.reload>0}GetRepeating(){return this.repeating}SetRepeating(t){t&&this.CanRepeating()?this.repeating=!0:this.repeating=!1,this.CalculateStats()}ResolveSynch(){const t=this.synchronization;if(this.synchronization=k.ENUM_MAX,this.CanSynch(t))this.action==O.MECHANICAL&&t!=k.SPINNER?this.synchronization=k.SYNCH:this.synchronization=t;else{for(let t=-1;t<k.ENUM_MAX;t++)if(this.CanSynch(t)){this.synchronization=t;break}this.synchronization==k.ENUM_MAX&&this.SetWing(!0)}this.wing&&(this.synchronization=k.NONE),this.synchronization==k.SPINNER&&(this.w_count=1,this.covered=!0),this.IsLightningArc()&&(this.synchronization=k.NO_INTERFERENCE)}GetArty(){return 16==this.weapon_type.size}CanSpinner(){return this.GetArty()?this.can_spinner&&this.can_arty_spinner:this.can_spinner}GetJam(){if(this.weapon_type.rapid){const t=this.weapon_type.jam.split("/"),e=[parseInt(t[0]),parseInt(t[1])];return this.synchronization==k.INTERRUPT&&(e[0]++,e[1]++),this.repeating&&(e[0]++,e[1]++),e}var t=parseInt(this.weapon_type.jam);return this.synchronization==k.INTERRUPT&&(t+=1),this.repeating&&(t+=1),t}IsLightningArc(){return"Lightning Arc"==this.weapon_type.name}SetTurret(t){this.turret=t}SetCalculateStats(t){this.CalculateStats=t}PartStats(){var t=new u;this.ResolveSynch(),!this.CanCovered()&&this.covered&&(this.covered=!1),16==this.weapon_type.size&&(this.covered=this.fixed);var e=0;for(let s=0;s<this.w_count;s++)t=t.Add(this.weapon_type.stats),e+=this.weapon_type.size;if(this.covered){var s=0;this.weapon_type.size<=1?s=0:this.weapon_type.size<=2?s=1:this.weapon_type.size<=4?s=2:this.weapon_type.size<=8?s=5:this.weapon_type.size<=16&&(s=0),s*=this.w_count,this.fixed||(s*=2),this.synchronization!=k.SPINNER&&(t.cost+=s),t.drag*=0}if(this.wing&&!this.covered&&(t.drag+=this.w_count),(this.turret&&e>8||16==this.weapon_type.size)&&(t.reqsections+=1),this.accessible&&(t.cost+=Math.max(1,Math.floor(1e-6+this.w_count/2))),!this.fixed)if(e<=2);else if(e<=4)t.cost+=1;else if(e<=8)t.mass+=1,t.cost+=3;else{if(!(e<=16))throw"Weapon size screwup in Turret size cost.";t.mass+=2,t.cost+=5}return this.synchronization==k.INTERRUPT?(t.cost+=2*this.w_count,"Light Machine Cannon"==this.weapon_type.name&&(t.cost+=2*this.w_count),t.era.push({name:h("Interruptor Gear"),era:h("WWI")})):this.synchronization==k.SYNCH&&this.action!=O.MECHANICAL?(t.cost+=3*this.w_count,"Light Machine Cannon"==this.weapon_type.name&&(t.cost+=3*this.w_count),t.era.push({name:h("Synchronization Gear"),era:h("Roaring 20s")})):this.synchronization==k.DEFLECT?(t.cost+=1,t.warnings.push({source:h(this.weapon_type.name),warning:h("Deflector Plate Warning"),color:c.WHITE})):this.synchronization!=k.NO_INTERFERENCE||this.IsLightningArc()||t.warnings.push({source:h(this.weapon_type.name)+" "+h("No Interference"),warning:h("No Interference Warning"),color:c.YELLOW}),this.wing_reinforcement&&(t.mass+=2),t.Round(),t}GetElectrics(){return{storage:0,equipment:[]}}}class ct extends H{constructor(t,e){super(),this.weapon_list=t,this.wl_permute=e,this.directions=[...Array(6).fill(!1)],this.directions[0]=!0,this.fixed=!0,this.ammo=1,this.weapon_type=0,this.raw_weapon_type=0,this.weapons=[],this.action_sel=O.STANDARD,this.projectile_sel=W.BULLETS,this.has_propeller=!0,this.sticky_guns=0,this.repeating=!1,this.seat=0,this.final_weapon={name:"",abrv:"",era:"",size:0,stats:new u,damage:0,hits:0,ammo:0,ap:0,jam:"",reload:0,rapid:!1,synched:!1,shells:!1,can_action:!1,can_projectile:!1,deflection:0},this.MakeFinalWeapon(),this.SWC(1)}toJSON(){const t=[];for(const e of this.weapons)t.push(e.toJSON());return{weapon_type:this.raw_weapon_type,fixed:this.fixed,directions:this.directions,weapons:t,ammo:this.ammo,action:this.action_sel,projectile:this.projectile_sel,repeating:this.repeating,seat:this.seat}}fromJSON(t,e){this.raw_weapon_type=t.weapon_type,this.weapon_type=this.wl_permute[this.raw_weapon_type],this.fixed=t.fixed,this.directions=S(t.directions,this.directions.length),this.weapons=[],this.ammo=t.ammo,null==this.ammo&&(this.ammo=1),e<10.25?(this.action_sel=O.STANDARD,this.projectile_sel=W.BULLETS):(this.action_sel=t.action,this.projectile_sel=t.projectile),e<11.75&&(this.projectile_sel==W.PNEUMATIC?this.projectile_sel=W.BULLETS:this.projectile_sel==W.ENUM_MAX&&(this.projectile_sel=W.PNEUMATIC)),this.MakeFinalWeapon();for(const s of t.weapons){const t=new ht(this.final_weapon,this.action_sel,this.projectile_sel,this.fixed);t.SetCalculateStats(this.CalculateStats),t.fromJSON(s,e),this.weapons.push(t)}if(e<10.95){this.repeating=!1;for(const t of this.weapons)this.repeating=this.repeating||t.GetRepeating()}else this.repeating=t.repeating;this.seat=e>11.65?t.seat:0,this.MakeFinalWeapon();for(const t of this.weapons)t.SetWeaponType(this.final_weapon,this.action_sel,this.projectile_sel)}serialize(t){t.PushNum(this.raw_weapon_type),t.PushBool(this.fixed),t.PushBoolArr(this.directions),t.PushNum(this.ammo),t.PushNum(this.weapons.length);for(const e of this.weapons)e.serialize(t);t.PushNum(this.action_sel),t.PushNum(this.projectile_sel),t.PushBool(this.repeating),t.PushNum(this.seat)}deserialize(t){this.raw_weapon_type=t.GetNum(),this.weapon_type=this.wl_permute[this.raw_weapon_type],this.fixed=t.GetBool(),this.directions=t.GetBoolArr(this.directions.length),this.ammo=t.GetNum();const e=t.GetNum();this.weapons=[],this.MakeFinalWeapon();for(let s=0;s<e;s++){const e=new ht(this.final_weapon,this.action_sel,this.projectile_sel,this.fixed);e.SetCalculateStats(this.CalculateStats),e.deserialize(t),this.weapons.push(e)}if(t.version<10.25?(this.action_sel=O.STANDARD,this.projectile_sel=W.BULLETS):(this.action_sel=t.GetNum(),this.projectile_sel=t.GetNum()),t.version<11.75&&(this.projectile_sel==W.PNEUMATIC?this.projectile_sel=W.BULLETS:this.projectile_sel==W.ENUM_MAX&&(this.projectile_sel=W.PNEUMATIC)),t.version<10.95){this.repeating=!1;for(const t of this.weapons)this.repeating=this.repeating||t.GetRepeating()}else this.repeating=t.GetBool();t.version>11.65?this.seat=t.GetNum():this.seat=0,this.MakeFinalWeapon();for(const t of this.weapons)t.SetWeaponType(this.final_weapon,this.action_sel,this.projectile_sel)}GetWeaponSelected(){return this.weapon_type}MakeFinalWeapon(){const t=this.weapon_type;if(this.final_weapon.can_action=this.weapon_list[t].can_action,this.final_weapon.can_projectile=this.weapon_list[t].can_projectile,this.final_weapon.ammo=this.weapon_list[t].ammo,this.final_weapon.ap=this.weapon_list[t].ap,this.final_weapon.damage=this.weapon_list[t].damage,this.final_weapon.era=this.weapon_list[t].era,this.final_weapon.name=this.weapon_list[t].name,this.final_weapon.abrv=this.weapon_list[t].abrv,this.final_weapon.reload=this.weapon_list[t].reload,this.final_weapon.shells=this.weapon_list[t].shells,this.final_weapon.size=this.weapon_list[t].size,this.final_weapon.stats=this.weapon_list[t].stats.Clone(),this.final_weapon.deflection=this.weapon_list[t].deflection,this.final_weapon.jam=this.weapon_list[t].jam,this.final_weapon.stats.era=[],this.final_weapon.stats.era.push({name:this.weapon_list[t].name,era:this.weapon_list[t].era}),0==this.weapon_list[t].hits&&(this.action_sel==O.MECHANICAL&&(this.action_sel=O.STANDARD),this.projectile_sel!=W.GYROJETS&&this.projectile_sel!=W.HEATRAY||(this.projectile_sel=W.BULLETS)),this.action_sel==O.STANDARD)this.final_weapon.hits=this.weapon_list[t].hits,this.final_weapon.rapid=this.weapon_list[t].rapid,this.final_weapon.synched=this.weapon_list[t].synched;else if(this.action_sel==O.MECHANICAL)this.final_weapon.hits=this.weapon_list[t].hits,this.final_weapon.stats.warnings.push({source:h("Mechanical Action"),warning:h("Mechanical Action Warning"),color:c.WHITE}),this.final_weapon.jam="0/0",this.final_weapon.rapid=!0,this.final_weapon.stats.cost+=this.weapon_list[t].stats.cost,this.final_weapon.synched=!0,this.final_weapon.stats.era.push({name:h("Mechanical Action"),era:h("WWI")});else if(this.action_sel==O.GAST)this.final_weapon.hits=2*this.weapon_list[t].hits,this.final_weapon.ammo=this.weapon_list[t].ammo/2,this.final_weapon.rapid=this.weapon_list[t].rapid,this.final_weapon.stats.cost+=this.weapon_list[t].stats.cost,this.final_weapon.synched=!1,this.final_weapon.stats.era.push({name:h("Gast Principle"),era:h("WWI")});else if(this.action_sel==O.ROTARY){this.final_weapon.stats.mass+=this.weapon_list[t].stats.mass,this.final_weapon.stats.cost+=this.weapon_list[t].stats.cost,this.final_weapon.size+=this.weapon_list[t].size,this.final_weapon.size=Math.min(16,this.final_weapon.size),this.final_weapon.hits=3*this.weapon_list[t].hits,this.final_weapon.deflection-=1,this.final_weapon.synched=!1;const e=this.final_weapon.jam.split("/");e[0]="9999",e[1]=(parseInt(e[1])+1).toString(),this.final_weapon.jam=e.join("/"),this.final_weapon.stats.era.push({name:h("Rotary_Gun"),era:h("WWI")})}if(this.repeating&&0!=this.final_weapon.reload&&(this.final_weapon.reload=0,this.final_weapon.stats.cost+=Math.max(1,Math.floor(1e-6+.5*this.weapon_list[t].stats.cost))),this.action_sel!=O.GAST&&this.action_sel!=O.MECHANICAL||this.projectile_sel!=W.HEATRAY||(this.projectile_sel=W.BULLETS),this.action_sel!=O.GAST&&this.action_sel!=O.ROTARY||this.projectile_sel!=W.PNEUMATIC||(this.projectile_sel=W.BULLETS),this.projectile_sel==W.HEATRAY)this.final_weapon.stats.cost+=this.weapon_list[t].stats.cost,this.final_weapon.shells=!1,this.final_weapon.ammo=0,this.final_weapon.deflection=0,this.final_weapon.ap=Math.max(0,this.final_weapon.ap-1),this.final_weapon.stats.warnings.push({source:h("Heat Ray"),warning:h("Heat Ray Warning"),color:c.WHITE}),this.final_weapon.stats.era.push({name:h("Heat Ray"),era:h("Himmilgard")});else if(this.projectile_sel==W.GYROJETS)this.final_weapon.stats.cost+=Math.max(1,Math.floor(1e-6+.5*this.weapon_list[t].stats.cost)),this.final_weapon.shells=!1,this.final_weapon.damage-=1,this.final_weapon.stats.warnings.push({source:h("Gyrojets"),warning:h("Gyrojets Warning"),color:c.WHITE}),this.final_weapon.stats.era.push({name:h("Gyrojets"),era:h("Roaring 20s")});else if(this.projectile_sel==W.PNEUMATIC){if(this.final_weapon.ammo*=2,this.final_weapon.shells=!1,this.final_weapon.rapid){const t=this.final_weapon.jam.split("/");t[1]="9999",this.final_weapon.jam=t.join("/"),this.final_weapon.stats.warnings.push({source:h("Pneumatic"),warning:h("Pneumatic Warning 1"),color:c.WHITE}),this.final_weapon.stats.era.push({name:h("Pneumatic"),era:h("Pioneer")})}this.final_weapon.hits>0&&this.final_weapon.stats.warnings.push({source:h("Pneumatic"),warning:h("Pneumatic Warning 2"),color:c.WHITE})}0!=this.final_weapon.deflection&&this.final_weapon.stats.warnings.push({source:h(this.final_weapon.name),warning:h("Deflection Warning",this.final_weapon.deflection),color:c.WHITE})}SetWeaponSelected(t){const e=this.IsLightningArc();if(this.weapon_type=t,this.raw_weapon_type=this.wl_permute.findIndex((e=>e==t)),16==this.weapon_list[t].size)for(;this.weapons.length>1;)this.weapons.pop();this.weapon_list[t].can_action&&this.GetCanAction()[this.action_sel]||(this.action_sel=O.STANDARD),this.weapon_list[t].can_projectile&&this.GetCanProjectile()[this.projectile_sel]||(this.projectile_sel=W.BULLETS),this.weapon_list[t].rapid?this.repeating=!1:this.repeating||this.action_sel!=O.GAST||(this.action_sel=O.STANDARD),this.CanRepeating()||(this.repeating=!1),this.MakeFinalWeapon();for(const t of this.weapons)t.SetWeaponType(this.final_weapon,this.action_sel,this.projectile_sel);if(this.IsLightningArc()){this.SetFixed(!0),this.directions[0]=!0;for(let t=1;t<this.directions.length;t++)this.directions[t]=!1}e&&!this.IsLightningArc()&&this.weapons[0].SetSynchronization(k.NONE),this.CalculateStats()}CanRepeating(){return(!this.weapon_list[this.weapon_type].rapid||this.weapon_list[this.weapon_type].reload>0)&&this.weapon_list[this.weapon_type].ammo>0&&"Precision Rifle"!=this.weapon_list[this.weapon_type].name}GetRepeating(){return this.repeating}SetRepeating(t){t&&this.CanRepeating()?this.repeating=!0:(this.repeating=!1,this.weapon_list[this.weapon_type].rapid||this.action_sel!=O.GAST||(this.action_sel=O.STANDARD)),this.MakeFinalWeapon();for(const t of this.weapons)t.SetWeaponType(this.final_weapon,this.action_sel,this.projectile_sel);this.CalculateStats()}GetFixed(){return this.fixed}SetFixed(t){if(this.IsLightningArc()&&(t=!0),this.fixed!=t){this.fixed=t;for(const t of this.weapons)t.SetFixed(this.fixed);if(t){let t=!1;for(let e=0;e<this.directions.length;e++)this.directions[e]&&t?this.directions[e]=!1:this.directions[e]&&(t=!0)}}this.CalculateStats()}CanDirection(){if(this.IsLightningArc())return[...Array(this.directions.length).fill(!1)];const t=[...Array(this.directions.length).fill(!0)];return this.weapons[0].GetArty()&&this.fixed&&!this.weapons[0].GetWing()&&this.heli&&(t[2]=!1),t}GetDirection(){return this.directions}SetDirection(t,e){this.fixed&&this.directions[t]&&!e&&(e=!0),this.fixed&&(this.directions=[...Array(6).fill(!1)],this.weapons[0].GetArty()&&!this.weapons[0].GetWing()&&2==t&&this.heli&&(t=3)),this.directions[t]=e,this.CalculateStats()}GetMountingCount(){return this.weapons.length}GetWeaponCount(){let t=0;for(const e of this.weapons)t+=e.GetCount();return t}SWC(t){for((t!=t||t<1)&&(t=1),t=Math.floor(1e-6+t);t>this.weapons.length;){const t=new ht(this.final_weapon,this.action_sel,this.projectile_sel,this.fixed);t.SetCalculateStats(this.CalculateStats),this.weapons.push(t)}for(;t<this.weapons.length;)this.weapons.pop()}SetMountingCount(t){16!=this.final_weapon.size&&"Precision Rifle"!=this.final_weapon.name||(t=1),this.SWC(t),this.CalculateStats()}GetWeapons(){return this.weapons}SetCanFreelyAccessible(t){for(const e of this.weapons)e.GetWing()?e.can_free_accessible=!1:e.can_free_accessible=t}SetTractorPusher(t,e,s,i,a,n,r){if(this.tractor=t,this.pusher=i,this.heli=r,this.spinner_t=s,this.spinner_p=n,this.directions[0]&&t)for(const t of this.weapons)t.GetFixed()&&!t.GetWing()?(t.can_synchronize=!0,t.can_spinner=e||t.GetSynchronization()==k.SPINNER,t.can_arty_spinner=s||t.GetSynchronization()==k.SPINNER):t.GetFixed()||t.GetWing()?(t.can_synchronize=!1,t.can_spinner=!1,t.can_arty_spinner=!1):(t.can_synchronize=!0,t.can_spinner=!1,t.can_arty_spinner=!1);else if(this.directions[1]&&i)for(const t of this.weapons)t.GetFixed()&&!t.GetWing()?(t.can_synchronize=!0,t.can_spinner=a||t.GetSynchronization()==k.SPINNER,t.can_arty_spinner=n||t.GetSynchronization()==k.SPINNER):t.GetFixed()||t.GetWing()?(t.can_synchronize=!1,t.can_spinner=!1,t.can_arty_spinner=!1):(t.can_synchronize=!0,t.can_spinner=!1,t.can_arty_spinner=!1);else if(this.directions[2]&&this.heli)for(const t of this.weapons)t.can_synchronize=!0,t.can_spinner=!1,t.can_arty_spinner=!1;else for(const t of this.weapons)t.can_synchronize=!1,t.can_spinner=!1,t.can_arty_spinner=!1}GetHits(){const t=this.final_weapon.hits;if(0!=t){let e=0,s=0;for(const i of this.weapons)i.GetWing()&&(i.GetFixed()||this.GetDirectionCount()<=2)?s+=i.GetCount()*t:e+=i.GetCount()*t;return[e+s,Math.floor(1e-6+.75*e)+Math.floor(1e-6+.9*s),Math.floor(1e-6+.5*e)+Math.floor(1e-6+.2*s),Math.floor(1e-6+.25*e)+Math.floor(1e-6+.1*s)]}if(this.IsLightningArc())return[0,0,0,0];if(0==this.final_weapon.ammo){let t=0;for(const e of this.weapons)t+=e.GetCount();return[3*t,0,0,0]}{let t=0;for(const e of this.weapons)t+=e.GetCount();return this.action_sel==O.GAST&&(t*=2),[3*t,2*t,1*t,0]}}GetDamage(){return this.final_weapon.damage}GetAmmo(){return this.ammo}GetJam(){if(this.final_weapon.rapid){let t=[0,0];for(const e of this.weapons){const s=e.GetJam();t[0]=Math.max(t[0],s[0]+this.sticky_guns),t[1]=Math.max(t[1],s[1]+this.sticky_guns)}return t[0].toString()+"/"+t[1].toString()}{let t=0;for(const e of this.weapons)t=Math.max(t,e.GetJam()+this.sticky_guns);return t.toString()}}IsPlural(){return this.weapons.length>1||this.weapons[0].GetCount()>1}SetAmmo(t){(t!=t||t<1)&&(t=1),t=Math.floor(1e-6+t),this.ammo=t,this.CalculateStats()}SetHavePropeller(t){this.has_propeller&&!t&&this.action_sel==O.MECHANICAL&&(this.has_propeller=t,this.SetAction(O.STANDARD)),this.has_propeller=t}SetCanWing(t){for(const e of this.weapons)e.SetCanWing(t)}GetAction(){return this.action_sel}GetCanAction(){return[!0,this.has_propeller&&this.weapon_list[this.weapon_type].can_action&&this.weapon_list[this.weapon_type].hits>0&&(this.repeating||this.weapon_list[this.weapon_type].rapid),this.weapon_list[this.weapon_type].can_action&&(this.repeating||this.weapon_list[this.weapon_type].rapid),this.weapon_list[this.weapon_type].can_action&&this.weapon_list[this.weapon_type].rapid]}SetAction(t){if(this.final_weapon.can_action){this.action_sel=t,this.MakeFinalWeapon();for(const t of this.weapons)t.SetWeaponType(this.final_weapon,this.action_sel,this.projectile_sel)}else this.action_sel=O.STANDARD;this.CalculateStats()}GetCanProjectile(){return[!0,this.final_weapon.can_projectile&&this.action_sel!=O.MECHANICAL&&this.action_sel!=O.GAST&&this.weapon_list[this.weapon_type].hits>0,this.final_weapon.can_projectile&&this.action_sel!=O.ROTARY&&this.action_sel!=O.GAST]}GetProjectile(){return this.projectile_sel}SetProjectile(t){if(this.final_weapon.can_projectile){this.projectile_sel=t,this.MakeFinalWeapon();for(const t of this.weapons)t.SetWeaponType(this.final_weapon,this.action_sel,this.projectile_sel)}else this.projectile_sel=W.BULLETS;this.CalculateStats()}GetFinalWeapon(){return this.final_weapon}SetStickyGuns(t){this.sticky_guns=t}GetHRCharges(){if(this.IsLightningArc())return[3];let t=0;for(const e of this.weapons)t+=e.GetCount();if(this.final_weapon.hits>0){let e=this.weapon_list[this.weapon_type].stats.cost;return this.action_sel==O.ROTARY&&(e*=2),this.final_weapon.rapid?[t*e,Math.max(t*e+1,Math.floor(1e-6+1.5*t*e))]:[t*e]}return"Scattergun"==this.final_weapon.name?this.final_weapon.rapid?[Math.floor(1.875001),Math.floor(3.125001)]:[Math.floor(1.875001)]:"Punt Gun"==this.final_weapon.name?this.final_weapon.rapid?[Math.floor(3.750001),Math.floor(6.250001)]:[Math.floor(3.750001)]:void 0}GetShots(){return Math.max(1,Math.floor(1e-6+this.final_weapon.ammo*this.ammo))}IsLightningArc(){return"Lightning Arc"==this.final_weapon.name}GetReload(){return this.final_weapon.reload}GetWingWeight(){let t=0;for(const e of this.weapons)e.GetWing()&&(t+=e.PartStats().mass);return t}GetDirectionCount(){let t=0;for(const e of this.directions)e&&t++;return t}SetSeat(t){this.seat=t,this.CalculateStats()}GetSeat(){return this.seat}GetIsFullyAccessible(){for(const t of this.weapons)if(!t.GetAccessible())return!1;return!0}GetIsPartlyAccessible(){for(const t of this.weapons)if(t.GetAccessible())return!0;return!1}SetCalculateStats(t){this.CalculateStats=t;for(const e of this.weapons)e.SetCalculateStats(t)}PartStats(){var t=new u;let e=this.GetDirectionCount(),s=0;for(const i of this.weapons)i.has_cantilever=this.has_cantilever,i.SetTurret(e>2),t=t.Add(i.PartStats()),s+=i.GetCount(),this.fixed||(2==e?t.cost+=1:3==e||4==e?t.cost+=2:5==e?t.cost+=3:6==e&&(t.cost+=4));return(this.projectile_sel==W.HEATRAY||this.IsLightningArc())&&(this.ammo=1),t.mass+=(this.ammo-1)*s,t}GetElectrics(){return{storage:0,equipment:[]}}}const ut=JSON.parse('{"A":[{"name":"Submachine Gun","abrv":"SMG","era":"WWI","cost":1,"mass":1,"drag":0,"damage":1,"hits":4,"ap":0,"ammo":10,"rapid":true,"manual":false,"synched":false,"shells":false,"jam":"0/1","reload":2,"size":1,"can_action":true,"can_projectile":true,"deflection":0,"warning":"SMG Warning"},{"name":"Scattergun","abrv":"SG","era":"Pioneer","cost":2,"mass":2,"drag":2,"damage":0.5,"hits":0,"ap":0,"ammo":8,"rapid":false,"manual":true,"synched":false,"shells":false,"jam":"0","reload":1,"warning":"Scattergun Warning","size":2,"can_action":true,"can_projectile":true,"deflection":0},{"name":"Light Machine Gun","abrv":"LMG","era":"WWI","cost":2,"mass":2,"drag":1,"damage":2,"hits":4,"ap":1,"ammo":8,"rapid":true,"manual":false,"synched":false,"shells":false,"jam":"1/2","reload":2,"size":2,"can_action":true,"can_projectile":true,"deflection":0},{"name":"Machine Gun","abrv":"MG","era":"WWI","cost":2,"mass":3,"drag":1,"damage":2,"hits":4,"ap":1,"ammo":10,"rapid":true,"manual":false,"synched":true,"shells":false,"jam":"1/2","reload":0,"size":4,"can_action":true,"can_projectile":true,"deflection":0},{"name":"Balloon Gun","abrv":"BMG","era":"WWI","cost":3,"mass":3,"drag":1,"damage":2,"hits":4,"ap":0,"ammo":6,"rapid":true,"manual":false,"synched":true,"shells":true,"jam":"2/3","reload":0,"size":4,"can_action":true,"can_projectile":true,"deflection":-2},{"name":"Enhanced Machine Gun","abrv":"EMG","era":"Coming Storm","cost":3,"mass":2,"drag":1,"damage":2,"hits":5,"ap":1,"ammo":8,"rapid":true,"manual":false,"synched":true,"shells":false,"jam":"0/0","reload":0,"size":2,"can_action":true,"can_projectile":true,"deflection":0},{"name":"Enhanced Heavy Machine Gun","abrv":"EHMG","era":"Coming Storm","cost":5,"mass":3,"drag":2,"damage":4,"hits":5,"ap":2,"ammo":6,"rapid":true,"manual":false,"synched":true,"shells":true,"jam":"0/0","reload":0,"size":4,"can_action":true,"can_projectile":true,"deflection":0},{"name":"Punt Gun","abrv":"PG","era":"Pioneer","cost":4,"mass":4,"drag":3,"damage":0.5,"hits":0,"ap":0,"ammo":5,"rapid":false,"manual":true,"synched":false,"shells":false,"jam":"0","reload":1,"warning":"Punt Gun Warning","size":8,"can_action":true,"can_projectile":true,"deflection":0},{"name":"Light Repeating Cannon","abrv":"LRC","era":"WWI","cost":4,"mass":4,"drag":3,"damage":8,"hits":3,"ap":2,"ammo":6,"rapid":true,"manual":false,"synched":false,"shells":true,"jam":"2/5","reload":2,"size":8,"can_action":true,"can_projectile":true,"deflection":-3},{"name":"Heavy Cannon","abrv":"HC","era":"WWI","cost":6,"mass":5,"drag":2,"damage":16,"hits":1,"ap":2,"ammo":5,"rapid":false,"manual":true,"synched":false,"shells":true,"jam":"0","reload":1,"size":8,"can_action":true,"can_projectile":true,"deflection":-3},{"name":"Light Machine Cannon","abrv":"LMC","era":"Coming Storm","cost":8,"mass":4,"drag":3,"damage":8,"hits":4,"ap":4,"ammo":6,"rapid":true,"manual":false,"synched":true,"shells":true,"jam":"0/0","reload":0,"size":8,"can_action":true,"can_projectile":true,"deflection":0},{"name":"Heavy Machine Cannon","abrv":"HMC","era":"WWII","cost":12,"mass":5,"drag":4,"damage":12,"hits":3,"ap":4,"ammo":5,"rapid":true,"manual":false,"synched":false,"shells":true,"jam":"0/0","reload":0,"size":8,"can_action":true,"can_projectile":true,"deflection":0},{"name":"Fliergerflammenwerfer","abrv":"FFW","era":"WWI","cost":5,"mass":1,"drag":3,"damage":0.5,"hits":0,"ap":0,"ammo":0,"rapid":false,"manual":false,"synched":false,"shells":false,"jam":"0/0","reload":0,"warning":"Fliergerflammenwerfer Warning","size":8,"can_action":false,"can_projectile":false,"deflection":0},{"name":"Recoilless Cannon","abrv":"RC","era":"WWI","cost":5,"mass":8,"drag":3,"damage":30,"hits":1,"ap":3,"ammo":3,"rapid":false,"manual":true,"synched":false,"shells":true,"jam":"0","reload":1,"size":16,"can_action":true,"can_projectile":true,"deflection":-5},{"name":"Autocannon","abrv":"AC","era":"WWII","cost":15,"mass":8,"drag":5,"damage":24,"hits":2,"ap":5,"ammo":2,"rapid":true,"manual":false,"synched":false,"shells":true,"jam":"0/0","reload":0,"size":16,"can_action":true,"can_projectile":true,"deflection":0},{"name":"Battle Cannon","abrv":"BC","era":"WWII","cost":15,"mass":40,"drag":8,"damage":24,"hits":2,"ap":5,"ammo":1,"rapid":false,"manual":true,"synched":false,"shells":true,"jam":"0","reload":1,"size":16,"can_action":true,"can_projectile":true,"deflection":0},{"name":"Precision Rifle","abrv":"PR","era":"WWI","mass":1,"drag":1,"cost":2,"damage":5,"hits":10,"ap":2,"ammo":8,"rapid":false,"manual":true,"synched":false,"shells":true,"jam":"0","reload":1,"size":2,"can_action":false,"can_projectile":false,"warning":"Precision Rifle Warning","deflection":0},{"name":"Lightning Arc","abrv":"LA","era":"Himmilgard","cost":8,"mass":5,"drag":3,"damage":0,"hits":0,"ap":0,"ammo":0,"rapid":false,"manual":false,"synched":false,"shells":false,"jam":"0","reload":0,"size":16,"can_action":false,"can_projectile":false,"warning":"Lightning Arc Warning","deflection":0},{"name":"Harpoon Launcher","abrv":"HL","era":"Himmilgard","cost":3,"mass":3,"drag":2,"damage":4,"hits":1,"ap":1,"ammo":2,"rapid":false,"manual":false,"synched":false,"shells":false,"jam":0,"reload":1,"size":4,"can_action":false,"can_projectile":false,"warning":"Harpoon Launcher Warning","deflection":0},{"name":"Heavy Machine Gun","abrv":"HMG","era":"WWI","cost":4,"mass":4,"drag":2,"damage":4,"hits":4,"ap":2,"ammo":5,"rapid":true,"manual":false,"synched":true,"shells":true,"jam":"2/3","reload":0,"size":4,"can_action":true,"can_projectile":true,"deflection":0},{"name":"Heavy Repeating Cannon","abrv":"HRC","era":"WWI","cost":10,"mass":6,"drag":4,"damage":16,"hits":2,"ap":2,"ammo":5,"rapid":true,"manual":false,"synched":false,"shells":true,"jam":"4/6","reload":2,"size":16,"can_action":true,"can_projectile":true,"deflection":-3}]}');class mt extends H{constructor(){super(),this.direction_list=["Forward","Rearward","Up","Down","Left","Right"],this.synchronization_list=["None","Interruptor Gear","Synchronization Gear","Spinner Gun","Deflector Plate","No Interference"],this.action_list=[{name:"Standard Action"},{name:"Mechanical Action"},{name:"Gast Principle"},{name:"Rotary_Gun"}],this.projectile_list=[{name:"Standard"},{name:"Heat Ray"},{name:"Pneumatic"}],this.weapon_list=[];for(const t of ut.A){const e={name:t.name,abrv:t.abrv,era:t.era,size:t.size,stats:new u(t),damage:t.damage,hits:t.hits,ammo:t.ammo,ap:t.ap,jam:t.jam.toString(),reload:t.reload,rapid:t.rapid,synched:t.synched,shells:t.shells,can_action:t.can_action,can_projectile:t.can_projectile,deflection:t.deflection};this.weapon_list.push(e)}const t=(t,e)=>{const s=(t,e)=>t<e?-1:e<t?1:0;return t.size!=e.size?s(t.size,e.size):t.era!=e.era?s(m(t.era),m(e.era)):t.damage!=e.damage?s(t.damage,e.damage):s(t.name,e.name)};this.wl_permute=Array.from(Array(this.weapon_list.length).keys()).sort(((e,s)=>t(this.weapon_list[e],this.weapon_list[s])));const e=[];for(let t=0;t<this.wl_permute.length;t++)e.push(this.wl_permute.findIndex((e=>e==t)));this.wl_permute=e,this.weapon_list=this.weapon_list.sort(t),this.weapon_sets=[],this.brace_count=0,this.isheli=!1}toJSON(){const t=[];for(const e of this.weapon_sets)t.push(e.toJSON());return{weapon_systems:t,brace_count:this.brace_count}}fromJSON(t,e){this.weapon_sets=[];const s=t.weapon_systems;for(const t of s){const s=new ct(this.weapon_list,this.wl_permute);s.SetCalculateStats(this.CalculateStats),s.fromJSON(t,e),this.weapon_sets.push(s)}e>10.35&&(this.brace_count=t.brace_count)}serialize(t){t.PushNum(this.weapon_sets.length);for(const e of this.weapon_sets)e.serialize(t);t.PushNum(this.brace_count)}deserialize(t){this.weapon_sets=[];const e=t.GetNum();for(let s=0;s<e;s++){const e=new ct(this.weapon_list,this.wl_permute);e.SetCalculateStats(this.CalculateStats),e.deserialize(t),this.weapon_sets.push(e)}t.version>10.35&&(this.brace_count=t.GetNum())}GetWeaponList(){return this.weapon_list}GetDirectionList(){return this.direction_list}GetSynchronizationList(){return this.synchronization_list}SetWeaponSetCount(t){for((t!=t||t<1)&&(t=0),t=Math.floor(1e-6+t);t>this.weapon_sets.length;){const t=new ct(this.weapon_list,this.wl_permute);t.SetCalculateStats(this.CalculateStats),this.weapon_sets.push(t)}for(;t<this.weapon_sets.length;)this.weapon_sets.pop();this.CalculateStats()}GetWeaponSets(){return this.weapon_sets}CountTractorSpinner(){var t=0;for(const e of this.weapon_sets)if(e.GetDirection()[0]){const s=e.GetWeapons();for(const e of s)e.GetSynchronization()==k.SPINNER&&t++}return t}CountArtyTractorSpinner(){var t=0;for(const e of this.weapon_sets)if(e.GetDirection()[0]){const s=e.GetWeapons();for(const e of s)e.GetArty()&&e.GetSynchronization()==k.SPINNER&&t++}return t}CountPusherSpinner(){var t=0;for(const e of this.weapon_sets)if(e.GetDirection()[1]){const s=e.GetWeapons();for(const e of s)e.GetSynchronization()==k.SPINNER&&t++}return t}CountArtyPusherSpinner(){var t=0;for(const e of this.weapon_sets)if(e.GetDirection()[1]){const s=e.GetWeapons();for(const e of s)e.GetArty()&&e.GetSynchronization()==k.SPINNER&&t++}return t}CleanFreelyAccessible(){var t=Array(this.cockpit_count).fill(!1);for(const e of this.weapon_sets){const s=e.GetSeat();for(const i of e.GetWeapons())i.GetFreeAccessible()&&t[s]?i.SetFreeAccessible(!1):i.GetFreeAccessible()&&(t[s]=!0)}for(const e of this.weapon_sets){const s=e.GetSeat();for(const i of e.GetWeapons())t[s]&&!i.GetFreeAccessible()||i.GetWing()?i.can_free_accessible=!1:i.can_free_accessible=!0}}RemoveOneTractorSpinner(){for(let t=this.weapon_sets.length-1;t>=0;t--)if(this.weapon_sets[t].GetDirection()[0]){const e=this.weapon_sets[t].GetWeapons();for(let t=e.length-1;t>=0;t--)if(e[t].GetSynchronization()==k.SPINNER)return void e[t].SetSynchronization(k.INTERRUPT)}}RemoveOneArtyTractorSpinner(){for(let t=this.weapon_sets.length-1;t>=0;t--)if(this.weapon_sets[t].GetDirection()[0]){const e=this.weapon_sets[t].GetWeapons();for(let t=e.length-1;t>=0;t--)if(e[t].GetSynchronization()==k.SPINNER&&e[t].GetArty())return void e[t].SetSynchronization(k.NO_INTERFERENCE)}}RemoveOnePusherSpinner(){for(let t=this.weapon_sets.length-1;t>=0;t--)if(this.weapon_sets[t].GetDirection()[1]){const e=this.weapon_sets[t].GetWeapons();for(let t=e.length-1;t>=0;t--)if(e[t].GetSynchronization()==k.SPINNER)return void e[t].SetSynchronization(k.INTERRUPT)}}RemoveOneArtyPusherSpinner(){for(let t=this.weapon_sets.length-1;t>=0;t--)if(this.weapon_sets[t].GetDirection()[1]){const e=this.weapon_sets[t].GetWeapons();for(let t=e.length-1;t>=0;t--)if(e[t].GetSynchronization()==k.SPINNER&&e[t].GetArty())return void e[t].SetSynchronization(k.NO_INTERFERENCE)}}CanTractorSpinner(){return this.CountTractorSpinner()+this.CountArtyTractorSpinner()<this.tractor_spinner_count}CanArtyTractorSpinner(){return this.CountArtyTractorSpinner()<this.tractor_arty_spinner_count}CanPusherSpinner(){return this.CountPusherSpinner()+this.CountArtyTractorSpinner()<this.pusher_spinner_count}CanArtyPusherSpinner(){return this.CountArtyPusherSpinner()<this.pusher_arty_spinner_count}SetTractorInfo(t){this.has_tractor=t.have,this.tractor_spinner_count=t.spin_count,this.tractor_arty_spinner_count=t.arty_spin_count}SetPusherInfo(t){this.has_pusher=t.have,this.pusher_spinner_count=t.spin_count,this.pusher_arty_spinner_count=t.arty_spin_count}GetActionList(){return this.action_list}GetProjectileList(){return this.projectile_list}GetBraceCount(){return this.brace_count}SetBraceCount(t){(t<0||t!=t)&&(t=0),t-=t%3,this.brace_count=t,this.CalculateStats()}SetHavePropeller(t){for(const e of this.weapon_sets)e.SetHavePropeller(t)}SetCanWing(t){for(const e of this.weapon_sets)e.SetCanWing(t)}SetStickyGuns(t){for(const e of this.weapon_sets)e.SetStickyGuns(t)}GetWingWeight(){var t=0;for(const e of this.weapon_sets)t+=e.GetWingWeight();return t}GetSeatList(){const t=[];for(let e=0;e<this.cockpit_count;e++)t.push(h("Seat #",e+1));return t}GetArmedSeats(){const t=Array(this.cockpit_count).fill(!1);for(const e of this.weapon_sets)t[e.GetSeat()]=!0;return t}SetCalculateStats(t){this.CalculateStats=t;for(const e of this.weapon_sets)e.SetCalculateStats(t)}SetNumberOfCockpits(t){this.cockpit_count=t}SetHeli(t){this.isheli=t}PartStats(){var t=new u;for(this.CleanFreelyAccessible();this.CountArtyTractorSpinner()>this.tractor_arty_spinner_count;)this.RemoveOneArtyTractorSpinner();for(;this.CountTractorSpinner()>this.tractor_spinner_count;)this.RemoveOneTractorSpinner();for(;this.CountArtyPusherSpinner()>this.pusher_arty_spinner_count;)this.RemoveOneArtyPusherSpinner();for(;this.CountPusherSpinner()>this.pusher_spinner_count;)this.RemoveOnePusherSpinner();var e=0,s=0;0==this.cant_type?(e=4,s=2):1==this.cant_type?(e=8,s=4):(e=16,s=8);const i=[];for(const t of this.weapon_sets)for(const e of t.GetWeapons()){e.wing_reinforcement=!1;const s={total:0,count:0,sz:0,w:e};e.GetWing()&&(s.count=e.GetCount(),s.sz=this.weapon_list[t.GetWeaponSelected()].size,s.total=s.count*s.sz,i.push(s))}i.sort((function(t,e){return t.total-e.total}));for(const t of i)e>=0&&(s<t.sz?t.w.wing_reinforcement=!0:e-=t.total),e<0&&(t.w.wing_reinforcement=!0);for(const e of this.weapon_sets)e.SetTractorPusher(this.has_tractor,this.CanTractorSpinner(),this.CanArtyTractorSpinner(),this.has_pusher,this.CanPusherSpinner(),this.CanArtyPusherSpinner(),this.isheli),e.has_cantilever=this.cant_type>0,t=t.Add(e.PartStats());return t.cost+=this.brace_count/3,this.brace_count>0&&t.warnings.push({source:h("Weapons Braces"),warning:h("Weapons Braces Warning"),color:c.WHITE}),t.control-=Math.floor(1e-6+this.GetWingWeight()/5),t}GetElectrics(){const t={storage:0,equipment:[]};for(let e=0;e<this.weapon_sets.length;e++){const s=this.weapon_sets[e];if(s.GetProjectile()==W.HEATRAY||s.IsLightningArc()){const i=s.GetHRCharges();for(let t=0;t<i.length;t++)i[t]*=-1;t.equipment.push({source:h("Vital Part Weapon Set",e+1,s.GetFinalWeapon().abrv),charge:n.Join("/",i)})}}return t}}class pt extends H{constructor(){super(),this.burnt_out=0,this.ragged=0,this.hefty=0,this.sticky_guns=0,this.weak=0,this.fragile=0,this.leaky=0,this.sluggish=0}IsDefault(){return 0==Math.abs(this.burnt_out)+Math.abs(this.ragged)+Math.abs(this.hefty)+Math.abs(this.sticky_guns)+Math.abs(this.weak)+Math.abs(this.fragile)+Math.abs(this.leaky)+Math.abs(this.sluggish)}SetEnabled(t){this.burnt_out=0,this.ragged=0,this.hefty=0,this.sticky_guns=0,this.weak=0,this.fragile=0,this.leaky=0,this.sluggish=0,this.CalculateStats()}toJSON(){return{enabled:!0,burnt_out:this.burnt_out,ragged:this.ragged,hefty:this.hefty,sticky_guns:this.sticky_guns,weak:this.weak,fragile:this.fragile,leaky:this.leaky,sluggish:this.sluggish}}fromJSON(t,e){this.burnt_out=t.burnt_out,this.ragged=t.ragged,this.hefty=t.hefty,this.sticky_guns=t.sticky_guns,this.weak=t.weak,this.fragile=t.fragile,this.leaky=t.leaky,this.sluggish=t.sluggish}serialize(t){t.PushBool(!0),t.PushNum(this.burnt_out),t.PushNum(this.ragged),t.PushNum(this.hefty),t.PushNum(this.sticky_guns),t.PushNum(this.weak),t.PushNum(this.fragile),t.PushNum(this.leaky),t.PushNum(this.sluggish)}deserialize(t){t.GetBool(),this.burnt_out=t.GetNum(),this.ragged=t.GetNum(),this.hefty=t.GetNum(),this.sticky_guns=t.GetNum(),this.weak=t.GetNum(),this.fragile=t.GetNum(),this.leaky=t.GetNum(),this.sluggish=t.GetNum()}Normalize(t){return t!=t&&(t=0),t=Math.floor(1e-6+t),t=Math.min(1,t),Math.max(-1,t)}PartStats(){return this.burnt_out=this.Normalize(this.burnt_out),this.ragged=this.Normalize(this.ragged),this.hefty=this.Normalize(this.hefty),this.sticky_guns=this.Normalize(this.sticky_guns),this.weak=this.Normalize(this.weak),this.fragile=this.Normalize(this.fragile),this.leaky=this.Normalize(this.leaky),this.sluggish=this.Normalize(this.sluggish),new u}SetCalculateStats(t){this.CalculateStats=t}TriggerCS(){this.burnt_out=this.Normalize(this.burnt_out),this.ragged=this.Normalize(this.ragged),this.hefty=this.Normalize(this.hefty),this.sticky_guns=this.Normalize(this.sticky_guns),this.weak=this.Normalize(this.weak),this.fragile=this.Normalize(this.fragile),this.leaky=this.Normalize(this.leaky),this.sluggish=this.Normalize(this.sluggish),this.CalculateStats()}GetElectrics(){return{storage:0,equipment:[]}}}var dt;!function(t){t[t.Two=2]="Two",t[t.Three=3]="Three",t[t.Four=4]="Four",t[t.Five=5]="Five"}(dt||(dt={}));class gt extends H{constructor(t){super(),this.type=D.AIRPLANE,this.rotor_count=0,this.rotor_span=0,this.wing_area=0,this.stagger_sel=0,this.dryMP=0,this.sizing_span=0,this.cant_idx=0,this.accessory=!1,this.blade_idx=0,this.blade_list=[];for(const e of t.blade_count)this.blade_list.push({name:e.name,rotor_bleed:e.rotor_bleed,sizing:e.sizing,stats:new u(e)});this.stagger_list=[];for(const e of t.arrangement)this.stagger_list.push({name:e.name,count:e.count,powerfactor:e.powerfactor,blades:e.blades,stats:new u(e)})}toJSON(){return{type:this.type,rotor_count:this.rotor_count,rotor_span:this.rotor_span,rotor_mat:this.cant_idx,stagger_sel:this.stagger_sel,accessory:this.accessory,blade_idx:this.blade_idx}}fromJSON(t,e){this.type=t.type,this.rotor_count=t.rotor_count,this.rotor_span=t.rotor_span,this.cant_idx=t.rotor_mat,this.stagger_sel=e<12.35?0:t.stagger_sel,this.accessory=t.accessory,e>11.55&&(this.blade_idx=t.blade_idx),e<12.45&&(this.rotor_span=0)}serialize(t){t.PushNum(this.type),t.PushNum(this.rotor_count),t.PushNum(this.rotor_span),t.PushNum(this.cant_idx),t.PushNum(this.stagger_sel),t.PushBool(this.accessory),t.PushNum(this.blade_idx)}deserialise(t){this.type=t.GetNum(),this.rotor_count=t.GetNum(),this.rotor_span=t.GetNum(),this.cant_idx=t.GetNum(),t.version<12.35?(t.GetBool(),this.stagger_sel=0):this.stagger_sel=t.GetNum(),this.accessory=t.GetBool(),t.version>11.55&&(this.blade_idx=t.GetNum()),t.version<12.45&&(this.rotor_span=0)}SetCantileverList(t){this.cant_list=t}GetCantileverList(){return this.cant_list}SetCantilever(t){this.cant_idx=t,this.CalculateStats()}GetCantilever(){return this.cant_idx}SetType(t){this.type!=t&&(this.accessory=!1,this.cant_idx=0,this.stagger_sel=0,this.rotor_count=1,this.type=t,this.rotor_span=0)}CanRotorCount(){return this.type==D.HELICOPTER}SetRotorCount(t){t<1&&(t=1),t>=2&&t%2==1&&(t==this.rotor_count+1?t+=1:t-=1),this.rotor_count=t,this.rotor_count<2&&(this.stagger_sel=0),this.CalculateStats()}GetRotorCount(){return this.rotor_count}CanRotorSpan(){return this.type==D.HELICOPTER}SetRotorSpan(t){this.rotor_span=Math.floor(1e-6+t),this.CalculateStats()}GetRotorSpan(){return this.rotor_span}CanTandem(){return this.type==D.HELICOPTER&&this.rotor_count>1}SetBladeCount(t){this.blade_idx=t,this.CalculateStats()}SetWingArea(t){this.wing_area=t}GetSizingSpan(){return this.sizing_span}SetMP(t){t!=this.dryMP&&(this.dryMP=t,this.CalculateStats())}GetRotorStrain(){const t=this.GetRotorArea();return this.rotor_count*Math.max(1,2*(this.sizing_span+this.rotor_span)+t-10)}GetRotorArea(){return Math.PI/9*(this.sizing_span+this.rotor_span)*(this.sizing_span+this.rotor_span)}GetIdealRotorArea(){return Math.PI/9*this.sizing_span*this.sizing_span}GetRotorDrag(){if(this.type==D.HELICOPTER||this.type==D.AUTOGYRO){const t=this.GetRotorArea();return 1==this.rotor_count?Math.floor(1e-6+6*t*t/((this.sizing_span+this.rotor_span)*(this.sizing_span+this.rotor_span))):Math.floor(1e-6+.75*this.rotor_count*Math.floor(1e-6+6*t*t/((this.sizing_span+this.rotor_span)*(this.sizing_span+this.rotor_span))))}return 0}GetType(){return this.type}GetAccessory(){return this.accessory}SetAccessory(t){this.accessory=t,this.CalculateStats()}SetEngineCount(t){this.engine_count=t}GetTailRotor(){return this.type==D.HELICOPTER&&this.rotor_count<2}GetBladeList(){return this.blade_list}GetRotorBleed(){return this.type==D.HELICOPTER?this.blade_list[this.blade_idx].rotor_bleed:0}GetPowerFactor(){return this.stagger_list[this.stagger_sel].powerfactor}GetBladeCountIdx(){return this.blade_idx}GetStaggerList(){return this.stagger_list}GetStagger(){return this.stagger_sel}SetStagger(t){t!=this.stagger_sel&&(this.stagger_sel=t,this.CalculateStats())}CanStagger(){const t=[];for(let e=0;e<this.stagger_list.length;e++)1==this.rotor_count&&1==this.stagger_list[e].count||2==this.rotor_count&&2==this.stagger_list[e].count||this.rotor_count>=2&&3==this.stagger_list[e].count?t.push(!0):t.push(!1);return t}VerifySizes(){this.type==D.AIRPLANE?(this.rotor_count=0,this.rotor_span=0,this.stagger_sel=0):this.type==D.AUTOGYRO?(this.rotor_count=1,this.sizing_span=Math.ceil(-1e-6+Math.sqrt(.6*this.wing_area/(Math.PI/8))),this.rotor_span=Math.max(this.rotor_span,2-this.sizing_span),this.stagger_sel=0):this.type==D.HELICOPTER&&(this.rotor_count=Math.max(1,this.rotor_count),this.rotor_count>1&&this.rotor_count%2==1&&(this.rotor_count=this.rotor_count-1),1==this.rotor_count?this.sizing_span=Math.ceil(5*Math.pow(this.dryMP,.4)*this.blade_list[this.blade_idx].sizing-1e-6):this.sizing_span=Math.ceil(4*Math.pow(this.dryMP,.4)*this.blade_list[this.blade_idx].sizing-1e-6),this.sizing_span=Math.min(100,this.sizing_span),this.rotor_span=Math.max(this.rotor_span,-Math.floor(1e-6+this.sizing_span/2)))}VerifyStagger(){if(this.rotor_count>2&&this.stagger_list[this.stagger_sel].count<=2){for(let t=0;t<this.stagger_list.length;t++)if(3==this.stagger_list[t].count){this.stagger_sel=t;break}}else if(2==this.rotor_count&&2!=this.stagger_list[this.stagger_sel].count){for(let t=0;t<this.stagger_list.length;t++)if(2==this.stagger_list[t].count){this.stagger_sel=t;break}}else if(1==this.rotor_count&&1!=this.stagger_list[this.stagger_sel].count)for(let t=0;t<this.stagger_list.length;t++)if(1==this.stagger_list[t].count){this.stagger_sel=t;break}}PartStats(){this.VerifySizes(),this.VerifyStagger();var t=new u;const e=this.GetRotorArea();t.wingarea+=Math.floor(1e-6+e),t.drag=this.GetRotorDrag();const s=this.GetRotorStrain();var i=this.cant_list[this.cant_idx].stats.Clone();const a=Math.ceil(s/i.maxstrain-1e-6);return(i=i.Multiply(a)).maxstrain=0,i.toughness=0,t=(t=t.Add(i)).Add(this.stagger_list[this.stagger_sel].stats.Clone()),this.type==D.HELICOPTER&&(t.reliability=2*Math.min(0,this.rotor_span),t=t.Add(this.blade_list[this.blade_idx].stats)),this.accessory?this.type==D.AUTOGYRO?(t.cost+=2,t.mass+=2):this.type==D.HELICOPTER&&(t.mass+=this.rotor_count*this.engine_count):this.type==D.HELICOPTER&&(t.mass+=Math.max(this.rotor_count,this.engine_count)),this.type==D.HELICOPTER?(t.warnings.push({source:h("Helicopter Landing"),warning:h("Helicopter Landing Warning"),color:c.WHITE}),t.warnings.push({source:h("Helicopter Descent"),warning:h("Helicopter Descent Warning"),color:c.WHITE}),t.warnings.push({source:h("Helicopter Stall"),warning:h("Helicopter Stall Warning"),color:c.WHITE}),t.reliability<0&&t.warnings.push({source:h("Rotor Span"),warning:h("Rotor Span Warning"),color:c.YELLOW})):this.type==D.AUTOGYRO&&t.warnings.push({source:h("Autogyro Stall"),warning:h("Autogyro Stall Warning"),color:c.WHITE}),t}SetCalculateStats(t){this.CalculateStats=t}GetElectrics(){return{storage:0,equipment:[]}}}var _t=0;function ft(t,e,s){const i=new Blob([t],{type:s}),a=document.createElement("a"),n=URL.createObjectURL(i);a.href=n,a.download=e,document.body.appendChild(a),a.click(),setTimeout((function(){document.body.removeChild(a),window.URL.revokeObjectURL(n)}),0)}function bt(){return"internal_id_"+(++_t).toString()}function St(t){const e={div0:document.createElement("DIV"),div1:document.createElement("DIV"),div2:document.createElement("DIV")};return e.div0.classList.add("flex-container-o"),e.div1.classList.add("flex-container-i"),e.div2.classList.add("flex-container-i"),e.div0.appendChild(e.div1),e.div0.appendChild(e.div2),t.appendChild(e.div0),e}function yt(t,e){const s=document.createElement("TH");return s.innerHTML=e,t.appendChild(s),s}function wt(t,e,s,i=!0){const a=document.createElement("SPAN"),n=document.createElement("LABEL");e.id=bt(),n.htmlFor=e.id,n.style.marginLeft="0.25em",n.style.marginRight="0.5em",n.textContent=t,e.setAttribute("type","number"),e.min="0",e.step="1",e.valueAsNumber=0,a.appendChild(n),a.appendChild(e),s.appendChild(a),i&&s.appendChild(document.createElement("BR"))}function Ct(t,e,s){const i=document.createElement("LABEL");e.id=bt(),i.htmlFor=e.id,i.style.marginLeft="0.25em",i.style.marginRight="0.5em",i.textContent=t,e.setAttribute("type","number"),e.min="0",e.step="1",e.valueAsNumber=0,i.classList.add("flex-item"),e.classList.add("flex-item"),s.div1.appendChild(i),s.div2.appendChild(e)}function At(t,e,s){const i=document.createElement("LABEL");e.id=bt(),i.htmlFor=e.id,i.style.marginLeft="0.25em",i.style.marginRight="0.5em",i.textContent=t,i.classList.add("flex-item"),e.classList.add("flex-item"),s.div1.appendChild(i),s.div2.appendChild(e)}function Bt(t,e,s){const i=document.createElement("LABEL");e.id=bt(),i.htmlFor=e.id,i.style.marginLeft="0.25em",i.style.marginRight="0.5em",i.textContent=t,i.classList.add("flex-item"),e.classList.add("flex-item"),s.div1.appendChild(i),s.div2.appendChild(e)}function Et(t,e,s,i=!0){const a=document.createElement("SPAN"),n=document.createElement("LABEL");e.id=bt(),n.htmlFor=e.id,n.style.marginLeft="0.25em",n.style.marginRight="0.5em",n.textContent=t,e.setAttribute("type","checkbox"),a.appendChild(n),a.appendChild(e),s.appendChild(a),i&&s.appendChild(document.createElement("BR"))}function Mt(t,e,s,i=!0){const a=document.createElement("SPAN"),n=document.createElement("LABEL");e.hidden=!0,e.id=bt(),e.textContent=t,n.htmlFor=e.id,n.style.marginLeft="0.25em",n.style.marginRight="0.5em",n.textContent=t,n.classList.add("lbl_action"),n.classList.add("btn_th"),a.appendChild(n),a.appendChild(e),s.appendChild(a),i&&(s.appendChild(document.createElement("BR")),s.appendChild(document.createElement("BR")))}function Pt(t,e,s){const i=document.createElement("LABEL");e.id=bt(),i.htmlFor=e.id,i.id=bt(),i.style.marginLeft="0.25em",i.style.marginRight="0.5em",i.textContent=t,e.setAttribute("type","checkbox"),i.classList.add("flex-item"),e.classList.add("flex-item"),s.div1.appendChild(i);const a=document.createElement("LABEL"),n=document.createElement("SPAN");return n.appendChild(a),n.appendChild(e),s.div2.appendChild(n),i}function Gt(t,e){const s=document.createElement("LABEL");return s.style.marginLeft="0.25em",s.style.marginRight="0.5em",s.textContent=t,s.classList.add("flex-item"),e.appendChild(s),s}function Rt(t,e,s){const i=document.createElement("LABEL");i.style.marginLeft="0.25em",i.style.marginRight="0.5em",i.textContent=t,i.classList.add("flex-item"),s.div1.appendChild(i);const a=document.createElement("LABEL");return a.style.marginLeft="0.25em",a.style.marginRight="0.5em",a.textContent=e,a.classList.add("flex-item"),s.div2.appendChild(a),[i,a]}function It(t){const e=document.createElement("LABEL");e.textContent=" ",e.classList.add("flex-item"),t.div1.appendChild(e);const s=document.createElement("LABEL");s.textContent=" ",s.classList.add("flex-item"),t.div2.appendChild(s)}function xt(t){const e=document.createElement("TR");return t.append(e),e}function Ft(t){const e=document.createElement("TD");return t.append(e),e}function Tt(t){t.classList.toggle("changed_b",!1),t.classList.toggle("changed_g",!1),t.classList.toggle("changed_n",!1),t.offsetHeight,t.classList.toggle("changed_b")}var vt=!1;function Dt(t,e,s=null){if(vt)if(t.textContent!=e)if(null==s)!function(t){t.classList.toggle("changed_b",!1),t.classList.toggle("changed_g",!1),t.classList.toggle("changed_n",!1),t.offsetHeight,t.classList.toggle("changed_n")}(t);else{const i=parseInt(t.textContent)<parseInt(e);s&&i||!s&&!i?function(t){t.classList.toggle("changed_b",!1),t.classList.toggle("changed_g",!1),t.classList.toggle("changed_n",!1),t.offsetHeight,t.classList.toggle("changed_g")}(t):Tt(t)}else!function(t){t.classList.toggle("changed_b",!1),t.classList.toggle("changed_g",!1),t.classList.toggle("changed_n",!1)}(t);t.textContent=e}function Nt(t){const e=new Uint8Array(t.length);for(let s=0;s<t.length;s++)e[s]=t.charCodeAt(s);return e.buffer}const kt=(t,e)=>{var s=document.getElementById(t);s.classList.toggle("active",e);var i=s.nextElementSibling;(i=i.nextElementSibling).style.maxHeight=e?"inherit":"0px"};class Wt{}class Ot extends Wt{constructor(t){super(),this.weap=t,document.getElementById("lbl_weapons").textContent=h("Weapons Section Title"),document.getElementById("lbl_num_wsets").textContent=h("Weapons Number of Weapon Sets"),this.inp_w_count=document.getElementById("num_wsets"),this.inp_w_count.onchange=()=>{this.weap.SetWeaponSetCount(this.inp_w_count.valueAsNumber)},document.getElementById("lbl_num_wbraces").textContent=h("Weapons Number of Weapon Braces"),this.inp_w_brace=document.getElementById("num_wbraces"),this.inp_w_brace.onchange=()=>{this.weap.SetBraceCount(this.inp_w_brace.valueAsNumber)},this.tbl=document.getElementById("table_weapons");const e=this.tbl.insertRow();yt(e,h("Weapons Weapon Set")),yt(e,h("Weapons Weapons")),yt(e,h("Weapons Weapon Stats")),this.wrow=[]}CreateWSetRow(){const t=document.createDocumentFragment(),e=xt(t),s=St(e.insertCell()),i={type:document.createElement("SELECT"),dirs:[],count:document.createElement("INPUT"),action:document.createElement("SELECT"),projectile:document.createElement("SELECT"),fixed:document.createElement("INPUT"),wcell:null,weaps:[],ammo:document.createElement("INPUT"),stats:{mass:null,drag:null,cost:null,sect:null,mounting:null,jams:null,hits:null,damg:null,shots:null,shots_header:null},repeating:document.createElement("INPUT"),seat:document.createElement("SELECT")},a=this.weap.GetWeaponList();for(const t of a){const e=document.createElement("OPTION");e.text=h(t.name)+" ("+h(t.era)+")",i.type.add(e)}i.type.required=!0;const n=this.weap.GetSeatList();for(const t of n){const e=document.createElement("OPTION");e.text=t,i.seat.add(e)}const r=this.weap.GetActionList();for(const t of r){const e=document.createElement("OPTION");e.text=h(t.name),i.action.add(e)}i.action.required=!0;const o=this.weap.GetProjectileList();for(const t of o){const e=document.createElement("OPTION");e.text=h(t.name),i.projectile.add(e)}i.projectile.required=!0,Bt(h("Weapons Type"),i.type,s),Bt(h("Seat Location"),i.seat,s);const l=St(s.div1),c=St(s.div2);Ct(h("Weapons Number of Mounts"),i.count,l),Ct(h("Weapons Ammunition"),i.ammo,c),Bt(h("Weapons Action"),i.action,l),Bt(h("Weapons Projectile"),i.projectile,c),Pt(h("Weapons Belt Fed"),i.repeating,l),It(c),Pt(h("Fixed"),i.fixed,l),It(c);const u=this.weap.GetDirectionList();for(let t=0;t<u.length;t+=2){const e=h(u[t]);var m=document.createElement("INPUT");Pt(e,m,l),i.dirs.push(m),Pt(h(u[t+1]),m=document.createElement("INPUT"),c),i.dirs.push(m)}i.wcell=e.insertCell();const p=e.insertCell();p.classList.toggle("inner_table");const d=document.createElement("TABLE");d.classList.toggle("inner_table"),p.appendChild(d);const g=d.insertRow();yt(g,h("Stat Mass")),yt(g,h("Stat Drag")),yt(g,h("Stat Cost"));const _=d.insertRow();i.stats.mass=_.insertCell(),i.stats.drag=_.insertCell(),i.stats.cost=_.insertCell();const f=d.insertRow();yt(f,h("Stat Required Sections")),yt(f,h("Weapons Stat Mounting")),yt(f,h("Weapons Stat Jam"));const b=d.insertRow();i.stats.sect=b.insertCell(),i.stats.mounting=b.insertCell(),i.stats.jams=b.insertCell();const S=d.insertRow();yt(S,h("Weapons Stat Hits")),yt(S,h("Weapons Stat Damage")),i.stats.shots_header=yt(S,h("Weapons Stat Shots"));const y=d.insertRow();return i.stats.hits=y.insertCell(),i.stats.damg=y.insertCell(),i.stats.shots=y.insertCell(),this.tbl.appendChild(t),i}CreateWRow(t){const e={span:document.createElement("SPAN"),wing:document.createElement("INPUT"),covered:document.createElement("INPUT"),accessible:document.createElement("INPUT"),free_access:document.createElement("INPUT"),synch:document.createElement("SELECT"),count:document.createElement("INPUT")};Et(h("Weapons Wing Mount"),e.wing,e.span,!1),Et(h("Weapons Accessible"),e.accessible,e.span,!1),Et(h("Weapons Free Accessible"),e.free_access,e.span,!1),Et(h("Weapons Covered"),e.covered,e.span,!0),wt(h("Weapons # Weapons at Mount"),e.count,e.span,!1),function(t,e,s,i=!0){const a=document.createElement("SPAN"),n=document.createElement("LABEL");e.id=bt(),n.htmlFor=e.id,n.style.marginLeft="0.25em",n.style.marginRight="0.5em",n.textContent=t,a.appendChild(n),a.appendChild(e),s.appendChild(a),i&&s.appendChild(document.createElement("BR"))}(h("Weapons Synchronization"),e.synch,e.span,!1),e.span.appendChild(document.createElement("HR"));const s=this.weap.GetSynchronizationList();for(const t of s){const s=document.createElement("OPTION");s.text=h(t),e.synch.add(s)}return t.appendChild(e.span),e}UpdateWSet(t,e){e.type.selectedIndex=t.GetWeaponSelected(),e.type.onchange=()=>{t.SetWeaponSelected(e.type.selectedIndex)};const s=this.weap.GetSeatList();if(e.seat.options.length!=s.length){for(;e.seat.options.length>0;)e.seat.options.remove(e.seat.options.length-1);for(const t of s){const s=document.createElement("OPTION");s.text=t,e.seat.add(s)}}e.seat.selectedIndex=t.GetSeat(),e.seat.onchange=()=>{t.SetSeat(e.seat.selectedIndex)},e.count.valueAsNumber=t.GetMountingCount(),e.count.onchange=()=>{t.SetMountingCount(e.count.valueAsNumber)},e.action.selectedIndex=t.GetAction();const i=t.GetCanAction();for(let t=0;t<i.length;t++)e.action.options[t].disabled=!i[t];e.action.onchange=()=>{t.SetAction(e.action.selectedIndex)},e.projectile.selectedIndex=t.GetProjectile();const a=t.GetCanProjectile();for(let t=0;t<a.length;t++)e.projectile.options[t].disabled=!a[t];e.projectile.onchange=()=>{t.SetProjectile(e.projectile.selectedIndex)},e.repeating.checked=t.GetRepeating(),e.repeating.onchange=()=>{t.SetRepeating(e.repeating.checked)},e.repeating.disabled=!t.CanRepeating(),e.fixed.checked=t.GetFixed(),e.fixed.onchange=()=>{t.SetFixed(e.fixed.checked)};const r=t.GetDirection(),o=t.CanDirection();for(let s=0;s<r.length;s++)e.dirs[s].checked=r[s],e.dirs[s].onchange=()=>{t.SetDirection(s,e.dirs[s].checked)},e.dirs[s].disabled=!o[s];e.ammo.valueAsNumber=t.GetAmmo(),e.ammo.onchange=()=>{t.SetAmmo(e.ammo.valueAsNumber)};const l=t.GetWeapons();for(;e.weaps.length<l.length;)e.weaps.push(this.CreateWRow(e.wcell));for(;e.weaps.length>l.length;){const t=e.weaps.pop();e.wcell.removeChild(t.span)}for(let t=0;t<l.length;t++){e.weaps[t].wing.checked=l[t].GetWing(),e.weaps[t].wing.onchange=()=>{l[t].SetWing(e.weaps[t].wing.checked)},e.weaps[t].wing.disabled=!l[t].CanWing(),e.weaps[t].covered.checked=l[t].GetCovered(),e.weaps[t].covered.onchange=()=>{l[t].SetCovered(e.weaps[t].covered.checked)},e.weaps[t].covered.disabled=!l[t].CanCovered(),e.weaps[t].accessible.checked=l[t].GetAccessible(),e.weaps[t].accessible.onchange=()=>{l[t].SetAccessible(e.weaps[t].accessible.checked)},e.weaps[t].free_access.checked=l[t].GetFreeAccessible(),e.weaps[t].free_access.onchange=()=>{l[t].SetFreeAccessible(e.weaps[t].free_access.checked)},e.weaps[t].free_access.disabled=!(l[t].can_free_accessible||l[t].GetFreeAccessible()),e.weaps[t].count.valueAsNumber=l[t].GetCount(),e.weaps[t].count.onchange=()=>{l[t].SetCount(e.weaps[t].count.valueAsNumber)},e.weaps[t].synch.selectedIndex=l[t].GetSynchronization()+1,e.weaps[t].synch.onchange=()=>{l[t].SetSynchronization(e.weaps[t].synch.selectedIndex-1)},e.weaps[t].synch.disabled=!l[t].can_synchronize;const s=l[t].CanSynchronization();for(let i=0;i<s.length;i++)e.weaps[t].synch.options[i].disabled=!s[i]}const c=t.PartStats();Dt(e.stats.mass,c.mass.toString(),!1),Dt(e.stats.drag,c.drag.toString(),!1),Dt(e.stats.cost,c.cost.toString(),!1),Dt(e.stats.sect,c.reqsections.toString(),!1);const u=t.GetHits(),m=u[0].toString()+"/"+u[1].toString()+"/"+u[2].toString()+"/"+u[3].toString();if(t.GetFixed()?Dt(e.stats.mounting,h("Fixed")):t.GetDirectionCount()<=2?Dt(e.stats.mounting,h("Flexible")):Dt(e.stats.mounting,h("Turret")),Dt(e.stats.jams,t.GetJam()),Dt(e.stats.hits,m),Dt(e.stats.damg,t.GetDamage().toString()),t.GetProjectile()==W.HEATRAY||t.IsLightningArc()){const s=t.GetHRCharges();e.stats.shots_header.textContent=h("Weapons Stat Charges"),Dt(e.stats.shots,n.Join("/",s))}else e.stats.shots_header.textContent=h("Weapons Stat Shots"),Dt(e.stats.shots,t.GetShots().toString())}UpdateWSets(){const t=this.weap.GetWeaponSets();for(0==t.length?this.tbl.style.display="none":this.tbl.style.display="",this.inp_w_count.valueAsNumber=t.length;t.length>this.wrow.length;)this.wrow.push(this.CreateWSetRow());for(;t.length<this.wrow.length;)this.tbl.deleteRow(this.wrow.length),this.wrow.pop();for(let e=0;e<t.length;e++)this.UpdateWSet(t[e],this.wrow[e])}UpdateDisplay(){this.UpdateWSets(),this.inp_w_count.valueAsNumber=this.weap.GetWeaponSets().length,this.inp_w_brace.valueAsNumber=this.weap.GetBraceCount()}}function Lt(t,e){const s=t.GetDirection();let i=0;for(const t of s)t&&i++;let a="";return 1==i&&t.GetFixed()?a+=h("Fixed")+" ":a+=i<=2?h("Flexible")+" ":h("Turreted")+" ",t.GetAction()==O.MECHANICAL?a+=h("Weapon Tag Mechanical Action")+" ":t.GetAction()==O.GAST?a+=h("Weapon Tag Gast Principle")+" ":t.GetAction()==O.ROTARY&&(a+=h("Weapon Tag Rotary")+" "),t.GetProjectile()==W.HEATRAY?a+=h("Weapon Tag Heat Ray")+" ":t.GetProjectile()==W.GYROJETS?a+=h("Weapon Tag Gyrojet")+" ":t.GetProjectile()==W.PNEUMATIC&&(a+=h("Weapon Tag Pneumatic")+" "),a+=e[t.GetWeaponSelected()].abrv,a}function Ht(t){const e=[h("Weapon Tag Jam",t.GetJam())],s=t.GetFinalWeapon();return t.GetReload()>0&&(1==t.GetReload()?e.push(h("Weapon Tag Manual")):e.push(h("Weapon Tag Reload",t.GetReload()))),s.rapid&&e.push(h("Weapon Tag Rapid Fire")),s.shells&&e.push(h("Weapon Tag Shells")),s.ap>0&&e.push(h("Weapon Tag AP",s.ap)),t.GetIsFullyAccessible()?e.push(h("Weapon Tag Fully Accessible")):t.GetIsPartlyAccessible()?e.push(h("Weapon Tag Partly Accessible")):e.push(h("Weapon Tag Inaccessible")),s.deflection&&e.push(h("Weapon Tag Awkward",s.deflection)),e}function Ut(t,e,s){var i="";const a=t.GetDirection(),r=[];for(let t=0;t<s.length;t++)a[t]&&r.push(h(s[t]));const o=t.GetHits(),l=Ht(t);if(t.GetProjectile()==W.HEATRAY){const s=t.GetHRCharges();i+=h("Weapon Description Heat Ray",h("Seat #",t.GetSeat()+1),t.GetWeaponCount(),Lt(t,e),n.Join(" ",r),e[t.GetWeaponSelected()].damage,n.Join("/",o),n.Join("/",s),n.Join(", ",l))}else i+=h("Weapon Description",h("Seat #",t.GetSeat()+1),t.GetWeaponCount(),Lt(t,e),n.Join(" ",r),e[t.GetWeaponSelected()].damage,n.Join("/",o),t.GetShots(),n.Join(", ",l));return i}class qt{constructor(t,e){this.use_storage=!1,this.reset_json=String.raw`{"version":"11.3","name":"Basic Biplane","aircraft_type":0,"era":{"selected":1},"cockpits":{"positions":[{"type":0,"upgrades":[false,false,false,false,false,false],"safety":[false,false,false,false,false],"sights":[false,false,false,false],"bombsight":0}]},"passengers":{"seats":0,"beds":0,"connected":false},"engines":{"engines":[{"selected_stats":{"name":"Rhona Motorbau Z11 80hp","overspeed":18,"altitude":29,"torque":2,"rumble":0,"oiltank":true,"pulsejet":false,"liftbleed":0,"wetmass":0,"mass":4,"drag":8,"control":0,"cost":4,"reqsections":0,"visibility":0,"flightstress":0,"escape":0,"pitchstab":0,"latstab":0,"cooling":0,"reliability":-1,"power":8,"fuelconsumption":10,"maxstrain":0,"structure":0,"pitchboost":0,"pitchspeed":0,"wingarea":0,"toughness":0,"upkeep":0,"crashsafety":0,"bomb_mass":0,"fuel":0,"charge":0},"selected_inputs":{"name":"Rhona Motorbau Z11 80hp","engine_type":0,"type":2,"era_sel":1,"displacement":10.9,"compression":4.5,"cyl_per_row":9,"rows":1,"RPM_boost":1,"material_fudge":1,"quality_fudge":1,"compressor_type":0,"compressor_count":0,"min_IAF":0,"upgrades":[false,false,false,false]},"cooling_count":0,"radiator_index":-1,"selected_mount":0,"use_pushpull":false,"pp_torque_to_struct":false,"use_driveshafts":false,"geared_propeller_ratio":0,"geared_propeller_reliability":0,"cowl_sel":2,"is_generator":false,"has_alternator":false,"intake_fan":false}],"radiators":[],"is_asymmetric":false},"propeller":{"type":2,"use_variable":false},"frames":{"sections":[{"frame":0,"geodesic":false,"monocoque":false,"lifting_body":false,"internal_bracing":false},{"frame":0,"geodesic":false,"monocoque":false,"lifting_body":false,"internal_bracing":false},{"frame":0,"geodesic":false,"monocoque":false,"lifting_body":false,"internal_bracing":false}],"tail_sections":[{"frame":0,"geodesic":false,"monocoque":false,"lifting_body":false,"internal_bracing":false},{"frame":0,"geodesic":false,"monocoque":false,"lifting_body":false,"internal_bracing":false}],"tail_index":2,"use_farman":false,"use_boom":false,"flying_wing":false,"sel_skin":1},"wings":{"wing_list":[{"surface":0,"area":8,"span":8,"anhedral":0,"dihedral":0,"gull":false,"deck":0},{"surface":0,"area":8,"span":8,"anhedral":0,"dihedral":0,"gull":false,"deck":3}],"mini_wing_list":[],"wing_stagger":4,"is_swept":false,"is_closed":false},"stabilizers":{"hstab_sel":0,"hstab_count":1,"vstab_sel":0,"vstab_count":1},"controlsurfaces":{"aileron_sel":0,"rudder_sel":0,"elevator_sel":0,"flaps_sel":0,"slats_sel":0,"drag_sel":[false,false,false]},"reinforcements":{"ext_wood_count":[1,0,0,0,0,0,0,0,0],"ext_steel_count":[0,0,0,0,0,0,0,0,0],"cant_count":[0,0,0,0,0],"wires":true,"cabane_sel":1,"wing_blades":false},"fuel":{"tank_count":[1,0,0,0],"self_sealing":false,"fire_extinguisher":false},"munitions":{"bomb_count":0,"rocket_count":0,"bay_count":0,"bay1":false,"bay2":false},"cargo":{"space_sel":0},"gear":{"gear_sel":0,"retract":false,"extra_sel":[false,false,false]},"accessories":{"v":2,"armour_coverage":[0,0,0,0,0,0,0,0],"electrical_count":[0,0,0],"radio_sel":0,"info_sel":[false,false],"visi_sel":[false,false,false],"clim_sel":[false,false,false,false],"auto_sel":0,"cont_sel":0},"optimization":{"free_dots":0,"cost":0,"bleed":0,"escape":0,"mass":0,"toughness":0,"maxstrain":0,"reliability":0,"drag":0},"weapons":{"weapon_systems":[{"weapon_type":3,"fixed":true,"directions":[true,false,false,false,false,false],"weapons":[{"fixed":true,"wing":false,"covered":false,"accessible":false,"free_accessible":true,"synchronization":0,"w_count":1}],"ammo":1,"action":0,"projectile":0,"repeating":false}],"brace_count":0},"used":{"enabled":false,"burnt_out":0,"ragged":0,"hefty":0,"sticky_guns":0,"weak":0,"fragile":0,"leaky":0,"sluggish":0},"rotor":{"type":0,"rotor_count":0,"rotor_span":0,"rotor_mat":0,"is_tandem":false,"accessory":false}}`,this.freeze_calculation=!0,this.stats=new u,this.name="Prototype Aircraft",this.version=t.version,this.era=new Q(t.era),this.cockpits=new j(t.cockpit),this.passengers=new J(t.passengers),this.engines=new V(t.engines),this.propeller=new Z(t.propellers),this.frames=new X(t.frames),this.wings=new $(t.wings),this.stabilizers=new tt(t.stabilizers),this.controlsurfaces=new et(t.controls),this.reinforcements=new st(t.reinforcement),this.fuel=new it(t.fuel),this.munitions=new at,this.cargo=new nt(t.cargo),this.gear=new rt(t.landing_gear),this.accessories=new ot(t.accessories),this.optimization=new lt,this.weapons=new mt,this.used=new pt,this.rotor=new gt(t.rotor),this.alter=new q,this.era.SetCalculateStats((()=>{this.CalculateStats()})),this.cockpits.SetCalculateStats((()=>{this.CalculateStats()})),this.passengers.SetCalculateStats((()=>{this.CalculateStats()})),this.engines.SetCalculateStats((()=>{this.CalculateStats()})),this.propeller.SetCalculateStats((()=>{this.CalculateStats()})),this.frames.SetCalculateStats((()=>{this.CalculateStats()})),this.wings.SetCalculateStats((()=>{this.CalculateStats()})),this.stabilizers.SetCalculateStats((()=>{this.CalculateStats()})),this.controlsurfaces.SetCalculateStats((()=>{this.CalculateStats()})),this.reinforcements.SetCalculateStats((()=>{this.CalculateStats()})),this.fuel.SetCalculateStats((()=>{this.CalculateStats()})),this.munitions.SetCalculateStats((()=>{this.CalculateStats()})),this.cargo.SetCalculateStats((()=>{this.CalculateStats()})),this.gear.SetCalculateStats((()=>{this.CalculateStats()})),this.accessories.SetCalculateStats((()=>{this.CalculateStats()})),this.optimization.SetCalculateStats((()=>{this.CalculateStats()})),this.weapons.SetCalculateStats((()=>{this.CalculateStats()})),this.used.SetCalculateStats((()=>{this.CalculateStats()})),this.rotor.SetCalculateStats((()=>{this.CalculateStats()})),this.alter.SetCalculateStats((()=>{this.CalculateStats()})),this.rotor.SetCantileverList(this.reinforcements.GetCantileverList()),this.cockpits.SetNumberOfCockpits(1),this.engines.SetNumberOfEngines(1),this.frames.SetTailType(1),this.use_storage=e,this.updated_stats=!1,this.freeze_calculation=!1,this.aircraft_type=D.AIRPLANE,this.Reset()}InteractiveDash(){const t=this.GetStats(),e=this.GetDerivedStats(),s=this.VitalComponentList();for(var i=!1;s.length>10;)s.pop(),i=!0;for(i&&(s.pop(),s.push("And More. See Plane Builder for full list."));s.length<10;)s.push("");const a=this.GetAccessories().GetEffectiveCoverage();var n="";for(let t=0;t<a.length;++t){const e=t+1;a[t]>0&&(n+=""!=n?", ":h("Armour")+" ",n+=e.toString()+"/+"+(11-a[t]).toString())}const r=[],o=this.GetMunitions().GetBombCount(),l=this.GetMunitions().GetRocketCount();var c=this.GetMunitions().GetInternalBombCount();if((o>0||l>0)&&r.push("Current load here."),o>0){const t=Math.min(o,c),e=Math.max(0,o-t);if(t>0&&r.push(h(" Bomb Mass Internally.",t)),e>0&&r.push(h(" Bomb Mass Externally.",e)),t>0){const e=Math.min(t,this.GetMunitions().GetMaxBombSize());r.push(h("Largest Internal Bomb",e.toString()))}c-=t}if(l>0){const t=Math.min(l,c),e=Math.max(0,l-t);t>0&&r.push(h(" Rocket Mass Internally.",t)),e>0&&r.push(h(" Rocket Mass Externally.",e))}for(;r.length<5;)r.push("");let u="";for(const e of t.warnings)u+=e.source+": "+e.warning+"\n";const m={altitude:0,airspeed:0,fuel:e.FuelUses,dropoff:e.Dropoff,visibility:this.GetCockpits().GetCockpit(0).GetVisibility(),energy_loss:e.EnergyLoss,turn_bleed:e.TurnBleed,stability:e.Stabiilty,stress:this.GetCockpits().GetCockpit(0).GetFlightStress()[0],plane_escape:this.GetCockpits().GetCockpit(0).GetEscape(),crash:this.GetCockpits().GetCockpit(0).GetCrash(),max_toughness:e.Toughness,current_toughness:e.Toughness,max_strain:e.MaxStrain,current_strain:e.MaxStrain,g_force:0,kills:0,full_load_boost:e.BoostFullwBombs,full_load_handling:e.HandlingFullwBombs,full_load_climb:e.RateOfClimbwBombs,full_load_stall:e.StallSpeedFullwBombs,full_load_speed:e.MaxSpeedwBombs,half_fuel_bombs_boost:Math.floor((e.BoostFullwBombs+e.BoostEmpty)/2),half_fuel_bombs_handling:Math.floor((e.HandlingFullwBombs+e.HandlingEmpty)/2),half_fuel_bombs_climb:Math.floor(1e-6+(e.RateOfClimbEmpty+e.RateOfClimbwBombs)/2),half_fuel_bombs_stall:Math.floor((e.StallSpeedFullwBombs+e.StallSpeedEmpty)/2),half_fuel_bombs_speed:Math.floor(1e-6+(e.MaxSpeedEmpty+e.MaxSpeedwBombs)/2),full_fuel_no_bombs_boost:e.BoostFull,full_fuel_no_bombs_handling:e.HandlingFull,full_fuel_no_bombs_climb:e.RateOfClimbFull,full_fuel_no_bombs_stall:e.StallSpeedFull,full_fuel_no_bombs_speed:Math.floor(1e-6+e.MaxSpeedFull),half_fuel_no_bombs_boost:Math.floor((e.BoostFull+e.BoostEmpty)/2),half_fuel_no_bombs_handling:Math.floor((e.HandlingFull+e.HandlingEmpty)/2),half_fuel_no_bombs_climb:Math.floor(1e-6+(e.RateOfClimbEmpty+e.RateOfClimbFull)/2),half_fuel_no_bombs_stall:Math.floor((e.StallSpeedFull+e.StallSpeedEmpty)/2),half_fuel_no_bombs_speed:Math.floor(1e-6+(e.MaxSpeedEmpty+e.MaxSpeedFull)/2),empty_boost:0,empty_handling:e.HandlingEmpty,empty_climb:0,empty_stall:e.StallSpeedEmpty,empty_speed:0,vital_part_1:s[0],vital_part_2:s[1],vital_part_3:s[2],vital_part_4:s[3],vital_part_5:s[4],vital_part_6:s[5],vital_part_7:s[6],vital_part_8:s[7],vital_part_9:s[8],vital_part_10:s[9],armor:n,max_bomb_load:r[0],ordinance_1:r[1],ordinance_2:r[2],ordinance_3:r[3],ordinance_4:r[4],notes:u,full_load_selected:!0,half_fuel_bombs_selected:!1,full_fuel_no_bombs_selected:!1,half_fuel_no_bombs_selected:!1,empty_selected:!1,engines:this.InteractiveEngines(),weapons:this.InteractiveWeapons()};return JSON.stringify(m)}InteractiveEngines(){const t=[];for(let e=0;e<this.GetEngines().GetNumberOfEngines();e++){const s=this.GetEngines().GetEngine(e),i={rpm:0,wear:0,reliability:s.GetReliability(),ideal_altitide:s.GetMaxAltitude(),overspeed:s.GetOverspeed(),notes:""},a=s.GetCurrentStats(),r=[];if(a.pulsejet){r.push(h("Pulsejet"));const t=T().get(s.GetSelectedList()).get_name(a.name);t.power>0&&t.starter&&r.push(h("Starter"))}else{s.IsRotary()&&s.IsTractor()?r.push(h("Turns Right")):s.IsRotary()&&s.IsPusher()&&r.push(h("Turns Left"));const t=T().get(s.GetSelectedList()).get_name(a.name);t.upgrades[1]?r.push(h("War Emergency Power")):t.compressor_count>0&&1==t.compressor_type&&r.push(h("War Emergency Power from altitudes 0-9"))}if(i.notes=n.Join(", ",r),s.GetUsePushPull()){const e=i.reliability.split("/");i.reliability=e[0].toString(),t.push(JSON.stringify(i)),i.reliability=e[0].toString(),t.push(JSON.stringify(i))}else t.push(JSON.stringify(i))}return t}InteractiveWeapons(){const t=[];for(const s of this.GetWeapons().GetWeaponSets()){const i=this.GetWeapons().GetWeaponList(),a=s.GetHits(),r=[];"PR"==i[s.GetWeaponSelected()].abrv?(r.push(5),r.push(5),r.push(5),r.push(5)):(r.push(Math.floor(1e-6+i[s.GetWeaponSelected()].damage*a[0])),r.push(Math.floor(1e-6+i[s.GetWeaponSelected()].damage*a[1])),r.push(Math.floor(1e-6+i[s.GetWeaponSelected()].damage*a[2])),r.push(Math.floor(1e-6+i[s.GetWeaponSelected()].damage*a[3])));const o=s.GetFinalWeapon(),l=[],c={type:Lt(s,i),ammo:s.GetShots(),ap:o.ap,jam:s.GetJam(),knife_hits:a[0],close_hits:a[1],long_hits:a[2],extreme_hits:a[3],knife_damage:r[0],close_damage:r[1],long_damage:r[2],extreme_damage:r[3],tags:""},u=this.GetWeapons().GetDirectionList();s.IsPlural()&&(c.type=s.GetWeaponCount().toString()+"x "+c.type);const m=s.GetDirection();var e="";e+="[";for(let t=0;t<u.length;t++)m[t]&&(e+=h(u[t])+" ");e=e.substr(0,e.length-1),e+="]",l.push(e),l.concat(Ht(s)),c.tags=n.Join(", ",l),t.push(JSON.stringify(c))}return t}toJSON(){return{version:this.version,name:this.name,aircraft_type:this.aircraft_type,era:this.era.toJSON(),cockpits:this.cockpits.toJSON(),passengers:this.passengers.toJSON(),engines:this.engines.toJSON(),propeller:this.propeller.toJSON(),frames:this.frames.toJSON(),wings:this.wings.toJSON(),stabilizers:this.stabilizers.toJSON(),controlsurfaces:this.controlsurfaces.toJSON(),reinforcements:this.reinforcements.toJSON(),fuel:this.fuel.toJSON(),munitions:this.munitions.toJSON(),cargo:this.cargo.toJSON(),gear:this.gear.toJSON(),accessories:this.accessories.toJSON(),optimization:this.optimization.toJSON(),weapons:this.weapons.toJSON(),used:this.used.toJSON(),rotor:this.rotor.toJSON(),alter:this.alter.toJSON()}}fromJSON(t,e=!0){this.freeze_calculation=!0,e&&(console.log(t),console.log(t.version));const s=parseFloat(t.version);return this.name=t.name,s>11.05?(this.aircraft_type=t.aircraft_type,this.rotor.SetType(t.aircraft_type)):(this.aircraft_type=D.AIRPLANE,this.rotor.SetType(D.AIRPLANE)),this.era.fromJSON(t.era,s),this.cockpits.fromJSON(t.cockpits,s),this.passengers.fromJSON(t.passengers,s),this.engines.fromJSON(t.engines,s),this.propeller.fromJSON(t.propeller,s),this.frames.fromJSON(t.frames,s),this.wings.fromJSON(t.wings,s),this.stabilizers.fromJSON(t.stabilizers,s),this.controlsurfaces.fromJSON(t.controlsurfaces,s),this.reinforcements.fromJSON(t.reinforcements,s),this.fuel.fromJSON(t.fuel,s),this.munitions.fromJSON(t.munitions,s),this.cargo.fromJSON(t.cargo,s),this.gear.fromJSON(t.gear,s),this.accessories.fromJSON(t.accessories,s),this.optimization.fromJSON(t.optimization,s),this.weapons.fromJSON(t.weapons,s),s>10.65&&this.used.fromJSON(t.used,s),s>11.05&&this.rotor.fromJSON(t.rotor,s),s>12.25?this.alter.fromJSON(t.alter,s):this.alter.ClearAll(),this.freeze_calculation=!1,!0}serialize(t){t.PushString(this.version),t.PushString(this.name),this.era.serialize(t),this.cockpits.serialize(t),this.passengers.serialize(t),this.engines.serialize(t),this.propeller.serialize(t),this.frames.serialize(t),this.wings.serialize(t),this.stabilizers.serialize(t),this.controlsurfaces.serialize(t),this.reinforcements.serialize(t),this.fuel.serialize(t),this.munitions.serialize(t),this.cargo.serialize(t),this.gear.serialize(t),this.accessories.serialize(t),this.optimization.serialize(t),this.weapons.serialize(t),this.used.serialize(t),this.rotor.serialize(t),t.PushNum(this.aircraft_type),this.alter.serialize(t)}deserialize(t){this.freeze_calculation=!0,t.version=parseFloat(t.GetString()),this.name=t.GetString(),this.era.deserialize(t),this.cockpits.deserialize(t),this.passengers.deserialize(t),this.engines.deserialize(t),this.propeller.deserialize(t),this.frames.deserialize(t),this.wings.deserialize(t),this.stabilizers.deserialize(t),this.controlsurfaces.deserialize(t),this.reinforcements.deserialize(t),this.fuel.deserialize(t),this.munitions.deserialize(t),this.cargo.deserialize(t),this.gear.deserialize(t),this.accessories.deserialize(t),this.optimization.deserialize(t),this.weapons.deserialize(t),t.version>10.65&&this.used.deserialize(t),t.version>11.05?(this.rotor.deserialise(t),this.aircraft_type=t.GetNum(),this.rotor.SetType(this.aircraft_type)):(this.aircraft_type=D.AIRPLANE,this.rotor.SetType(D.AIRPLANE)),t.version>12.25?this.alter.deserialize(t):this.alter.ClearAll(),this.freeze_calculation=!1}SetType(t){this.aircraft_type=t,this.rotor.SetType(t),this.CalculateStats()}SetDisplayCallback(t){this.DisplayCallback=t}CalculateStats(){if(this.freeze_calculation)return;this.updated_stats=!1;let t=new u;if(t=t.Add(this.era.PartStats()),t=t.Add(this.cockpits.PartStats()),t=t.Add(this.passengers.PartStats()),this.engines.SetTailMods(this.frames.GetFarmanOrBoom(),this.wings.GetSwept()&&this.stabilizers.GetVOutboard(),this.stabilizers.GetCanard()),this.engines.SetInternal(this.aircraft_type==D.HELICOPTER||L(this.aircraft_type)),this.engines.SetMetalArea(this.wings.GetMetalArea()),this.engines.HaveParasol(this.wings.GetParasol()),t=t.Add(this.engines.PartStats()),this.propeller.SetEngineTypes(this.engines.GetEngineTypes()),this.propeller.SetAcftType(this.aircraft_type),t=t.Add(this.propeller.PartStats()),t=t.Add(this.fuel.PartStats()),t=t.Add(this.munitions.PartStats()),this.weapons.SetNumberOfCockpits(this.cockpits.GetNumberOfCockpits()),this.weapons.SetTractorInfo(this.engines.GetTractorSpinner()),this.weapons.SetPusherInfo(this.engines.GetPusherSpinner()),this.weapons.cant_type=this.reinforcements.GetCantileverType(),this.weapons.SetHavePropeller(this.engines.GetNumPropellers()>0),this.weapons.SetCanWing(!L(this.aircraft_type)),t=t.Add(this.weapons.PartStats()),t=t.Add(this.cargo.PartStats()),this.wings.SetAcftType(this.aircraft_type),this.aircraft_type==D.AUTOGYRO?this.wings.SetRotorSpan(this.rotor.GetRotorSpan()):this.wings.SetRotorSpan(0),t=t.Add(this.wings.PartStats()),this.rotor.SetWingArea(t.wingarea),this.aircraft_type==D.AUTOGYRO&&(this.rotor.SetEngineCount(this.engines.GetNumberOfEngines()),t=t.Add(this.rotor.PartStats())),this.controlsurfaces.SetWingArea(t.wingarea),this.controlsurfaces.SetBoomTail(this.frames.GetUseBoom()),this.controlsurfaces.SetSpan(this.wings.GetSpan()),this.controlsurfaces.SetAcftType(this.aircraft_type),this.controlsurfaces.SetCanElevator(this.stabilizers.GetHStabCount()>0),this.controlsurfaces.SetCanRudder(this.stabilizers.GetVStabCount()>0),this.controlsurfaces.SetIsVTail(this.stabilizers.GetIsVTail()),this.aircraft_type==D.AIRPLANE?this.controlsurfaces.SetNumCantilever(this.reinforcements.GetTotalCantilevers()):this.controlsurfaces.SetNumCantilever(0),t=t.Add(this.controlsurfaces.PartStats()),this.reinforcements.SetMonoplane(this.wings.GetMonoplane()),this.reinforcements.SetTandem(this.wings.GetTandem()),this.reinforcements.SetStaggered(this.wings.GetStaggered()),this.reinforcements.SetCanUseExternal(this.wings.GetArea()>0),this.reinforcements.SetSesquiplane(this.wings.GetIsSesquiplane()),this.reinforcements.SetAircraftType(this.aircraft_type),this.reinforcements.SetCantLift(this.era.GetCantLift()),t=t.Add(this.reinforcements.PartStats()),this.rotor.GetTailRotor()&&(t.power=Math.floor(1e-6+.9*t.power)),this.accessories.SetAcftRadiator(this.engines.GetNumberOfRadiators()>0),this.accessories.SetSkinArmor(this.frames.GetArmor()),this.accessories.SetVitalParts(this.VitalComponentList().length),this.accessories.SetCanCutouts(this.wings.CanCutout(),this.frames.CanCutout()),t=t.Add(this.accessories.PartStats()),this.frames.SetRequiredSections(t.reqsections),this.frames.SetHasTractorNacelles(this.engines.GetHasTractorNacelles()),this.frames.SetIsTandem(this.wings.GetTandem()),t=t.Add(this.frames.PartStats()),this.stabilizers.SetEngineCount(this.engines.GetNumberOfEngines()),this.stabilizers.SetIsTandem(this.wings.GetTandem()),this.stabilizers.SetIsSwept(this.wings.GetSwept()),this.stabilizers.SetHaveTail(!this.frames.GetIsTailless()),this.stabilizers.SetHelicopter(!1),this.stabilizers.SetLiftingArea(t.wingarea),this.stabilizers.wing_drag=this.wings.GetWingDrag()+this.rotor.GetRotorDrag(),t=t.Add(this.stabilizers.PartStats()),this.wings.SetAircraftMass(t.mass),t.mass+=this.wings.GetPaperMass(),t.mass=Math.max(1,t.mass),this.gear.SetGull(this.wings.HasInvertedGull()),this.gear.SetLoadedMass(t.mass+t.wetmass),this.gear.CanBoat(this.engines.GetEngineHeight(),this.wings.GetWingHeight()),t=t.Add(this.gear.PartStats()),t.toughness+=Math.floor(1e-6+t.structure/5),this.optimization.SetAcftStats(t),t=t.Add(this.optimization.PartStats()),this.cockpits.SetHasRotary(this.engines.HasTractorRotary()),t=t.Add(this.alter.PartStats()),t.Round(),!this.updated_stats){this.updated_stats=!0,this.stats=t;const e=this.GetDerivedStats();this.stats.cost+=this.controlsurfaces.GetFlapCost(e.DryMP),t.reliability-=this.used.burnt_out,this.weapons.SetStickyGuns(this.used.sticky_guns),this.cockpits.SetArmed(this.weapons.GetArmedSeats()),this.cockpits.UpdateCrewStats(this.stats.escape,e.ControlStress,e.RumbleStress,this.stats.visibility,this.stats.crashsafety);let s=0;for(const t of this.cockpits.GetStressList())s=Math.max(s,t[0]-t[1]);0!=s&&-1==this.stats.warnings.findIndex((t=>t.source==h("Co-Pilot Controls")))&&this.stats.warnings.push({source:h("Co-Pilot Controls"),warning:h("Co-Pilot Warning",s),color:c.WHITE}),L(this.aircraft_type)&&(t.upkeep+=1),this.aircraft_type==D.ORNITHOPTER_BUZZER&&(t.reliability-=2),this.engines.UpdateReliability(t),this.reinforcements.SetAcftStructure(t.structure),this.fuel.SetArea(this.wings.GetArea()),this.fuel.SetCantilever(this.reinforcements.GetIsCantilever()),this.munitions.SetAcftParameters(t.structure,this.era.GetMaxBomb(),this.wings.HasInvertedGull()),this.stats.cost=Math.max(1,this.stats.cost),this.stats.liftbleed=Math.max(1,this.stats.liftbleed),10*this.engines.GetRumble()>t.structure&&(this.stats.power=0,this.stats.warnings.push({source:h("Stat Rumble"),warning:h("Rumble Warning"),color:c.RED})),this.DisplayCallback&&!this.freeze_calculation&&this.DisplayCallback(),this.use_storage&&window.localStorage.setItem("test.aircraft",JSON.stringify(this))}}GetDerivedStats(){let t=Math.floor(1e-6+this.stats.mass/5);t=Math.max(t,1);let e=Math.floor(1e-6+(this.stats.mass+this.stats.wetmass)/5);e=Math.max(e,1);let s=Math.floor(1e-6+(this.stats.mass+this.stats.wetmass+this.stats.bomb_mass)/5);s=Math.max(s,1);let i=Math.floor(1e-6+(this.stats.drag+t)/5);i=Math.max(i,1);const a=i;let n=Math.floor(1e-6+(this.stats.drag+this.munitions.GetExternalMass()+t)/5);n=Math.max(n,1);let r=Math.floor(1e-6+this.stats.pitchspeed*Math.sqrt(2e3*this.stats.power/(9*i))),o=Math.floor(1e-6+this.stats.pitchspeed*Math.sqrt(2e3*this.stats.power/(9*a))),l=Math.floor(1e-6+this.stats.pitchspeed*Math.sqrt(2e3*this.stats.power/(9*n)));this.stats.mass<15&&-1==this.stats.warnings.findIndex((t=>t.source==h("Stat Mass")))&&this.stats.warnings.push({source:h("Stat Mass"),warning:h("Low Mass Warning"),color:c.YELLOW}),this.stats.drag+t<35&&-1==this.stats.warnings.findIndex((t=>t.source==h("Stat Drag")))&&this.stats.warnings.push({source:h("Stat Drag"),warning:h("Low Drag Warning"),color:c.YELLOW});let u=Math.max(1,Math.floor(1e-6+this.stats.liftbleed*t/Math.max(1,this.stats.wingarea))),m=Math.max(1,Math.floor(1e-6+this.stats.liftbleed*e/Math.max(1,this.stats.wingarea))),p=Math.max(Math.floor(1e-6+this.stats.liftbleed*s/Math.max(1,this.stats.wingarea)));var d=this.engines.GetOverspeed();const g=Math.floor(1e-6+this.stats.power/t),_=Math.floor(1e-6+this.stats.power/e),f=Math.floor(1e-6+this.stats.power/s);0==f&&-1==this.stats.warnings.findIndex((t=>t.source==h("Derived Boost")))&&this.stats.warnings.push({source:h("Derived Boost"),warning:h("Boost Warning"),color:c.RED});const b=Math.floor(1e-6+this.stats.pitchboost*r);r=Math.floor(1e-6+r*(1-.1*this.used.ragged)),o=Math.floor(1e-6+o*(1-.1*this.used.ragged)),l=Math.floor(1e-6+l*(1-.1*this.used.ragged));let S=this.stats.pitchstab+this.stats.latstab;this.stats.pitchstab>0&&this.stats.latstab>0?S+=2:this.stats.pitchstab<0&&this.stats.latstab<0&&(S-=2);let y=100+this.stats.control-t;S>10||S<-10?(y=-1/0,-1==this.stats.warnings.findIndex((t=>t.source==h("Derived Stability")))&&this.stats.warnings.push({source:h("Derived Stability"),warning:h("Stability Warning"),color:c.RED})):10==S?y-=4:S>6?y-=3:S>3?y-=2:S>0?y-=1:0==S?y+=0:S>-4?y+=1:S>-7?y+=2:S>-10?y+=3:-10==S&&(y+=4);let w=y+t-e,C=y+t-s;y=Math.floor(1e-6+y-5*this.used.sluggish),w=Math.floor(1e-6+w-5*this.used.sluggish),C=Math.floor(1e-6+C-5*this.used.sluggish);let A=Math.min(this.stats.maxstrain-t,this.stats.structure);this.optimization.final_ms=Math.floor(1e-6+1.5*this.optimization.GetMaxStrain()*A/10),A+=this.optimization.final_ms,A=Math.floor(1e-6+A*(1-.2*this.used.fragile)),A<10&&-1==this.stats.warnings.findIndex((t=>t.source==h("Stat Max Strain")))&&this.stats.warnings.push({source:h("Stat Max Strain"),warning:h("Max Strain Warning"),color:c.RED});let B=this.stats.toughness;B=Math.floor(1e-6+B*(1-.5*this.used.weak));const E=this.stats.structure;let M=Math.ceil(i/this.propeller.GetEnergy()-1e-6),P=M+1;M=Math.min(M,10),P=Math.min(P,10);let G=Math.ceil(Math.floor(1e-6+(u+m)/2)/this.propeller.GetTurn()-1e-6);this.aircraft_type==D.HELICOPTER&&(G=Math.max(1,Math.floor(1e-6+t/2))+this.rotor.GetRotorBleed(),M=Math.max(1,Math.floor(1e-6+i/7)),u=0,m=0,p=0,r=Math.min(37,r),o=Math.min(37,o),l=Math.min(37,l)),G=Math.max(G,1);let R=G+1;R=Math.max(R,1),u=Math.max(1,Math.floor(1e-6+u*(1+.2*this.used.hefty))),m=Math.max(1,Math.floor(1e-6+m*(1+.2*this.used.hefty))),p=Math.max(1,Math.floor(1e-6+p*(1+.2*this.used.hefty))),(l<=p||o<=m)&&-1==this.stats.warnings.findIndex((t=>t.source==h("Stall Speed")))&&this.stats.warnings.push({source:h("Stall Speed"),warning:h("Stall Speed Warning"),color:c.RED});let I=Math.floor(1e-6+this.stats.fuel/this.stats.fuelconsumption);I=Math.floor(1e-6+I*(1-.2*this.used.leaky)),isFinite(I)||(I=0),I<6&&-1==this.stats.warnings.findIndex((t=>t.source==h("Derived Fuel Uses")))&&this.stats.warnings.push({source:h("Derived Fuel Uses"),warning:h("Fuel Uses Warning"),color:c.YELLOW});let x=1;(S>3||S<-3)&&x++;let F=0;x+=Math.min(this.accessories.GetMaxMassStress(),Math.floor(1e-6+t/10));const T=this.accessories.GetMaxTotalStress();x=Math.min(T,x),this.engines.GetMaxRumble()>0&&(F+=Math.max(1,this.engines.GetMaxRumble()),F=Math.floor(1e-6+F)),0==T&&(F=0);let v=Math.max(1,Math.floor(1e-6+this.stats.power/t*(23/this.stats.pitchspeed)/i)),N=Math.max(1,Math.floor(1e-6+this.stats.power/e*(23/this.stats.pitchspeed)/a)),k=Math.max(1,Math.floor(1e-6+this.stats.power/s*(23/this.stats.pitchspeed)/n));return isFinite(v)||(v=0,N=0,k=0),L(this.aircraft_type)&&(y+=5,w+=5,C+=5,-1==this.stats.warnings.findIndex((t=>t.source==h("Ornithopter Stall")))&&this.stats.warnings.push({source:h("Ornithopter Stall"),warning:h("Ornithopter Stall Warning"),color:c.WHITE}),d=A),this.aircraft_type==D.ORNITHOPTER_FLUTTER&&(y+=5,w+=5,C+=5,d=1/0,-1==this.stats.warnings.findIndex((t=>t.source==h("Ornithopter Flutterer Attack")))&&this.stats.warnings.push({source:h("Ornithopter Flutterer Attack"),warning:h("Ornithopter Flutterer Attack Warning"),color:c.WHITE})),this.aircraft_type==D.ORNITHOPTER_BUZZER&&(-1==this.stats.warnings.findIndex((t=>t.source==h("Ornithopter Buzzer Boost")))&&this.stats.warnings.push({source:h("Ornithopter Buzzer Boost"),warning:h("Ornithopter Buzzer Boost Warning"),color:c.WHITE}),-1==this.stats.warnings.findIndex((t=>t.source==h("Ornithopter Buzzer Stall")))&&this.stats.warnings.push({source:h("Ornithopter Buzzer Stall"),warning:h("Ornithopter Buzzer Stall Warning"),color:c.WHITE})),{DryMP:t,WetMP:e,WetMPwBombs:s,DPEmpty:i,DPFull:a,DPwBombs:n,MaxSpeedEmpty:r,MaxSpeedFull:o,MaxSpeedwBombs:l,StallSpeedEmpty:u,StallSpeedFull:m,StallSpeedFullwBombs:p,Overspeed:d,BoostEmpty:g,BoostFull:_,BoostFullwBombs:f,Dropoff:b,Stabiilty:S,HandlingEmpty:y,HandlingFull:w,HandlingFullwBombs:C,MaxStrain:A,Toughness:B,Structure:E,EnergyLoss:M,EnergyLosswBombs:P,TurnBleed:G,TurnBleedwBombs:R,FuelUses:I,ControlStress:x,RumbleStress:F,RateOfClimbFull:N,RateOfClimbEmpty:v,RateOfClimbwBombs:k}}VitalComponentList(){const t=this.GetDerivedStats(),e=[];e.push(h("Vital Part Controls"));for(let t=0;t<this.GetCockpits().GetNumberOfCockpits();t++)e.push(h("Seat #",t+1)+": "+h(this.GetCockpits().GetCockpit(t).GetName()));t.FuelUses>0&&e.push(h("Vital Part Fuel Tanks"));for(let t=0;t<this.GetEngines().GetNumberOfEngines();t++)this.GetEngines().GetEngine(t).GetUsePushPull()?(e.push(h("Vital Part Engine Pusher",t+1)),this.GetEngines().GetEngine(t).GetHasOilTank()&&e.push(h("Vital Part Oil Tank Pusher",t+1)),this.GetEngines().GetEngine(t).GetHasOilCooler()&&e.push(h("Vital Part Oil Cooler Pusher",t+1)),this.GetEngines().GetEngine(t).GetHasOilPan()&&e.push(h("Vital Part Oil Pan Pusher",t+1)),e.push(h("Vital Part Engine Puller",t+1)),this.GetEngines().GetEngine(t).GetHasOilTank()&&e.push(h("Vital Part Oil Tank Puller",t+1)),this.GetEngines().GetEngine(t).GetHasOilCooler()&&e.push(h("Vital Part Oil Cooler Puller",t+1)),this.GetEngines().GetEngine(t).GetHasOilPan()&&e.push(h("Vital Part Oil Pan Puller",t+1))):(e.push(h("Vital Part Engine",t+1)),this.GetEngines().GetEngine(t).GetHasOilTank()&&e.push(h("Vital Part Oil Tank",t+1)),this.GetEngines().GetEngine(t).GetHasOilCooler()&&e.push(h("Vital Part Oil Cooler",t+1)),this.GetEngines().GetEngine(t).GetHasOilPan()&&e.push(h("Vital Part Oil Pan",t+1)));for(let t=0;t<this.GetEngines().GetNumberOfRadiators();t++)e.push(h("Vital Part Radiator",t+1));this.IsElectrics()&&e.push(h("Vital Part Electrics"));const s=this.GetWeapons().GetWeaponList();for(let t=0;t<this.GetWeapons().GetWeaponSets().length;t++)e.push(h("Vital Part Weapon Set",t+1,s[this.GetWeapons().GetWeaponSets()[t].GetWeaponSelected()].abrv));return this.GetLandingGear().IsVital()&&e.push(h("Vital Part Landing Gear")),this.rotor.GetTailRotor()&&e.push(h("Vital Part Tail Rotor")),e}SetStorage(t){this.use_storage=t}Reset(){this.fromJSON(JSON.parse(this.reset_json),!1)}GetVersion(){return this.version}GetCommunicationName(){return this.accessories.GetCommunicationName()}GetAttackList(){return this.cockpits.GetAttackList()}GetVisibilityList(){return this.cockpits.GetVisibilityList()}GetStressList(){return this.cockpits.GetStressList()}GetEscapeList(){return this.cockpits.GetEscapeList()}GetCrashList(){return this.cockpits.GetCrashList()}GetReliabilityList(){return this.engines.GetReliabilityList()}GetMinIAF(){return this.engines.GetMinIAF()}GetMaxIAF(){return this.engines.GetMaxIAF()}GetMinAltitude(){return this.engines.GetMinAltitude()}GetMaxAltitude(){return this.engines.GetMaxAltitude()}GetGearName(){return this.gear.GetGearName()}GetIsFlammable(){return this.frames.GetIsFlammable()||this.wings.GetIsFlammable()||this.engines.GetIsFlammable()}GetAircraftType(){return this.aircraft_type}GetEra(){return this.era}GetCockpits(){return this.cockpits}GetPassengers(){return this.passengers}GetEngines(){return this.engines}GetPropeller(){return this.propeller}GetFrames(){return this.frames}GetWings(){return this.wings}GetStabilizers(){return this.stabilizers}GetControlSurfaces(){return this.controlsurfaces}GetReinforcements(){return this.reinforcements}GetFuel(){return this.fuel}GetMunitions(){return this.munitions}GetCargoAndPassengers(){return this.cargo}GetLandingGear(){return this.gear}GetAccessories(){return this.accessories}GetOptimization(){return this.optimization}GetStats(){return this.stats}GetWeapons(){return this.weapons}IsElectrics(){return this.engines.IsElectrics()||this.accessories.IsElectrics()||this.cockpits.IsElectrics()}GetUsed(){return this.used}GetRotor(){return this.rotor}GetAlter(){return this.alter}GetElectrics(){let t={storage:0,equipment:[]};t=U(t,this.accessories.GetElectrics()),t=U(t,this.wings.GetElectrics()),t=U(t,this.cockpits.GetElectrics()),t=U(t,this.alter.GetElectrics()),t=U(t,this.cargo.GetElectrics()),t=U(t,this.era.GetElectrics()),t=U(t,this.frames.GetElectrics()),t=U(t,this.fuel.GetElectrics()),t=U(t,this.gear.GetElectrics()),t=U(t,this.munitions.GetElectrics()),t=U(t,this.optimization.GetElectrics()),t=U(t,this.passengers.GetElectrics()),t=U(t,this.reinforcements.GetElectrics()),t=U(t,this.rotor.GetElectrics()),t=U(t,this.stabilizers.GetElectrics()),t=U(t,this.used.GetElectrics()),t.equipment=t.equipment.sort(((t,e)=>{let s=parseInt(t.charge);"-"==t.charge&&(s=0);let i=parseInt(e.charge);return"-"==e.charge&&(i=0),isNaN(s)&&isNaN(i)?0:isNaN(s)?-1:isNaN(i)?1:i-s})),t=U(this.engines.GetElectrics(),t),t=U(t,this.weapons.GetElectrics());let e=!1;for(const s of t.equipment){const t=parseInt(s.charge);!isNaN(t)&&t>0&&(s.charge="+"+s.charge,e=!0)}return t.equipment.length>0&&t.storage<=0&&!e&&-1==this.stats.warnings.findIndex((t=>t.source==h("Insufficient Charge")))&&this.stats.warnings.push({source:h("Insufficient Charge"),warning:h("Insufficient Charge Warning"),color:c.RED}),t}}class Qt extends Wt{constructor(t){super(),this.model=t,document.getElementById("lbl_era").textContent=h("Era Section Title");const e=document.getElementById("table_era"),s=document.createDocumentFragment();var i=xt(s);yt(i,h("Era Option")),yt(i,h("Stat Lift Bleed")),yt(i,h("Stat Cost")),yt(i,h("Stat Pitch Stability"));const a=(i=xt(s)).insertCell();this.select=document.createElement("SELECT"),a.append(this.select),this.bleed=i.insertCell(),this.cost=i.insertCell(),this.pstab=i.insertCell(),this.select.required=!0,this.select.onchange=()=>{this.model.SetSelected(this.select.selectedIndex)};for(let t of this.model.GetEraOptions()){const e=document.createElement("OPTION");e.text=h(t.name),this.select.add(e)}e.appendChild(s)}UpdateDisplay(){this.select.selectedIndex=this.model.GetSelected();const t=this.model.PartStats();Dt(this.bleed,t.liftbleed.toString(),!1),Dt(this.cost,t.cost.toString(),!1),Dt(this.pstab,t.pitchstab.toString(),!1)}}class zt extends Wt{constructor(t,e){super(),this.row=t,this.cockpit=e,this.upg_chbxs=[],this.sft_chbxs=[],this.gun_chbxs=[];const s=document.createDocumentFragment(),i=Ft(s),a=Ft(s),n=Ft(s),r=Ft(s),o=Ft(s),l=document.createElement("TABLE"),c=l.insertRow();yt(c,h("Stat Mass")),yt(c,h("Stat Drag")),yt(c,h("Stat Cost"));const u=l.insertRow();this.d_mass=u.insertCell(),this.d_drag=u.insertCell(),this.d_cost=u.insertCell();const m=l.insertRow();yt(m,h("Stat Control")),yt(m,h("Stat Required Sections")),yt(m,"");const p=l.insertRow();this.d_cont=p.insertCell(),this.d_rseq=p.insertCell(),p.insertCell();const d=l.insertRow();yt(d,h("Stat Flight Stress")),yt(d,h("Stat Escape")),yt(d,h("Stat Visibility"));const g=l.insertRow();this.d_strs=g.insertCell(),this.d_escp=g.insertCell(),this.d_visi=g.insertCell(),o.appendChild(l),o.className="inner_table",l.className="inner_table",this.sel_type=document.createElement("SELECT"),this.d_strs.className="part_local",this.d_visi.className="part_local",this.d_escp.className="part_local";for(let t of e.GetTypeList()){let e=document.createElement("OPTION");e.text=h(t.name),this.sel_type.add(e)}i.appendChild(this.sel_type);var _=St(a);const f=e.GetUpgradeList(),b=e.CanUpgrades();for(let t=0;t<f.length;t++){let e=document.createElement("INPUT");b[t]&&(Pt(h(f[t].name),e,_),e.onchange=()=>{this.cockpit.SetUpgrade(t,e.checked)}),this.upg_chbxs.push(e)}_=St(n);var S=0;for(let t of e.GetSafetyList()){let e=document.createElement("INPUT");Pt(h(t.name),e,_);let s=S;S+=1,e.onchange=()=>{this.cockpit.SetSafety(s,e.checked)},this.sft_chbxs.push(e)}_=St(r);var y=0;for(let t of e.GetGunsightList()){let e=document.createElement("INPUT");Pt(h(t.name),e,_);let s=y;y+=1,e.onchange=()=>{this.cockpit.SetGunsight(s,e.checked)},this.gun_chbxs.push(e)}this.bombsight=document.createElement("INPUT"),Ct(h("Cockpit Bombsight"),this.bombsight,_),this.bombsight.onchange=()=>{this.cockpit.SetBombsightQuality(this.bombsight.valueAsNumber)},this.bombsight.min="0",this.bombsight.max="301",this.bombsight.step="1",this.sel_type.onchange=()=>{this.cockpit.SetType(this.sel_type.selectedIndex)},this.row.appendChild(s)}UpdateCockpit(t){this.cockpit=t}UpdateDisplay(){let t=this.cockpit.PartStats();Dt(this.d_mass,t.mass.toString(),!1),Dt(this.d_drag,t.drag.toString(),!1),Dt(this.d_cost,t.cost.toString(),!1),Dt(this.d_cont,t.control.toString(),!0),Dt(this.d_rseq,t.reqsections.toString(),!1);const e=this.cockpit.GetFlightStress();e[0],e[1],Dt(this.d_strs,n.Format("{0}",e[0])),Dt(this.d_escp,this.cockpit.GetEscape().toString(),!0),Dt(this.d_visi,this.cockpit.GetVisibility().toString(),!0),this.sel_type.selectedIndex=this.cockpit.GetType();const s=this.cockpit.GetSelectedUpgrades();for(let t=0;t<this.upg_chbxs.length;t++)this.upg_chbxs[t].checked=s[t];const i=this.cockpit.GetSelectedSafety();let a=this.cockpit.CanSafety();for(let t=0;t<this.sft_chbxs.length;t++)this.sft_chbxs[t].checked=i[t],this.sft_chbxs[t].disabled=!a[t];const r=this.cockpit.GetSelectedGunsights();for(let t=0;t<this.gun_chbxs.length;t++)this.gun_chbxs[t].checked=r[t];this.bombsight.valueAsNumber=this.cockpit.GetBombsightQuality()}}class jt extends Wt{constructor(t){super(),this.cockpits=t,document.getElementById("lbl_cockpits").textContent=h("Cockpit Section Title"),document.getElementById("lbl_num_cockpits").textContent=h("Cockpit Num Cockpits"),this.tbl=document.getElementById("table_cockpit");const e=document.createDocumentFragment(),s=xt(e);yt(s,h("Cockpit Option")),yt(s,h("Cockpit Upgrade")),yt(s,h("Cockpit Safety Options")),yt(s,h("Cockpit Gunsights")),yt(s,h("Cockpit Cockpit Stats")),this.counter=document.getElementById("num_cockpits"),this.positions=[],this.counter.onchange=t=>{this.cockpits.SetNumberOfCockpits(this.counter.valueAsNumber)},this.tbl.appendChild(e)}CounterChange(){for(;this.positions.length>this.counter.valueAsNumber;)this.RemoveCockpit();for(;this.positions.length<this.counter.valueAsNumber;)this.AddCockpit(this.positions.length)}AddCockpit(t){const e=this.tbl.insertRow(),s=new zt(e,this.cockpits.GetCockpit(t));this.positions.push(s)}RemoveCockpit(){this.positions.pop(),this.tbl.deleteRow(this.tbl.rows.length-1)}UpdateDisplay(){this.counter.valueAsNumber=this.cockpits.GetNumberOfCockpits(),this.CounterChange();for(let t=0;t<this.positions.length;t++){let e=this.positions[t];e.UpdateCockpit(this.cockpits.GetCockpit(t)),e.UpdateDisplay()}}}class Jt extends Wt{constructor(t){super(),this.pass=t,document.getElementById("lbl_passengers").textContent=h("Passengers Section Title");const e=document.getElementById("table_passengers"),s=document.createDocumentFragment();var i=xt(s);yt(i,h("Passengers Number of Seats")),yt(i,h("Passengers Number of Beds")),yt(i,h("Passengers Upgrade")),yt(i,h("Stat Mass")),yt(i,h("Stat Required Sections")),i=xt(s),this.nseats=document.createElement("INPUT"),this.nseats.type="number",this.nseats.min="0",i.insertCell().append(this.nseats),this.nbeds=document.createElement("INPUT"),this.nbeds.type="number",this.nbeds.min="0",i.insertCell().append(this.nbeds);const a=i.insertCell();this.connect=document.createElement("INPUT");const n=St(a);Pt(h("Passengers Connectivity"),this.connect,n),this.mass=i.insertCell(),this.reqseq=i.insertCell(),this.connect.disabled=!0,this.nseats.onchange=()=>{this.pass.SetSeats(this.nseats.valueAsNumber)},this.nbeds.onchange=()=>{this.pass.SetBeds(this.nbeds.valueAsNumber)},this.connect.onchange=()=>{this.pass.SetConnected(this.connect.checked)},e.appendChild(s)}SetCollapse(){kt("passenger_collapse",!this.pass.IsDefault())}UpdateDisplay(){const t=this.pass.PartStats();this.nseats.valueAsNumber=this.pass.GetSeats(),this.nbeds.valueAsNumber=this.pass.GetBeds(),this.connect.checked=this.pass.GetConnected(),this.connect.disabled=!this.pass.PossibleConnection(),Dt(this.mass,t.mass.toString(),!1),Dt(this.reqseq,t.reqsections.toString(),!1)}}class Yt extends Wt{constructor(t,e){super(),this.engine=t;const s=e;this.InitTypeSelect(s);const i=s.insertCell();i.className="inner_table";const a=document.createElement("TABLE");a.className="inner_table",yt(a.insertRow(),h("Engine Cooling")),this.cool_cell=a.insertRow().insertCell(),yt(a.insertRow(),h("Engine Mounting"));const n=a.insertRow().insertCell();yt(a.insertRow(),h("Engine Upgrades"));const r=a.insertRow().insertCell();i.appendChild(a);const o=s.insertCell();o.className="inner_table";const l=document.createElement("TABLE");l.className="inner_table",yt(l.insertRow(),h("Engine Cowls"));const c=l.insertRow().insertCell();o.appendChild(l),yt(l.insertRow(),h("Engine Electrical"));const u=l.insertRow().insertCell();this.InitMountSelect(n),this.InitUpgradeSelect(r),this.InitCowlSelect(c),this.InitElectricSelect(u),this.InitStatDisplay(s),this.intake_fan=document.createElement("INPUT"),this.intake_fan.onchange=()=>{this.engine.SetIntakeFan(this.intake_fan.checked)}}InitTypeSelect(t){this.e_rarity=document.createElement("LABEL"),this.e_pwr=document.createElement("LABEL"),this.e_mass=document.createElement("LABEL"),this.e_drag=document.createElement("LABEL"),this.e_rely=document.createElement("LABEL"),this.e_cool=document.createElement("LABEL"),this.e_over=document.createElement("LABEL"),this.e_fuel=document.createElement("LABEL"),this.e_alti=document.createElement("LABEL"),this.e_torq=document.createElement("LABEL"),this.e_rumb=document.createElement("LABEL"),this.e_cost=document.createElement("LABEL"),this.cool_count=document.createElement("INPUT"),this.cool_count.setAttribute("type","number");const e=t.insertCell(0);this.e_list_select=document.createElement("SELECT"),this.e_list_select.required=!0,e.appendChild(this.e_list_select),e.appendChild(document.createElement("BR"));for(let t of T().keys()){let e=document.createElement("OPTION");e.text=t,this.e_list_select.add(e)}this.e_select=document.createElement("SELECT"),this.e_select.required=!0,e.appendChild(this.e_select),e.appendChild(document.createElement("BR"));const s=T();for(let t=0;t<s.get("Custom").length;t++){let e=s.get("Custom").get(t),i=document.createElement("OPTION");i.text=e.name,this.e_select.add(i)}const i=St(e);At(h("Rarity"),this.e_rarity,i),At(h("Stat Power"),this.e_pwr,i),At(h("Stat Mass"),this.e_mass,i),At(h("Stat Drag"),this.e_drag,i),At(h("Stat Reliability"),this.e_rely,i),At(h("Stat Cooling"),this.e_cool,i),At(h("Stat Overspeed"),this.e_over,i),At(h("Stat Fuel Consumption"),this.e_fuel,i),At(h("Stat Altitude"),this.e_alti,i),At(h("Stat Torque"),this.e_torq,i),At(h("Stat Rumble"),this.e_rumb,i),At(h("Stat Cost"),this.e_cost,i),this.e_list_select.onchange=()=>{this.engine.SetSelectedList(this.e_list_select.options[this.e_list_select.selectedIndex].text)},this.e_select.onchange=()=>{this.engine.SetSelectedIndex(this.e_select.selectedIndex)}}UpdateEngine(t){this.engine=t}InitMountSelect(t){const e=document.createElement("SPAN");e.textContent=h("Engine Mounting Location"),t.appendChild(e),t.appendChild(document.createElement("BR")),this.mount_select=document.createElement("SELECT");for(let t of this.engine.GetMountList()){let e=document.createElement("OPTION");e.text=h(t.name),this.mount_select.add(e)}this.mount_select.required=!0,this.mount_select.selectedIndex=this.engine.GetMountIndex(),this.mount_select.onchange=()=>{this.engine.SetMountIndex(this.mount_select.selectedIndex)},t.appendChild(this.mount_select),t.appendChild(document.createElement("BR")),this.pushpull_input=document.createElement("INPUT"),this.torque_input=document.createElement("INPUT");const s=St(t);this.pushpull_label=Pt(" "+h("Engine Push Pull"),this.pushpull_input,s),Pt(" "+h("Engine Torque To Structure"),this.torque_input,s),this.pushpull_input.checked=this.engine.GetUsePushPull(),this.torque_input.checked=this.engine.GetUsePushPull(),this.pushpull_input.onchange=()=>{this.engine.SetUsePushPull(this.pushpull_input.checked)},this.torque_input.onchange=()=>{this.engine.SetTorqueToStruct(this.torque_input.checked)}}InitUpgradeSelect(t){this.ds_input=document.createElement("INPUT"),this.op_input=document.createElement("INPUT"),this.gp_input=document.createElement("INPUT"),this.gpr_input=document.createElement("INPUT");const e=St(t);Pt(h("Engine Extended Driveshafts"),this.ds_input,e),Pt(h("Engine Outboard Propeller"),this.op_input,e),Ct(h("Engine Geared Propeller"),this.gp_input,e),Ct(h("Engine Negate Reliability Penalty"),this.gpr_input,e),this.gp_input.onchange=()=>{this.engine.SetGearCount(this.gp_input.valueAsNumber)},this.gpr_input.onchange=()=>{this.engine.SetGearReliability(this.gpr_input.valueAsNumber)},this.ds_input.onchange=()=>{this.engine.SetUseExtendedDriveshaft(this.ds_input.checked)},this.op_input.onchange=()=>{this.engine.SetOutboardProp(this.op_input.checked)}}InitElectricSelect(t){const e=St(t);this.alternator_input=document.createElement("INPUT"),this.generator_input=document.createElement("INPUT"),Pt(h("Engine Alternator"),this.alternator_input,e),Pt(h("Engine Generator"),this.generator_input,e),this.alternator_input.onchange=()=>{this.engine.SetAlternator(this.alternator_input.checked)},this.generator_input.onchange=()=>{this.engine.SetGenerator(this.generator_input.checked)}}InitStatDisplay(t){const e=t.insertCell();e.className="inner_table";const s=document.createElement("TABLE");s.className="inner_table",e.appendChild(s);const i=s.insertRow();yt(i,h("Stat Power")),yt(i,h("Stat Mass")),yt(i,h("Stat Drag"));const a=s.insertRow();this.d_powr=a.insertCell(),this.d_mass=a.insertCell(),this.d_drag=a.insertCell();const n=s.insertRow();yt(n,h("Stat Reliability")),yt(n,h("Stat Visibility")),yt(n,h("Stat Overspeed"));const r=s.insertRow();this.d_rely=r.insertCell(),this.d_rely.className="part_local",this.d_visi=r.insertCell(),this.d_over=r.insertCell();const o=s.insertRow();yt(o,h("Stat Cost")),yt(o,h("Stat Altitude")),yt(o,h("Stat Fuel Consumption"));const l=s.insertRow();this.d_cost=l.insertCell(),this.d_alti=l.insertCell(),this.d_fuel=l.insertCell();const c=s.insertRow();yt(c,h("Stat Pitch Stability")),yt(c,h("Stat Lateral Stability")),yt(c,h("Stat Raw Strain"));const u=s.insertRow();this.d_pstb=u.insertCell(),this.d_lstb=u.insertCell(),this.d_maxs=u.insertCell();const m=s.insertRow();yt(m,h("Stat Structure")),yt(m,h("Stat Flight Stress")),yt(m,h("Stat Required Sections"));const p=s.insertRow();this.d_strc=p.insertCell(),this.d_fstr=p.insertCell(),this.d_sect=p.insertCell();const d=s.insertRow();yt(d,h("Stat Charge")),yt(d,""),yt(d,"");const g=s.insertRow();this.d_chrg=g.insertCell(),g.insertCell(),g.insertCell()}InitCowlSelect(t){this.cowl_select=document.createElement("SELECT");for(let t of this.engine.GetCowlList()){let e=document.createElement("OPTION");e.text=h(t.name),this.cowl_select.add(e)}this.cowl_select.required=!0,this.cowl_select.selectedIndex=this.engine.GetMountIndex(),this.cowl_select.onchange=()=>{this.engine.SetCowl(this.cowl_select.selectedIndex)},t.appendChild(this.cowl_select)}InitCoolingSelect(){for(;this.cool_cell.children.length>0;)this.cool_cell.removeChild(this.cool_cell.children[0]);if(this.engine.IsRotary()){this.e_cool.textContent="0";const t=document.createElement("SPAN");t.innerText=h("Engine Rotary Cooling"),this.cool_cell.appendChild(t)}else if("0"==this.e_cool.textContent){const t=document.createElement("SPAN");t.textContent=h("Engine Air-Cooled Engine."),this.cool_cell.appendChild(t);const e=St(this.cool_cell);Pt(h("Engine Air Cooling Fan"),this.intake_fan,e),this.intake_fan.disabled=!this.engine.CanIntakeFan()}else{this.cool_select||(this.cool_select=document.createElement("SELECT"),this.cool_select.required=!0);const t=St(this.cool_cell);Bt(h("Engine Select Radiator"),this.cool_select,t),Ct(h("Engine Cooling Amount"),this.cool_count,t);const e=this.engine.GetNumRadiators();for(;this.cool_select.options.length>0;)this.cool_select.options.remove(this.cool_select.options.length-1);for(let t=1;t<e+1;t++){let e=document.createElement("OPTION");e.textContent=h("Vital Part Radiator",t),this.cool_select.add(e)}this.cool_select.onchange=()=>{this.engine.SetRadiator(this.cool_select.selectedIndex)},this.cool_select.selectedIndex=this.engine.GetRadiator(),this.cool_count.min="0",this.cool_count.max=this.engine.GetMaxCooling().toString(),this.cool_count.valueAsNumber=this.engine.GetCooling(),this.cool_count.onchange=()=>{this.engine.SetCooling(this.cool_count.valueAsNumber)}}}UpdateDisplay(){for(;this.e_list_select.options.length>0;)this.e_list_select.options.remove(this.e_list_select.options.length-1);for(;this.e_select.options.length>0;)this.e_select.options.remove(this.e_select.options.length-1);const t=this.engine.GetSelectedList();if(""!=t){var e=!1,s=0;const i=T();for(let a of i.keys()){let i=document.createElement("OPTION");i.text=a,this.e_list_select.add(i),a==t||e?(s=Math.abs(s),e=!0):s-=1}this.e_list_select.selectedIndex=s;const a=this.engine.CanSelectIndex();for(let e=0;e<i.get(t).length;e++){let s=i.get(t).get(e),n=document.createElement("OPTION");n.text=s.name,n.disabled=!a[e],this.e_select.add(n)}this.e_select.selectedIndex=this.engine.GetSelectedIndex()}else{const t=T();for(let e of t.keys()){let t=document.createElement("OPTION");t.text=e,this.e_list_select.add(t)}this.e_list_select.selectedIndex=-1;let e=this.engine.GetCurrentStats(),s=document.createElement("OPTION");s.text=e.name,this.e_select.add(s),this.e_select.selectedIndex=0}const i=this.engine.GetCurrentStats();switch(i.rarity){case C.CUSTOM:this.e_rarity.textContent=h("Rarity Custom"),this.e_rarity.className="ER_Custom";break;case C.COMMON:this.e_rarity.textContent=h("Rarity Common"),this.e_rarity.className="";break;case C.RARE:this.e_rarity.textContent=h("Rarity Rare"),this.e_rarity.className="ER_Rare";break;case C.LEGENDARY:this.e_rarity.textContent=h("Rarity Legendary"),this.e_rarity.className="ER_Legendary"}const a=this.engine.GetMinAltitude(),n=this.engine.GetMaxAltitude();if(this.e_pwr.textContent=i.stats.power.toString(),this.e_mass.textContent=i.stats.mass.toString(),this.e_drag.textContent=i.stats.drag.toString(),this.e_rely.textContent=i.stats.reliability.toString(),this.e_cool.textContent=i.stats.cooling.toString(),this.e_over.textContent=i.overspeed.toString(),this.e_fuel.textContent=i.stats.fuelconsumption.toString(),this.e_alti.textContent=a.toString()+"-"+n.toString(),this.e_torq.textContent=i.torque.toString(),this.e_rumb.textContent=i.rumble.toString(),this.e_cost.textContent=i.stats.cost.toString(),this.InitCoolingSelect(),this.intake_fan.checked=this.engine.GetIntakeFan(),this.mount_select.selectedIndex=this.engine.GetMountIndex(),this.engine.GetIsTurbine()?this.pushpull_label.textContent=" "+h("Engine Side-by-Side"):this.pushpull_label.textContent=" "+h("Engine Push Pull"),this.pushpull_input.checked=this.engine.GetUsePushPull(),this.pushpull_input.disabled=!this.engine.CanUsePushPull(),this.torque_input.checked=this.engine.GetTorqueToStruct(),this.torque_input.checked=this.engine.GetTorqueToStruct(),this.torque_input.disabled=!this.engine.CanTorqueToStruct(),this.ds_input.checked=this.engine.GetUseExtendedDriveshaft(),this.ds_input.disabled=!this.engine.CanUseExtendedDriveshaft(),this.op_input.checked=this.engine.GetOutboardProp(),this.op_input.disabled=!this.engine.CanOutboardProp(),this.gp_input.valueAsNumber=this.engine.GetGearCount(),this.gp_input.disabled=!this.engine.CanUseGears(),this.gpr_input.valueAsNumber=this.engine.GetGearReliability(),this.gpr_input.disabled=!this.engine.CanUseGears(),i.pulsejet){this.mount_select.disabled=!0,this.mount_select.selectedIndex=-1;for(let t=0;t<this.mount_select.options.length;t++)"fuselage"==this.mount_select.options[t].value&&(this.mount_select.options[t].disabled=!0);this.cowl_select.disabled=!0,this.alternator_input.disabled=!0,this.generator_input.disabled=!0}else{this.mount_select.disabled=!1;const t=this.engine.CanMountIndex();for(let e=0;e<this.mount_select.options.length;e++)this.mount_select.options[e].disabled=!t[e];this.cowl_select.disabled=!1,this.alternator_input.disabled=!1,this.generator_input.disabled=!1}this.cowl_select.selectedIndex=this.engine.GetCowl();const r=this.engine.GetCowlEnabled();for(let t=0;t<r.length;t++)this.cowl_select.options[t].disabled=!r[t];this.generator_input.checked=this.engine.GetGenerator(),this.generator_input.disabled=!this.engine.GetGeneratorEnabled(),this.alternator_input.checked=this.engine.GetAlternator(),this.alternator_input.disabled=!this.engine.GetAlternatorEnabled();const o=this.engine.PartStats();Dt(this.d_powr,o.power.toString(),!0),Dt(this.d_mass,o.mass.toString(),!1),Dt(this.d_drag,o.drag.toString(),!1),Dt(this.d_rely,this.engine.GetReliability().toString(),!0),Dt(this.d_visi,o.visibility.toString(),!0),Dt(this.d_over,this.engine.GetOverspeed().toString(),!0),Dt(this.d_cost,o.cost.toString(),!1),Dt(this.d_alti,a.toString()+"-"+n.toString()),Dt(this.d_fuel,o.fuelconsumption.toString(),!1),Dt(this.d_pstb,o.pitchstab.toString(),!0),Dt(this.d_lstb,o.latstab.toString(),!0),Dt(this.d_maxs,o.maxstrain.toString(),!0),Dt(this.d_strc,o.structure.toString(),!0),Dt(this.d_fstr,o.flightstress.toString(),!1),Dt(this.d_sect,o.reqsections.toString(),!1),Dt(this.d_chrg,o.charge.toString(),!0)}}class Kt extends Wt{constructor(t,e){super(),this.radiator=e;const s=t.insertCell();this.type_select=document.createElement("SELECT");for(let t of this.radiator.GetTypeList()){let e=document.createElement("OPTION");e.text=h(t.name),this.type_select.add(e)}this.type_select.onchange=()=>{this.radiator.SetTypeIndex(this.type_select.selectedIndex)},s.appendChild(this.type_select);const i=t.insertCell();this.mount_select=document.createElement("SELECT");for(let t of this.radiator.GetMountList()){let e=document.createElement("OPTION");e.text=h(t.name),this.mount_select.add(e)}this.mount_select.onchange=()=>{this.radiator.SetMountIndex(this.mount_select.selectedIndex)},i.appendChild(this.mount_select);const a=t.insertCell();this.coolant_select=document.createElement("SELECT");for(let t of this.radiator.GetCoolantList()){let e=document.createElement("OPTION");e.text=h(t.name),this.coolant_select.add(e)}this.coolant_select.onchange=()=>{this.radiator.SetCoolantIndex(this.coolant_select.selectedIndex)},a.appendChild(this.coolant_select),a.appendChild(document.createElement("BR")),this.harden_input=document.createElement("INPUT");const n=St(a);Pt(h("Radiators Harden Radiator"),this.harden_input,n),this.harden_input.onchange=()=>{this.radiator.SetHarden(this.harden_input.checked)};const r=t.insertCell(),o=document.createElement("TABLE");r.className="inner_table",o.className="inner_table";const l=o.insertRow();yt(l,h("Stat Mass")),yt(l,h("Stat Cost")),yt(l,h("Stat Drag")),yt(l,h("Stat Reliability")),yt(l,h("Stat Lateral Stability")),yt(l,h("Derived Is Flammable Question"));const c=o.insertRow();this.c_mass=c.insertCell(),this.c_cost=c.insertCell(),this.c_drag=c.insertCell(),this.c_rely=c.insertCell(),this.c_lstb=c.insertCell(),this.c_flam=c.insertCell(),r.appendChild(o)}UpdateRadiator(t){this.radiator=t}UpdateDisplay(){const t=this.radiator.CanType();for(let e=0;e<t.length;e++)this.type_select.options[e].disabled=!t[e];this.type_select.selectedIndex=this.radiator.GetTypeIndex(),this.mount_select.selectedIndex=this.radiator.GetMountIndex();const e=this.radiator.CanMount();for(let t=0;t<e.length;t++)this.mount_select.options[t].disabled=!e[t];this.coolant_select.selectedIndex=this.radiator.GetCoolantIndex(),this.harden_input.checked=this.radiator.GetHarden();const s=this.radiator.PartStats();Dt(this.c_mass,s.mass.toString(),!1),Dt(this.c_cost,s.cost.toString(),!1),Dt(this.c_drag,s.drag.toString(),!1),Dt(this.c_rely,s.reliability.toString(),!0),Dt(this.c_lstb,s.latstab.toString(),!0),this.radiator.GetIsFlammable()?Dt(this.c_flam,h("Yes")):Dt(this.c_flam,h("No"))}}class Vt extends Wt{constructor(t){super(),this.eng=t,this.engines=[],this.radiators=[],document.getElementById("lbl_engines").textContent=h("Engines Section Title"),this.tbl=document.getElementById("table_engine");var e=document.createDocumentFragment(),s=xt(e);yt(s,h("Engines Engine Type")),yt(s,h("Engines Options")),yt(s,h("Engines Options 2")),yt(s,h("Engines Engine Stats")),this.tbl.appendChild(e),e=document.createDocumentFragment(),this.tblR=document.getElementById("table_radiator"),yt(s=xt(e),h("Radiators Radiator Type")),yt(s,h("Radiators Mounting")),yt(s,h("Radiators Coolant")),yt(s,h("Radiators Radiator Stats")),this.tblR.appendChild(e),document.getElementById("lbl_num_engines").textContent=h("Engines Num Engines"),this.num_engines=document.getElementById("num_engines"),this.num_engines.onchange=()=>{this.eng.SetNumberOfEngines(this.num_engines.valueAsNumber)},this.num_engines.valueAsNumber=this.eng.GetNumberOfItems(),document.getElementById("lbl_num_radiators").textContent=h("Engines Num Radiators"),this.num_radiators=document.getElementById("num_radiators"),this.num_radiators.onchange=()=>{this.eng.SetNumberOfRadiators(this.num_radiators.valueAsNumber)},this.num_radiators.valueAsNumber=this.eng.GetNumberOfRadiators(),document.getElementById("lbl_asymmetric").textContent=h("Engines Asymmetric Plane"),this.is_asymmetric=document.getElementById("asymmetric"),this.is_asymmetric.onchange=()=>{this.eng.SetAsymmetry(this.is_asymmetric.checked)},this.is_asymmetric.checked=this.eng.GetAsymmetry()}UpdateDisplay(){const t=this.eng.GetNumberOfItems();for(this.tbl.style.display=0==t?"none":"",this.num_engines.valueAsNumber=t;this.engines.length>t;)this.engines.pop(),this.tbl.deleteRow(this.engines.length+1);for(var e=document.createDocumentFragment();this.engines.length<t;){let t=this.eng.GetEngine(this.engines.length),s=new Yt(t,xt(e));this.engines.push(s)}this.tbl.appendChild(e);for(let e=0;e<t;e++)this.engines[e].UpdateEngine(this.eng.GetEngine(e));const s=this.eng.GetNumberOfRadiators();for(this.num_radiators.valueAsNumber=s,0==s?(this.tblR.style.display="none",this.num_radiators.disabled=!0):(this.tblR.style.display="",this.num_radiators.disabled=!1);this.radiators.length>s;)this.radiators.pop(),this.tblR.deleteRow(this.radiators.length+1);for(e=document.createDocumentFragment();this.radiators.length<s;){let t=new Kt(xt(e),this.eng.GetRadiator(this.radiators.length));this.radiators.push(t)}this.tblR.appendChild(e);for(let t=0;t<s;t++)this.radiators[t].UpdateRadiator(this.eng.GetRadiator(t));this.is_asymmetric.checked=this.eng.GetAsymmetry();for(let t of this.engines)t.UpdateDisplay();for(let t of this.radiators)t.UpdateDisplay()}}class Zt extends Wt{constructor(t){super(),this.prop=t,document.getElementById("lbl_propeller").textContent=h("Propeller Section Title"),document.getElementById("lbl_propeller_pitch").textContent=h("Propeller Propeller Pitch"),this.select_prop=document.getElementById("propeller_pitch");for(let e of t.GetPropList()){let t=document.createElement("OPTION");t.text=h(e.name),this.select_prop.add(t)}this.select_prop.onchange=()=>{this.prop.SetPropIndex(this.select_prop.selectedIndex)},document.getElementById("lbl_propeller_upgrade").textContent=h("Propeller Propeller Upgrades:"),this.select_upgrade=document.getElementById("propeller_upgrade");for(let e of t.GetUpgradeList()){let t=document.createElement("OPTION");t.text=h(e.name),this.select_upgrade.add(t)}this.select_upgrade.onchange=()=>{this.prop.SetUpgradeIndex(this.select_upgrade.selectedIndex)}}UpdateDisplay(){this.select_upgrade.selectedIndex=this.prop.GetUpgradeIndex(),this.select_prop.selectedIndex=this.prop.GetPropIndex(),0==this.prop.GetNumPropellers()?(this.select_upgrade.disabled=!0,this.select_prop.disabled=!0,this.select_prop.selectedIndex=-1):(this.select_prop.disabled=!1,this.select_upgrade.disabled=!1)}}class Xt extends Wt{constructor(t){super(),this.c_sec=[],this.t_sec=[],this.frames=t,document.getElementById("lbl_frames").textContent=h("Frames Frames and Covering"),this.table=document.getElementById("table_frames");const e=document.createDocumentFragment();var s=xt(e);this.all_frame=document.createElement("SELECT"),this.all_skin=document.createElement("SELECT"),yt(s,h("Frames Frame Type")).append(document.createElement("BR"),this.all_frame),yt(s,h("Frames Skin Type")).append(document.createElement("BR"),this.all_skin),yt(s,h("Frames Frame Options")),yt(s,h("Frames Frame Stats")),s=xt(e),this.c_frame=s.insertCell(),this.c_skin=s.insertCell(),this.c_options=s.insertCell(),this.c_stats=s.insertCell(),this.c_stats.className="inner_table",this.c_stats.rowSpan=0;const i=document.createElement("TABLE");i.className="inner_table";const a=i.insertRow();yt(a,h("Stat Mass")),yt(a,h("Stat Drag")),yt(a,h("Stat Cost"));const n=i.insertRow();this.d_mass=n.insertCell(),this.d_drag=n.insertCell(),this.d_cost=n.insertCell();const r=i.insertRow();yt(r,h("Stat Structure")),yt(r,h("Stat Toughness")),yt(r,h("Stat Visibility"));const o=i.insertRow();this.d_strc=o.insertCell(),this.d_tugh=o.insertCell(),this.d_visi=o.insertCell();const l=i.insertRow();yt(l,h("Stat Wing Area")),yt(l,h("Derived Is Flammable Question")),yt(l,h("Stat Pitch Stability"));const c=i.insertRow();this.d_area=c.insertCell(),this.d_flammable=c.insertCell(),this.d_pstb=c.insertCell();const u=i.insertRow();yt(u,h("Stat Raw Strain")),yt(u,h("Stat Lift Bleed")),yt(u,"");const m=i.insertRow();this.d_strn=m.insertCell(),this.d_lift=m.insertCell(),m.insertCell(),this.c_stats.appendChild(i);const p=xt(e);yt(p,h("Frames Tail Frame Type")),yt(p,h("Frames Tail Skin Type")),yt(p,h("Frames Tail Frame Options"));const d=xt(e);this.t_frame=d.insertCell(),this.t_skin=d.insertCell(),this.t_options=d.insertCell(),document.getElementById("lbl_tail").textContent=h("Frames Tail Section Title"),document.getElementById("lbl_tail_type").textContent=h("Frames Tail Type"),this.t_select=document.getElementById("tail_type"),document.getElementById("lbl_tail_farman").textContent=h("Frames Tail Farman"),this.t_farman=document.getElementById("tail_farman"),document.getElementById("lbl_tail_boom").textContent=h("Frames Tail Boom"),this.t_boom=document.getElementById("tail_boom"),document.getElementById("lbl_flying_wing").textContent=h("Frames Flying Wing"),this.t_fwing=document.getElementById("flying_wing");const g=this.frames.GetFrameList();for(let t of g){let e=document.createElement("OPTION");e.text=h(t.name),t.basestruct<=0&&(e.disabled=!0),this.all_frame.add(e)}this.all_frame.onchange=()=>{this.frames.SetAllFrame(this.all_frame.selectedIndex)};const _=this.frames.GetSkinList();for(let t of _){let e=document.createElement("OPTION");e.text=h(t.name),this.all_skin.add(e)}this.all_skin.onchange=()=>{this.frames.SetAllSkin(this.all_skin.selectedIndex)};for(let t of this.frames.GetTailList()){let e=document.createElement("OPTION");e.text=h(t.name),this.t_select.add(e)}this.t_select.onchange=()=>{this.frames.SetTailType(this.t_select.selectedIndex)},this.t_farman.onchange=()=>{this.frames.SetUseFarman(this.t_farman.checked)},this.t_boom.onchange=()=>{this.frames.SetUseBoom(this.t_boom.checked)},this.t_fwing.onchange=()=>{this.frames.SetFlyingWing(this.t_fwing.checked)},this.table.appendChild(e)}UpdateDisplay(){const t=document.createDocumentFragment();for(;this.table.children.length;)t.append(this.table.children[0]);const e=this.frames.GetSectionList(),s=this.frames.GetTailSectionList();for(;e.length>this.c_sec.length;){let t=this.c_sec.length;this.CreateSection(t,e[t])}for(;e.length<this.c_sec.length;)this.RemoveSection();for(;s.length>this.t_sec.length;){let t=this.t_sec.length;this.CreateTailSection(t,s[t])}for(;s.length<this.t_sec.length;)this.RemoveTailSection();const i=this.frames.GetSkinList()[this.frames.GetSkin()].flammable;for(let t=0;t<e.length;t++){let s=e[t];this.UpdateSection(t,s)}this.t_select.selectedIndex=this.frames.GetTailType(),this.t_farman.disabled=this.frames.GetUseBoom()||this.frames.GetIsTailless(),this.t_farman.checked=this.frames.GetUseFarman(),this.t_boom.disabled=this.frames.GetUseFarman()||this.frames.GetIsTailless(),this.t_boom.checked=this.frames.GetUseBoom(),this.t_fwing.disabled=!this.frames.CanFlyingWing(),this.t_fwing.checked=this.frames.GetFlyingWing(),this.all_frame.selectedIndex=-1,this.all_skin.selectedIndex=this.frames.GetSkin();for(let t=0;t<s.length;t++){let e=s[t];this.UpdateTailSection(t,e)}Dt(this.d_flammable,h(i?"Yes":"No"));const a=this.frames.PartStats();Dt(this.d_mass,a.mass.toString(),!1),Dt(this.d_drag,a.drag.toString(),!1),Dt(this.d_cost,a.cost.toString(),!1),Dt(this.d_strc,a.structure.toString(),!0),Dt(this.d_tugh,a.toughness.toString(),!0),Dt(this.d_visi,a.visibility.toString(),!0),Dt(this.d_area,a.wingarea.toString(),!0),Dt(this.d_pstb,a.pitchstab.toString(),!0),Dt(this.d_strn,a.maxstrain.toString(),!0),Dt(this.d_lift,a.liftbleed.toString(),!1),this.table.appendChild(t)}CreateSection(t,e){const s={fspan:document.createElement("SPAN"),rem:document.createElement("BUTTON"),add:document.createElement("BUTTON"),fsel:document.createElement("SELECT"),sspan:document.createElement("SPAN"),ssel:document.createElement("LABEL"),ospan:document.createElement("SPAN"),geo:document.createElement("INPUT"),mono:document.createElement("INPUT"),int:document.createElement("INPUT"),lb:document.createElement("INPUT")};s.rem.textContent="-",s.rem.onclick=()=>{this.frames.DeleteSection(t)},s.add.textContent="+",s.add.onclick=()=>{this.frames.DuplicateSection(t)};const i=this.frames.GetFrameList();for(let t of i){let e=document.createElement("OPTION");e.text=h(t.name),s.fsel.add(e)}s.fsel.onchange=()=>{this.frames.SetFrame(t,s.fsel.selectedIndex)},s.fspan.appendChild(s.rem),s.fspan.appendChild(s.add),s.fspan.appendChild(s.fsel),s.fspan.appendChild(document.createElement("BR")),this.c_frame.appendChild(s.fspan),s.sspan.appendChild(s.ssel),s.sspan.appendChild(document.createElement("BR")),this.c_skin.appendChild(s.sspan),Et(h("Frames Geodesic"),s.geo,s.ospan,!1),s.geo.onchange=()=>{this.frames.SetGeodesic(t,s.geo.checked)},Et(h("Frames Monocoque"),s.mono,s.ospan,!1),s.mono.onchange=()=>{this.frames.SetMonocoque(t,s.mono.checked)},Et(h("Frames Internal Bracing"),s.int,s.ospan,!1),s.int.onchange=()=>{this.frames.SetInternalBracing(t,s.int.checked)},Et(h("Frames Lifting Body"),s.lb,s.ospan,!0),s.lb.onchange=()=>{this.frames.SetLiftingBody(t,s.lb.checked)},this.c_options.appendChild(s.ospan),this.c_sec.push(s),this.UpdateSection(t,e)}RemoveSection(){const t=this.c_sec.pop();this.c_frame.removeChild(t.fspan),this.c_skin.removeChild(t.sspan),this.c_options.removeChild(t.ospan)}UpdateSection(t,e){const s=this.c_sec[t];s.rem.disabled=!e.internal_bracing&&!this.frames.PossibleRemoveSections(),s.add.disabled=e.internal_bracing&&!this.frames.PossibleInternalBracing();const i=this.frames.GetFrameList();for(let t=0;t<i.length;t++){let a=i[t],n=s.fsel.options[t];n.text=h(a.name),n.disabled=!1,e.geodesic&&!a.geodesic&&(n.disabled=!0),e.internal_bracing||0!=a.basestruct||(n.disabled=!0)}if(s.fsel.selectedIndex=e.frame,e.internal_bracing)s.ssel.textContent=h("Frames No Skin");else{const t=this.frames.GetSkinList();s.ssel.textContent=h(t[this.frames.GetSkin()].name)}s.geo.checked=e.geodesic,s.geo.disabled=!this.frames.PossibleGeodesic(t),s.mono.checked=e.monocoque,s.mono.disabled=!this.frames.PossibleMonocoque(t),s.int.checked=e.internal_bracing,e.internal_bracing||this.frames.PossibleInternalBracing(!0)&&this.frames.PossibleRemoveSections()?s.int.disabled=!1:s.int.disabled=!0,s.lb.checked=e.lifting_body,s.lb.disabled=!this.frames.PossibleLiftingBody(t)}CreateTailSection(t,e){const s={fspan:document.createElement("SPAN"),fsel:document.createElement("SELECT"),sspan:document.createElement("SPAN"),ssel:document.createElement("LABEL"),ospan:document.createElement("SPAN"),geo:document.createElement("INPUT"),mono:document.createElement("INPUT"),lb:document.createElement("INPUT")},i=this.frames.GetFrameList();for(let t of i){let e=document.createElement("OPTION");e.text=h(t.name),s.fsel.add(e)}s.fsel.onchange=()=>{this.frames.SetTailFrame(t,s.fsel.selectedIndex)},s.fspan.appendChild(s.fsel),s.fspan.appendChild(document.createElement("BR")),this.t_frame.appendChild(s.fspan),s.sspan.appendChild(s.ssel),s.sspan.appendChild(document.createElement("BR")),this.t_skin.appendChild(s.sspan),Et(h("Frames Geodesic"),s.geo,s.ospan,!1),s.geo.onchange=()=>{this.frames.SetTailGeodesic(t,s.geo.checked)},Et(h("Frames Monocoque"),s.mono,s.ospan,!1),s.mono.onchange=()=>{this.frames.SetTailMonocoque(t,s.mono.checked)},Et(h("Frames Lifting Body"),s.lb,s.ospan,!0),s.lb.onchange=()=>{this.frames.SetTailLiftingBody(t,s.lb.checked)},this.t_options.appendChild(s.ospan),this.t_sec.push(s),this.UpdateTailSection(t,e)}RemoveTailSection(){const t=this.t_sec.pop();this.t_frame.removeChild(t.fspan),this.t_skin.removeChild(t.sspan),this.t_options.removeChild(t.ospan)}UpdateTailSection(t,e){const s=this.t_sec[t],i=this.frames.GetFrameList();for(let t=0;t<i.length;t++){let a=i[t],n=s.fsel.options[t];n.text=h(a.name),n.disabled=!1,e.geodesic&&!a.geodesic&&(n.disabled=!0),e.internal_bracing||0!=a.basestruct||(n.disabled=!0)}s.fsel.selectedIndex=e.frame;const a=this.frames.GetSkinList();var n=this.frames.GetSkin();this.frames.GetUseFarman()&&(n=0),s.ssel.textContent=h(a[n].name),s.geo.checked=e.geodesic,s.geo.disabled=!this.frames.PossibleTailGeodesic(t),s.mono.checked=e.monocoque,s.mono.disabled=!this.frames.PossibleTailMonocoque(t),s.lb.checked=e.lifting_body,s.lb.disabled=!this.frames.PossibleTailLiftingBody(t)}}class $t extends Wt{constructor(t){super(),this.wings=t,this.fw_list=[],this.mw_list=[],document.getElementById("lbl_wings").textContent=h("Wings Section Title"),document.getElementById("lbl_wing_stagger").textContent=h("Wings Wing Stagger"),this.stagger=document.getElementById("wing_stagger"),document.getElementById("lbl_wing_closed").textContent=h("Wings Closed Wing"),this.closed=document.getElementById("wing_closed"),document.getElementById("lbl_wing_swept").textContent=h("Wings Swept Wing"),this.swept=document.getElementById("wing_swept");for(let e of t.GetStaggerList()){let t=document.createElement("OPTION");t.textContent=h(e.name),this.stagger.append(t)}this.stagger.onchange=()=>{this.wings.SetStagger(this.stagger.selectedIndex)},this.closed.onchange=()=>{this.wings.SetClosed(this.closed.checked)},this.swept.onchange=()=>{this.wings.SetSwept(this.swept.checked)};const e=document.getElementById("wing_table"),s=document.createDocumentFragment(),i=xt(s);yt(i,h("Wings Wing Type")),yt(i,h("Wings Wing Options")),yt(i,h("Wings Wing Stats"));const a=xt(s);yt(a,h("Wings Full Wings"));const n=xt(s);yt(n,h("Wings Miniature Wings")),this.full_cell=a.insertCell(),this.mini_cell=n.insertCell();const r=a.insertCell();r.rowSpan=0,this.InitStatDisplay(r),e.appendChild(s)}InitStatDisplay(t){t.className="inner_table";const e=document.createElement("TABLE");e.className="inner_table",t.appendChild(e);const s=e.insertRow();yt(s,h("Stat Wing Area")),yt(s,h("Stat Mass")),yt(s,h("Stat Drag"));const i=e.insertRow();this.d_area=i.insertCell(),this.d_mass=i.insertCell(),this.d_drag=i.insertCell();const a=e.insertRow();yt(a,h("Stat Control")),yt(a,h("Stat Pitch Stability")),yt(a,h("Stat Lateral Stability"));const n=e.insertRow();this.d_cont=n.insertCell(),this.d_pstb=n.insertCell(),this.d_lstb=n.insertCell();const r=e.insertRow();yt(r,h("Stat Raw Strain")),yt(r,h("Stat Crash Safety")),yt(r,h("Stat Lift Bleed"));const o=e.insertRow();this.d_maxs=o.insertCell(),this.d_crsh=o.insertCell(),this.d_lift=o.insertCell();const l=e.insertRow();yt(l,h("Stat Cost")),yt(l,h("Stat Visibility")),yt(l,h("Stat Charge"));const c=e.insertRow();this.d_cost=c.insertCell(),this.d_visi=c.insertCell(),this.d_chrg=c.insertCell();const u=e.insertRow();yt(u,""),yt(u,h("Wings Sesquiplane")),yt(u,h("Derived Is Flammable Question"));const m=e.insertRow();m.insertCell(),this.d_sesq=m.insertCell(),this.d_flam=m.insertCell()}UpdateDisplay(){const t=this.wings.CanStagger();for(let e=0;e<t.length;e++)this.stagger.options[e].disabled=!t[e];this.stagger.selectedIndex=this.wings.GetStagger(),this.closed.checked=this.wings.GetClosed(),this.closed.disabled=!this.wings.CanClosed(),this.swept.checked=this.wings.GetSwept(),this.swept.disabled=!this.wings.CanSwept(),this.fw_add&&this.full_cell.removeChild(this.fw_add),this.mw_add&&this.mini_cell.removeChild(this.mw_add);const e=this.wings.GetWingList();for(let t=0;t<e.length;t++)this.fw_list.length==t&&this.AddFullWing(),this.UpdateFullWing(this.fw_list[t],t,e[t]);for(;this.fw_list.length>e.length;)this.PopFullWing();const s=this.wings.GetMiniWingList();for(let t=0;t<s.length;t++)this.mw_list.length==t&&this.AddMiniWing(),this.UpdateMiniWing(this.mw_list[t],t,s[t]);for(;this.mw_list.length>s.length;)this.PopMiniWing();this.CreateFWAdd(e.length),this.CreateMWAdd(s.length);const i=this.wings.PartStats();Dt(this.d_area,i.wingarea.toString(),!0),Dt(this.d_mass,(i.mass+this.wings.GetPaperMass()).toString(),!1),Dt(this.d_drag,i.drag.toString(),!1),Dt(this.d_cont,i.control.toString(),!0),Dt(this.d_pstb,i.pitchstab.toString(),!0),Dt(this.d_lstb,i.latstab.toString(),!0),Dt(this.d_maxs,i.maxstrain.toString(),!0),Dt(this.d_lift,i.liftbleed.toString(),!1),Dt(this.d_crsh,i.crashsafety.toString(),!0),Dt(this.d_cost,i.cost.toString(),!1),Dt(this.d_visi,i.visibility.toString(),!0),Dt(this.d_chrg,i.charge.toString(),!0),this.wings.GetIsSesquiplane().is?Dt(this.d_sesq,h("Yes")):Dt(this.d_sesq,h("No")),this.wings.IsFlammable()?Dt(this.d_flam,h("Yes")):Dt(this.d_flam,h("No"))}AddFullWing(){const t={span:document.createElement("SPAN"),deck:document.createElement("SELECT"),skin:document.createElement("SELECT"),area:document.createElement("INPUT"),wspan:document.createElement("INPUT"),gull:document.createElement("INPUT"),dihedral:document.createElement("INPUT"),anhedral:document.createElement("INPUT"),br:document.createElement("BR")};t.span.appendChild(t.deck);const e=this.wings.GetDeckList(),s=document.createElement("OPTION");s.textContent=h("Wings No Wing"),t.deck.append(s);for(let s=0;s<e.length;s++){let i=e[s],a=document.createElement("OPTION");a.textContent=h(i.name),t.deck.append(a)}t.span.appendChild(t.skin);for(let e of this.wings.GetSkinList()){let s=document.createElement("OPTION");s.textContent=h(e.name),t.skin.append(s)}wt(h("Wings Area"),t.area,t.span,!1),t.area.min="3",wt(h("Wings Span"),t.wspan,t.span,!1),t.wspan.min="1",Et(h("Wings Gull"),t.gull,t.span,!1),wt(h("Wings Dihedral"),t.dihedral,t.span,!1),t.dihedral.min="0",wt(h("Wings Anhedral"),t.anhedral,t.span,!1),t.anhedral.min="0",this.full_cell.appendChild(t.span),this.full_cell.appendChild(t.br),this.fw_list.push(t)}PopFullWing(){const t=this.fw_list.pop();this.full_cell.removeChild(t.span),this.full_cell.removeChild(t.br)}UpdateFullWing(t,e,s){for(let i=1;i<t.deck.options.length;i++){let a=t.deck.options[i];s.deck==i-1||this.wings.CanAddFullWing(i-1)||this.wings.CanMoveFullWing(e,i-1)?a.disabled=!1:a.disabled=!0}t.deck.onchange=()=>{let i={...s};i.deck=t.deck.selectedIndex-1,this.wings.SetFullWing(e,i)},t.deck.selectedIndex=s.deck+1,t.skin.onchange=()=>{let i={...s};i.surface=t.skin.selectedIndex,this.wings.SetFullWing(e,i)},t.skin.selectedIndex=s.surface,t.area.onchange=()=>{let i={...s};i.area=t.area.valueAsNumber,this.wings.SetFullWing(e,i)},t.area.valueAsNumber=s.area,t.wspan.onchange=()=>{let i={...s};i.span=t.wspan.valueAsNumber,this.wings.SetFullWing(e,i)},t.wspan.valueAsNumber=s.span,t.gull.onchange=()=>{let i={...s};i.gull=t.gull.checked,this.wings.SetFullWing(e,i)},t.gull.checked=s.gull,t.gull.disabled=!this.wings.CanGull(s.deck),t.dihedral.onchange=()=>{let i={...s};isNaN(t.dihedral.valueAsNumber)||(i.dihedral=t.dihedral.valueAsNumber),this.wings.SetFullWing(e,i)},t.dihedral.max=(s.span-s.anhedral-1).toString(),t.dihedral.valueAsNumber=s.dihedral,t.anhedral.onchange=()=>{let i={...s};isNaN(t.anhedral.valueAsNumber)||(i.anhedral=t.anhedral.valueAsNumber),this.wings.SetFullWing(e,i)},t.anhedral.max=(s.span-s.dihedral-1).toString(),t.anhedral.valueAsNumber=s.anhedral}AddMiniWing(){const t={span:document.createElement("SPAN"),deck:document.createElement("SELECT"),skin:document.createElement("SELECT"),area:document.createElement("INPUT"),wspan:document.createElement("INPUT"),gull:void 0,dihedral:void 0,anhedral:void 0,br:document.createElement("BR")};t.span.appendChild(t.deck);const e=this.wings.GetDeckList(),s=document.createElement("OPTION");s.textContent=h("Wings No Wing"),t.deck.append(s);for(let s=0;s<e.length;s++){let i=e[s],a=document.createElement("OPTION");a.textContent=h(i.name),t.deck.append(a)}t.span.appendChild(t.skin);for(let e of this.wings.GetSkinList()){let s=document.createElement("OPTION");s.textContent=h(e.name),t.skin.append(s)}wt(h("Wings Area"),t.area,t.span,!1),t.area.min="1",t.area.max="2",wt(h("Wings Span"),t.wspan,t.span,!1),t.wspan.min="1",this.mini_cell.appendChild(t.span),this.mini_cell.appendChild(t.br),this.mw_list.push(t)}UpdateMiniWing(t,e,s){for(let i=1;i<t.deck.options.length;i++){let a=t.deck.options[i];s.deck==i||this.wings.CanAddMiniWing(i-1)||this.wings.CanMoveMiniWing(e,i-1)?a.disabled=!1:a.disabled=!0}t.deck.onchange=()=>{let i={...s};i.deck=t.deck.selectedIndex-1,this.wings.SetMiniWing(e,i)},t.deck.selectedIndex=s.deck+1,t.skin.onchange=()=>{let i={...s};i.surface=t.skin.selectedIndex,this.wings.SetMiniWing(e,i)},t.skin.selectedIndex=s.surface,t.area.onchange=()=>{let i={...s};i.area=t.area.valueAsNumber,this.wings.SetMiniWing(e,i)},t.area.valueAsNumber=s.area,t.wspan.onchange=()=>{let i={...s};i.span=t.wspan.valueAsNumber,this.wings.SetMiniWing(e,i)},t.wspan.valueAsNumber=s.span}PopMiniWing(){const t=this.mw_list.pop();this.mini_cell.removeChild(t.span),this.mini_cell.removeChild(t.br)}CreateFWAdd(t){this.fw_add=document.createElement("SELECT");const e=this.wings.GetDeckList(),s=document.createElement("OPTION");s.textContent=h("Wings No Wing"),this.fw_add.append(s);var i=!1;for(let t=0;t<e.length;t++){let s=e[t],a=document.createElement("OPTION");a.textContent=h(s.name),this.wings.CanAddFullWing(t)?i=!0:a.disabled=!0,this.fw_add.append(a)}this.fw_add.onchange=()=>{let e={surface:0,area:10,span:5,gull:!1,dihedral:0,anhedral:0,deck:this.fw_add.selectedIndex-1};this.wings.SetFullWing(t,e)},this.fw_add.selectedIndex=0,this.fw_add.disabled=!i,this.full_cell.appendChild(this.fw_add)}CreateMWAdd(t){this.mw_add=document.createElement("SELECT");const e=this.wings.GetDeckList(),s=document.createElement("OPTION");s.textContent=h("Wings No Wing"),this.mw_add.append(s);var i=!1;for(let t=0;t<e.length;t++){let s=e[t],a=document.createElement("OPTION");a.textContent=h(s.name),this.wings.CanAddMiniWing(t)?i=!0:a.disabled=!0,this.mw_add.append(a)}this.mw_add.onchange=()=>{let e={surface:0,area:2,span:2,gull:!1,dihedral:0,anhedral:0,deck:this.mw_add.selectedIndex-1};this.wings.SetMiniWing(t,e)},this.mw_add.selectedIndex=0,this.mw_add.disabled=!i,this.mini_cell.appendChild(this.mw_add)}}class te extends Wt{constructor(t){super(),this.stab=t,document.getElementById("lbl_stab").textContent=h("Stabilizers Section Title");const e=document.getElementById("stab_table"),s=document.createDocumentFragment();var i=xt(s);yt(i,h("Stabilizers Horizontal Stabilizers")),yt(i,h("Stabilizers Vertical Stabilizers")),yt(i,h("Stabilizers Stabilizer Stats"));const a=(i=xt(s)).insertCell(),n=i.insertCell();this.h_type=document.createElement("SELECT"),this.h_count=document.createElement("INPUT"),a.appendChild(this.h_type),a.append(document.createElement("BR")),wt(h("Stabilizers # of Stabilizers"),this.h_count,a),this.h_count.min="0",this.h_count.max="20",this.h_count.onchange=()=>{this.stab.SetHStabCount(this.h_count.valueAsNumber)},this.h_type.onchange=()=>{this.stab.SetHStabType(this.h_type.selectedIndex)};for(let e of t.GetHStabList()){let t=document.createElement("OPTION");t.text=h(e.name),this.h_type.add(t)}this.v_type=document.createElement("SELECT"),this.v_count=document.createElement("INPUT"),n.appendChild(this.v_type),n.appendChild(document.createElement("BR")),wt(h("Stabilizers # of Stabilizers"),this.v_count,n),this.v_count.min="0",this.v_count.max="20",this.v_count.onchange=()=>{this.stab.SetVStabCount(this.v_count.valueAsNumber)},this.v_type.onchange=()=>{this.stab.SetVStabType(this.v_type.selectedIndex)};for(let e of t.GetVStabList()){let t=document.createElement("OPTION");t.text=h(e.name),this.v_type.add(t)}const r=i.insertCell();r.rowSpan=0,this.InitStatDisplay(r),e.appendChild(s)}InitStatDisplay(t){t.className="inner_table";const e=document.createElement("TABLE");e.className="inner_table",t.appendChild(e);const s=e.insertRow();yt(s,h("Stat Drag")),yt(s,h("Stat Control")),yt(s,h("Stat Cost"));const i=e.insertRow();this.d_drag=i.insertCell(),this.d_cont=i.insertCell(),this.d_cost=i.insertCell();const a=e.insertRow();yt(a,h("Stat Pitch Stability")),yt(a,h("Stat Lateral Stability")),yt(a,h("Stat Lift Bleed"));const n=e.insertRow();this.d_pstb=n.insertCell(),this.d_lstb=n.insertCell(),this.d_lift=n.insertCell()}SetCollapse(){kt("stabilizer_collapse",!this.stab.IsDefault())}UpdateDisplay(){this.h_type.selectedIndex=this.stab.GetHStabType(),this.v_type.selectedIndex=this.stab.GetVStabType();var t=this.stab.GetHValidList();for(let e=0;e<t.length;e++)this.h_type.options[e].disabled=!t[e];t=this.stab.GetVValidList();for(let e=0;e<t.length;e++)this.v_type.options[e].disabled=!t[e];this.h_count.valueAsNumber=this.stab.GetHStabCount(),this.h_count.step=this.stab.GetHStabIncrement().toString(),this.v_count.valueAsNumber=this.stab.GetVStabCount(),this.v_count.step=this.stab.GetVStabIncrement().toString();const e=this.stab.PartStats();Dt(this.d_drag,e.drag.toString(),!1),Dt(this.d_cont,e.control.toString(),!0),Dt(this.d_cost,e.cost.toString(),!1),Dt(this.d_pstb,e.pitchstab.toString(),!0),Dt(this.d_lstb,e.latstab.toString(),!0),Dt(this.d_lift,e.liftbleed.toString(),!1)}}class ee extends Wt{constructor(t){super(),this.cs=t,document.getElementById("lbl_control_surfaces").textContent=h("Control Surfaces Section Title");const e=document.getElementById("tbl_control_surfaces"),s=document.createDocumentFragment();var i=xt(s);yt(i,h("Control Surfaces Control Surfaces")),yt(i,h("Control Surfaces Drag Inducers")),yt(i,h("Control Surfaces Stats"));const a=(i=xt(s)).insertCell();this.aileron_select=document.createElement("SELECT");for(let e of t.GetAileronList()){let t=document.createElement("OPTION");t.text=h(e.name),this.aileron_select.add(t)}this.aileron_select.onchange=()=>{this.cs.SetAileron(this.aileron_select.selectedIndex)},this.rudder_select=document.createElement("SELECT");for(let e of t.GetRudderList()){let t=document.createElement("OPTION");t.text=h(e.name),this.rudder_select.add(t)}this.rudder_select.onchange=()=>{this.cs.SetRudder(this.rudder_select.selectedIndex)},this.elevator_select=document.createElement("SELECT");for(let e of t.GetElevatorList()){let t=document.createElement("OPTION");t.text=h(e.name),this.elevator_select.add(t)}this.elevator_select.onchange=()=>{this.cs.SetElevator(this.elevator_select.selectedIndex)},this.flaps_select=document.createElement("SELECT");for(let e of t.GetFlapsList()){let t=document.createElement("OPTION");t.text=h(e.name),this.flaps_select.add(t)}this.flaps_select.onchange=()=>{this.cs.SetFlaps(this.flaps_select.selectedIndex)},this.slats_select=document.createElement("SELECT");for(let e of t.GetSlatsList()){let t=document.createElement("OPTION");t.text=h(e.name),this.slats_select.add(t)}this.slats_select.onchange=()=>{this.cs.SetSlats(this.slats_select.selectedIndex)};const n=St(a);Bt(h("Control Surfaces Ailerons"),this.aileron_select,n),Bt(h("Control Surfaces Rudders"),this.rudder_select,n),Bt(h("Control Surfaces Elevators"),this.elevator_select,n),Bt(h("Control Surfaces Flaps"),this.flaps_select,n),Bt(h("Control Surfaces Slats"),this.slats_select,n);const r=St(i.insertCell());this.drag_chbx=[];const o=t.GetDragList();for(let t=0;t<o.length;t++){let e=document.createElement("INPUT");Pt(h(o[t].name),e,r),e.onchange=()=>{this.cs.SetDrag(t,e.checked)},this.drag_chbx.push(e)}this.InitStatDisplay(i.insertCell()),e.appendChild(s)}InitStatDisplay(t){t.className="inner_table";const e=document.createElement("TABLE");e.className="inner_table",t.appendChild(e);const s=e.insertRow();yt(s,h("Stat Drag")),yt(s,h("Stat Mass")),yt(s,h("Stat Cost"));const i=e.insertRow();this.d_drag=i.insertCell(),this.d_mass=i.insertCell(),this.d_cost=i.insertCell();const a=e.insertRow();yt(a,h("Stat Control")),yt(a,h("Stat Pitch Stability")),yt(a,h("Stat Lateral Stability"));const n=e.insertRow();this.d_cont=n.insertCell(),this.d_pstb=n.insertCell(),this.d_lstb=n.insertCell();const r=e.insertRow();yt(r,h("Stat Lift Bleed")),yt(r,h("Stat Crash Safety")),yt(r," ");const o=e.insertRow();this.d_lift=o.insertCell(),this.d_crsh=o.insertCell(),this.d_none=o.insertCell()}SetCollapse(){kt("control_collapse",!this.cs.IsDefault())}UpdateDisplay(){const t=this.cs.CanAileron();for(let e=0;e<t.length;e++)this.aileron_select.options[e].disabled=!t[e];this.aileron_select.selectedIndex=this.cs.GetAileron(),this.rudder_select.selectedIndex=this.cs.GetRudder(),this.rudder_select.disabled=!this.cs.CanRudder(),this.elevator_select.selectedIndex=this.cs.GetElevator(),this.elevator_select.disabled=!this.cs.CanElevator(),this.flaps_select.selectedIndex=this.cs.GetFlaps(),this.slats_select.selectedIndex=this.cs.GetSlats();const e=this.cs.GetDrag();for(let t=0;t<this.drag_chbx.length;t++)this.drag_chbx[t].checked=e[t];const s=this.cs.PartStats(),i=s.cost+this.cs.GetFlapCost();Dt(this.d_drag,s.drag.toString(),!1),Dt(this.d_mass,s.mass.toString(),!1),Dt(this.d_cost,i.toString(),!1),Dt(this.d_cont,s.control.toString(),!0),Dt(this.d_pstb,s.pitchstab.toString(),!0),Dt(this.d_lstb,s.latstab.toString(),!0),Dt(this.d_lift,s.liftbleed.toString(),!1),Dt(this.d_crsh,s.crashsafety.toString(),!0)}}class se extends Wt{constructor(t){super(),this.rf=t,this.ext_wood_inp=[],this.ext_steel_inp=[],this.cant_inp=[],document.getElementById("lbl_reinforcements").textContent=h("Reinforcement Section Title");const e=document.getElementById("tbl_reinforcements"),s=document.createDocumentFragment();var i=xt(s);yt(i,h("Reinforcement External Reinforcements")),yt(i,h("Reinforcement Internal Reinforcements")),yt(i,h("Reinforcement Reinforcement Stats")),i=xt(s),this.InitExternal(i.insertCell()),this.InitInternal(i.insertCell()),this.InitStatDisplay(i.insertCell()),e.appendChild(s)}InitExternal(t){const e=St(t),s=St(e.div2),i=St(s.div1),a=St(s.div2),n=this.rf.GetExternalList();for(let t=0;t<n.length;t++){let s=n[t],r=document.createElement("INPUT"),o=document.createElement("INPUT");Gt(h(s.name),e.div1),Ct(h("Reinforcement Wood"),r,i),Ct(h("Reinforcement Steel"),o,a),r.min="0",o.min="0",r.onchange=()=>{this.rf.SetExternalWoodCount(t,r.valueAsNumber)},o.onchange=()=>{this.rf.SetExternalSteelCount(t,o.valueAsNumber)},this.ext_wood_inp.push(r),this.ext_steel_inp.push(o)}this.cabane=document.createElement("SELECT"),Bt(h("Reinforcement Cabane"),this.cabane,e);for(let t of this.rf.GetCabaneList()){let e=document.createElement("OPTION");e.text=h(t.name),this.cabane.add(e)}this.cabane.onchange=()=>{this.rf.SetCabane(this.cabane.selectedIndex)},this.cabane.selectedIndex=0,this.wires=document.createElement("INPUT"),Pt(h("Reinforcement Wires"),this.wires,e),this.wires.onchange=()=>{this.rf.SetWires(this.wires.checked)}}InitInternal(t){const e=St(t),s=this.rf.GetCantileverList();for(let t=0;t<s.length;t++){let i=s[t],a=document.createElement("INPUT");Ct(h(i.name),a,e),a.min="0",a.onchange=()=>{this.rf.SetCantileverCount(t,a.valueAsNumber)},this.cant_inp.push(a)}this.wing_blades=document.createElement("INPUT"),Pt(h("Reinforcement Wing Blades"),this.wing_blades,e),this.wing_blades.onchange=()=>{this.rf.SetWingBlade(this.wing_blades.checked)}}InitStatDisplay(t){t.className="inner_table";const e=document.createElement("TABLE");e.className="inner_table",t.appendChild(e);const s=e.insertRow();yt(s,h("Stat Drag")),yt(s,h("Stat Mass")),yt(s,h("Stat Cost"));const i=e.insertRow();this.d_drag=i.insertCell(),this.d_mass=i.insertCell(),this.d_cost=i.insertCell();const a=e.insertRow();yt(a,h("Stat Structure")),yt(a,h("Stat Raw Strain")),yt(a,h("Reinforcement Aircraft Max Strain"));const n=e.insertRow();this.d_strc=n.insertCell(),this.d_maxs=n.insertCell(),this.d_amax=n.insertCell(),this.d_amax.className="part_local"}UpdateDisplay(){this.cabane.selectedIndex=this.rf.GetCabane(),this.wires.checked=this.rf.GetWires();const t=this.rf.GetExternalWoodCount(),e=this.rf.CanExternalWood();for(let s=0;s<t.length;s++)this.ext_wood_inp[s].valueAsNumber=t[s],this.ext_wood_inp[s].disabled=!e[s];const s=this.rf.GetExternalSteelCount(),i=this.rf.CanExternalWood();for(let t=0;t<s.length;t++)this.ext_steel_inp[t].valueAsNumber=s[t],this.ext_steel_inp[t].disabled=!i[t];const a=this.rf.GetCantileverCount();for(let t=0;t<a.length;t++)this.cant_inp[t].valueAsNumber=a[t];this.wing_blades.disabled=!this.rf.CanWingBlade(),this.wing_blades.checked=this.rf.GetWingBlade();const n=this.rf.PartStats();Dt(this.d_drag,n.drag.toString(),!1),Dt(this.d_mass,n.mass.toString(),!1),Dt(this.d_cost,n.cost.toString(),!1),Dt(this.d_strc,n.structure.toString(),!0),Dt(this.d_maxs,n.maxstrain.toString(),!0)}UpdateMaxStrain(t){Dt(this.d_amax,t.toString(),!0)}}class ie extends Wt{constructor(t,e,s){super(),this.fuel=t,this.boom=e,this.cargo=s,this.fuel_list=[],document.getElementById("lbl_load").textContent=h("Load Section Title");const i=document.getElementById("tbl_load"),a=document.createDocumentFragment();var n=xt(a);yt(n,h("Load Fuel")),yt(n,h("Load Munitions")),yt(n,h("Load Cargo and Passengers")),yt(n,h("Load Load Stats")),n=xt(a),this.InitFuel(n.insertCell()),this.InitMunitions(n.insertCell()),this.InitCargoAndPassengers(n.insertCell()),this.InitStats(n.insertCell()),i.appendChild(a)}InitFuel(t){const e=this.fuel.GetTankList(),s=St(t);for(let t=0;t<e.length;t++){let i=document.createElement("INPUT");Ct(h(e[t].name),i,s),i.onchange=()=>{this.fuel.SetTankCount(t,i.valueAsNumber)},this.fuel_list.push(i)}this.seal=document.createElement("INPUT"),Pt(h("Load Self-Sealing Gas Tank"),this.seal,s),this.seal.onchange=()=>{this.fuel.SetSelfSealing(this.seal.checked)},this.extinguish=document.createElement("INPUT"),Pt(h("Load Remote Fire Extinguisher"),this.extinguish,s),this.extinguish.onchange=()=>{this.fuel.SetExtinguisher(this.extinguish.checked)}}InitMunitions(t){const e=St(t);this.bombs=document.createElement("INPUT"),Ct(h("Load Bombs"),this.bombs,e),this.bombs.onchange=()=>{this.boom.SetBombCount(this.bombs.valueAsNumber)},this.rockets=document.createElement("INPUT"),Ct(h("Load Rockets"),this.rockets,e),this.rockets.onchange=()=>{this.boom.SetRocketCount(this.rockets.valueAsNumber)},this.bay_count=document.createElement("INPUT"),Ct(h("Load Internal Bay Count"),this.bay_count,e),this.bay_count.onchange=()=>{this.boom.SetBayCount(this.bay_count.valueAsNumber)},this.bay1=document.createElement("INPUT"),Pt(h("Load Widen Internal Bay 1"),this.bay1,e),this.bay1.onchange=()=>{this.boom.SetUseBays(this.bay1.checked,this.bay2.checked)},this.bay2=document.createElement("INPUT"),Pt(h("Load Widen Internal Bay 2"),this.bay2,e),this.bay2.onchange=()=>{this.boom.SetUseBays(this.bay1.checked,this.bay2.checked)}}InitCargoAndPassengers(t){this.carg=document.createElement("SELECT"),t.appendChild(this.carg);const e=this.cargo.GetSpaceList();for(let t of e){let e=document.createElement("OPTION");e.text=h(t.name),this.carg.add(e)}this.carg.onchange=()=>{this.cargo.SetSpace(this.carg.selectedIndex)}}InitStats(t){t.className="inner_table";const e=document.createElement("TABLE");e.className="inner_table",t.appendChild(e);const s=e.insertRow();yt(s,h("Stat Drag")),yt(s,h("Stat Mass")),yt(s,h("Stat Wet Mass"));const i=e.insertRow();this.d_drag=i.insertCell(),this.d_mass=i.insertCell(),this.d_wmas=i.insertCell();var a=e.insertRow();yt(a,h("Stat Required Sections")),yt(a,h("Stat Fuel")),yt(a,h("Stat Cost"));var n=e.insertRow();this.d_rsec=n.insertCell(),this.d_fuel=n.insertCell(),this.d_cost=n.insertCell(),yt(a=e.insertRow(),""),yt(a,h("Derived Fuel Uses")),yt(a,""),(n=e.insertRow()).insertCell(),this.d_fuse=n.insertCell(),n.insertCell()}UpdateFuelUses(t){var e=Math.floor(1e-6+10*t)/10;isFinite(e)||(e=0),Dt(this.d_fuse,e.toString(),!1)}UpdateDisplay(){const t=this.fuel.GetTankCount(),e=this.fuel.GetTankEnabled();for(let s=0;s<t.length;s++)this.fuel_list[s].valueAsNumber=t[s],this.fuel_list[s].disabled=!e[s];this.seal.checked=this.fuel.GetSelfSealing(),this.seal.disabled=!this.fuel.GetSealingEnabled(),this.extinguish.checked=this.fuel.GetExtinguisher(),this.bombs.valueAsNumber=this.boom.GetBombCount(),this.rockets.valueAsNumber=this.boom.GetRocketCount(),this.bay_count.valueAsNumber=this.boom.GetBayCount(),this.bay1.checked=this.boom.GetBay1(),this.bay2.checked=this.boom.GetBay2(),this.boom.GetBayCount()>0?(this.bay1.disabled=!1,this.bay1.checked?this.bay2.disabled=!1:this.bay2.disabled=!0):(this.bay1.disabled=!0,this.bay2.disabled=!0),this.carg.selectedIndex=this.cargo.GetSpace();var s=this.fuel.PartStats();s=(s=s.Add(this.boom.PartStats())).Add(this.cargo.PartStats()),Dt(this.d_drag,s.drag.toString(),!1),Dt(this.d_mass,s.mass.toString(),!1),Dt(this.d_wmas,s.wetmass.toString(),!1),Dt(this.d_rsec,s.reqsections.toString(),!1),Dt(this.d_fuel,s.fuel.toString(),!0),Dt(this.d_cost,s.cost.toString(),!1)}}class ae extends Wt{constructor(t){super(),this.gear=t,document.getElementById("lbl_landing_gear").textContent=h("Landing Gear Section Title");const e=document.getElementById("tbl_gear"),s=document.createDocumentFragment();var i=xt(s);yt(i,h("Landing Gear Landing Gear")),yt(i,h("Landing Gear Extras")),yt(i,h("Landing Gear Gear Stats")),i=xt(s),this.InitGear(i.insertCell()),this.InitExtras(i.insertCell()),this.InitStats(i.insertCell()),e.appendChild(s)}InitGear(t){const e=this.gear.GetGearList(),s=St(t);this.sel=document.createElement("SELECT"),Bt("Type",this.sel,s);for(let t=0;t<e.length;t++){let s=document.createElement("OPTION");s.text=h(e[t].name),this.sel.add(s)}this.sel.onchange=()=>{this.gear.SetGear(this.sel.selectedIndex)},this.retract=document.createElement("INPUT"),Pt(h("Landing Gear Retractable"),this.retract,s),this.retract.onchange=()=>{this.gear.SetRetract(this.retract.checked)}}InitExtras(t){this.extras=[];const e=this.gear.GetExtraList(),s=St(t);for(let t=0;t<e.length;t++){let i=document.createElement("INPUT");Pt(h(e[t].name),i,s),i.onchange=()=>{this.gear.SetExtraSelected(t,i.checked)},this.extras.push(i)}}InitStats(t){t.className="inner_table";const e=document.createElement("TABLE");e.className="inner_table",t.appendChild(e);const s=e.insertRow();yt(s,h("Stat Drag")),yt(s,h("Stat Mass")),yt(s,h("Stat Cost"));const i=e.insertRow();this.d_drag=i.insertCell(),this.d_mass=i.insertCell(),this.d_cost=i.insertCell();const a=e.insertRow();yt(a,h("Stat Structure")),yt(a,h("Stat Crash Safety")),yt(a,"");const n=e.insertRow();this.d_strc=n.insertCell(),this.d_crsh=n.insertCell(),n.insertCell()}SetCollapse(){kt("gear_collapse",!this.gear.IsDefault())}UpdateDisplay(){this.sel.selectedIndex=this.gear.GetGear();const t=this.gear.CanGear();for(let e=0;e<t.length;e++)this.sel.options[e].disabled=!t[e];this.retract.checked=this.gear.GetRetract(),this.retract.disabled=!this.gear.CanRetract();const e=this.gear.GetExtraSelected();for(let t=0;t<e.length;t++)this.extras[t].checked=e[t];const s=this.gear.PartStats();Dt(this.d_drag,s.drag.toString(),!1),Dt(this.d_mass,s.mass.toString(),!1),Dt(this.d_cost,s.cost.toString(),!1),Dt(this.d_strc,s.structure.toString(),!0),Dt(this.d_crsh,s.crashsafety.toString(),!0)}}class ne extends Wt{constructor(t){super(),this.acc=t,document.getElementById("lbl_accessories").textContent=h("Accessories Section Title");const e=document.getElementById("tbl_accessories"),s=document.createDocumentFragment();var i=xt(s);yt(i,h("Accessories Climate")),yt(i,h("Accessories Armour Coverage")),yt(i,h("Accessories Visibility")),yt(i,h("Accessories Additional Part Stats")),i=xt(s),this.InitClimate(i.insertCell()),this.InitArmour(i.insertCell()),this.InitVisibility(i.insertCell()),this.InitStats(i.insertCell()),yt(i=xt(s),h("Accessories Information")),yt(i,h("Accessories Electrical")),yt(i,h("Accessories Control")),i=xt(s),this.InitInformation(i.insertCell()),this.InitElectrical(i.insertCell()),this.InitControl(i.insertCell()),e.appendChild(s)}InitArmour(t){const e=St(t),s=St(e.div1),i=St(e.div2);this.a_AP=[];const a=this.acc.GetArmourCoverageForDisplay().length;for(let t=0;t<a;t++)this.a_AP.push(document.createElement("INPUT"));for(let t=0;t<a/2;t++){let e=t+1;Ct("Thickness "+e.toString(),this.a_AP[t],s),this.a_AP[t].onchange=()=>{this.acc.SetArmourCoverage(t,this.a_AP[t].valueAsNumber)};let n=t+a/2;e=n+1,Ct("Thickness "+e.toString(),this.a_AP[n],i),this.a_AP[n].onchange=()=>{this.acc.SetArmourCoverage(n,this.a_AP[n].valueAsNumber)}}}InitElectrical(t){const e=St(t);this.radio=document.createElement("SELECT"),Bt(h("Accessories Radio"),this.radio,e);const s=this.acc.GetRadioList();for(let t=0;t<s.length;t++){let e=document.createElement("OPTION");e.text=h(s[t].name),this.radio.add(e)}this.radio.onchange=()=>{this.acc.SetRadioSel(this.radio.selectedIndex)},this.elect=[];const i=this.acc.GetElectricalList();for(let t=0;t<i.length;t++){let s=document.createElement("INPUT");Ct(h(i[t].name),s,e),s.onchange=()=>{this.acc.SetElectricalCount(t,s.valueAsNumber)},this.elect.push(s)}}InitInformation(t){const e=St(t),s=this.acc.GetReconList();this.recon=[];for(let t=0;t<s.length;t++){let i=document.createElement("INPUT");Ct(h(s[t].name),i,e),i.min="0",i.onchange=()=>{this.acc.SetReconSel(t,i.valueAsNumber)},this.recon.push(i)}}InitVisibility(t){const e=St(t),s=this.acc.GetVisibilityList();this.visi=[];for(let t=0;t<s.length;t++){let i=document.createElement("INPUT");Pt(h(s[t].name),i,e),i.onchange=()=>{this.acc.SetVisibilitySel(t,i.checked)},this.visi.push(i)}}InitClimate(t){const e=St(t),s=this.acc.GetClimateList();this.clim=[];for(let t=0;t<s.length;t++){let i=document.createElement("INPUT");Pt(h(s[t].name),i,e),i.onchange=()=>{this.acc.SetClimateSel(t,i.checked)},this.clim.push(i)}}InitControl(t){const e=St(t);this.auto=document.createElement("SELECT");const s=this.acc.GetAutopilotList();Bt(h("Accessories Autopilot"),this.auto,e);for(let t=0;t<s.length;t++){let e=document.createElement("OPTION");e.text=h(s[t].name),this.auto.add(e)}this.auto.onchange=()=>{this.acc.SetAutopilotSel(this.auto.selectedIndex)};const i=this.acc.GetControlList();this.cont=document.createElement("SELECT"),Bt(h("Accessories Control Aids"),this.cont,e);for(let t=0;t<i.length;t++){let e=document.createElement("OPTION");e.text=h(i[t].name),this.cont.add(e)}this.cont.onchange=()=>{this.acc.SetControlSel(this.cont.selectedIndex)}}InitStats(t){t.rowSpan=3,t.className="inner_table";const e=document.createElement("TABLE");e.className="inner_table",t.appendChild(e);const s=e.insertRow();yt(s,h("Stat Drag")),yt(s,h("Stat Mass")),yt(s,h("Stat Cost"));const i=e.insertRow();this.d_drag=i.insertCell(),this.d_mass=i.insertCell(),this.d_cost=i.insertCell();const a=e.insertRow();yt(a,h("Stat Structure")),yt(a,h("Stat Charge")),yt(a,h("Stat Lift Bleed"));const n=e.insertRow();this.d_strc=n.insertCell(),this.d_chgh=n.insertCell(),this.d_lift=n.insertCell();const r=e.insertRow();yt(r,h("Stat Visibility")),yt(r,h("Stat Flight Stress")),yt(r,h("Stat Required Sections"));const o=e.insertRow();this.d_visi=o.insertCell(),this.d_strs=o.insertCell(),this.d_rsec=o.insertCell()}UpdateDisplay(){const t=this.acc.GetArmourCoverageForDisplay();for(let e=0;e<t.length;e++)this.a_AP[e].valueAsNumber=t[e];this.radio.selectedIndex=this.acc.GetRadioSel();const e=this.acc.GetElectricalCount();for(let t=0;t<e.length;t++)this.elect[t].valueAsNumber=e[t];const s=this.acc.GetReconSel();for(let t=0;t<s.length;t++)this.recon[t].valueAsNumber=s[t];const i=this.acc.GetVisibilitySel(),a=this.acc.GetCanVisibility();for(let t=0;t<i.length;t++)this.visi[t].checked=i[t],this.visi[t].disabled=!a[t];const n=this.acc.GetClimateSel(),r=this.acc.GetClimateEnable();for(let t=0;t<i.length;t++)this.clim[t].checked=n[t],this.clim[t].disabled=!r[t];this.auto.selectedIndex=this.acc.GetAutopilotSel(),this.cont.selectedIndex=this.acc.GetControlSel();const o=this.acc.PartStats();Dt(this.d_drag,o.drag.toString(),!1),Dt(this.d_mass,o.mass.toString(),!1),Dt(this.d_cost,o.cost.toString(),!1),Dt(this.d_strc,o.structure.toString(),!0),Dt(this.d_chgh,o.charge.toString(),!0),Dt(this.d_lift,o.liftbleed.toString(),!1),Dt(this.d_visi,o.visibility.toString(),!0),Dt(this.d_strs,o.flightstress.toString(),!1),Dt(this.d_rsec,o.reqsections.toString(),!1)}}class re extends Wt{constructor(t){super(),this.opt=t,document.getElementById("lbl_optimization").textContent=h("Optimization Section Title"),document.getElementById("lbl_num_opt").textContent=h("Optimization Num Free Optimizations"),this.free_inp=document.getElementById("num_opt"),this.free_inp.onchange=()=>{this.opt.SetFreeDots(this.free_inp.valueAsNumber)};const e=document.getElementById("tbl_optimization"),s=document.createDocumentFragment(),i=xt(s);yt(i,h("Optimization Negative")),yt(i,h("Optimization Effect")),yt(i,h("Optimization Positive")),yt(i,h("Optimization Optimization Stats"));const a=xt(s);this.cost_cbx=this.InitRow(a,h("Optimization Cost"),(t=>this.opt.SetCost(t))),this.bleed_cbx=this.InitRow(xt(s),h("Optimization Lift Bleed"),(t=>this.opt.SetBleed(t))),this.escape_cbx=this.InitRow(xt(s),h("Optimization Leg Room"),(t=>this.opt.SetEscape(t))),this.mass_cbx=this.InitRow(xt(s),h("Optimization Mass"),(t=>this.opt.SetMass(t))),this.toughness_cbx=this.InitRow(xt(s),h("Optimization Toughness"),(t=>this.opt.SetToughness(t))),this.maxstrain_cbx=this.InitRow(xt(s),h("Optimization Max Strain"),(t=>this.opt.SetMaxStrain(t))),this.reliability_cbx=this.InitRow(xt(s),h("Optimization Reliability"),(t=>this.opt.SetReliability(t))),this.drag_cbx=this.InitRow(xt(s),h("Optimization Drag"),(t=>this.opt.SetDrag(t))),this.InitStatDisplay(a.insertCell()),e.appendChild(s)}InitRow(t,e,s){const i=[];for(let t=0;t<6;t++)i.push(document.createElement("INPUT")),i[t].setAttribute("type","checkbox"),i[t].onchange=t<3?()=>{i[t].checked?s(t-3):s(t-2)}:()=>{i[t].checked?s(t-2):s(t-3)};const a=t.insertCell(),n=t.insertCell(),r=t.insertCell();return a.appendChild(i[0]),a.appendChild(i[1]),a.appendChild(i[2]),n.textContent=e,r.appendChild(i[3]),r.appendChild(i[4]),r.appendChild(i[5]),i}InitStatDisplay(t){t.rowSpan=0,t.className="inner_table";const e=document.createElement("TABLE");e.className="inner_table",t.appendChild(e);const s=e.insertRow();yt(s,h("Stat Cost")),yt(s,h("Stat Lift Bleed")),yt(s,h("Stat Escape"));const i=e.insertRow();this.d_cost=i.insertCell(),this.d_lift=i.insertCell(),this.d_escp=i.insertCell();const a=e.insertRow();yt(a,h("Stat Visibility")),yt(a,h("Stat Mass")),yt(a,h("Stat Toughness"));const n=e.insertRow();this.d_visi=n.insertCell(),this.d_mass=n.insertCell(),this.d_tugh=n.insertCell();const r=e.insertRow();yt(r,h("Stat Max Strain")),yt(r,h("Stat Reliability")),yt(r,h("Stat Drag"));const o=e.insertRow();this.d_mstr=o.insertCell(),this.d_reli=o.insertCell(),this.d_drag=o.insertCell()}SetCollapse(){kt("optimization_collapse",!this.opt.IsDefault())}UpdateChecked(t,e){for(let t=0;t<e.length;t++)e[t].checked=!1;t<0?(e[2].checked=!0,t<-1&&(e[1].checked=!0,t<-2&&(e[0].checked=!0))):t>0&&(e[3].checked=!0,t>1&&(e[4].checked=!0,t>2&&(e[5].checked=!0)))}UpdateEnabled(t,e){var s=0;for(let i=3;i<e.length;i++)e[i].checked||s++,e[i].disabled=s>t}UpdateDisplay(){this.free_inp.valueAsNumber=this.opt.GetFreeDots(),this.UpdateChecked(this.opt.GetCost(),this.cost_cbx),this.UpdateChecked(this.opt.GetBleed(),this.bleed_cbx),this.UpdateChecked(this.opt.GetEscape(),this.escape_cbx),this.UpdateChecked(this.opt.GetMass(),this.mass_cbx),this.UpdateChecked(this.opt.GetToughness(),this.toughness_cbx),this.UpdateChecked(this.opt.GetMaxStrain(),this.maxstrain_cbx),this.UpdateChecked(this.opt.GetReliabiilty(),this.reliability_cbx),this.UpdateChecked(this.opt.GetDrag(),this.drag_cbx);const t=this.opt.GetUnassignedCount();this.UpdateEnabled(t,this.cost_cbx),this.UpdateEnabled(t,this.bleed_cbx),this.UpdateEnabled(t,this.escape_cbx),this.UpdateEnabled(t,this.mass_cbx),this.UpdateEnabled(t,this.toughness_cbx),this.UpdateEnabled(t,this.maxstrain_cbx),this.UpdateEnabled(t,this.reliability_cbx),this.UpdateEnabled(t,this.drag_cbx);const e=this.opt.PartStats();Dt(this.d_cost,e.cost.toString(),!1),Dt(this.d_lift,e.liftbleed.toString(),!1),Dt(this.d_escp,e.escape.toString(),!0),Dt(this.d_visi,e.visibility.toString(),!0),Dt(this.d_mass,e.mass.toString(),!1),Dt(this.d_tugh,e.toughness.toString(),!0),Dt(this.d_mstr,this.opt.final_ms.toString(),!0),Dt(this.d_reli,e.reliability.toString(),!0),Dt(this.d_drag,e.drag.toString(),!1)}}class oe extends Wt{constructor(t){super(),this.used=t,document.getElementById("lbl_used").textContent=h("Used Section Title"),this.tbl=document.getElementById("tbl_used");const e=document.createDocumentFragment(),s=xt(e);yt(s,h("Used Effect")),yt(s,h("Used Description")),yt(s,h("Used Penalties(+) <br/> Benefits(-)")),this.InitTable(e),this.tbl.appendChild(e)}InitTable(t){this.burnt_out=document.createElement("INPUT"),this.ragged=document.createElement("INPUT"),this.hefty=document.createElement("INPUT"),this.sticky_guns=document.createElement("INPUT"),this.weak=document.createElement("INPUT"),this.fragile=document.createElement("INPUT"),this.leaky=document.createElement("INPUT"),this.sluggish=document.createElement("INPUT");var e=xt(t);e.insertCell().textContent=h("Used Burnt Out"),e.insertCell().textContent=h("Used Burnt Out Description");var s=e.insertCell();wt("",this.burnt_out,s,!1),(e=xt(t)).insertCell().textContent=h("Used Ragged"),e.insertCell().textContent=h("Used Ragged Description"),s=e.insertCell(),wt("",this.ragged,s,!1),(e=xt(t)).insertCell().textContent=h("Used Hefty"),e.insertCell().textContent=h("Used Hefty Description"),s=e.insertCell(),wt("",this.hefty,s,!1),(e=xt(t)).insertCell().textContent=h("Used Sticky Guns"),e.insertCell().textContent=h("Used Sticky Guns Description"),s=e.insertCell(),wt("",this.sticky_guns,s,!1),(e=xt(t)).insertCell().textContent=h("Used Weak"),e.insertCell().textContent=h("Used Weak Description"),s=e.insertCell(),wt("",this.weak,s,!1),(e=xt(t)).insertCell().textContent=h("Used Fragile"),e.insertCell().textContent=h("Used Fragile Description"),s=e.insertCell(),wt("",this.fragile,s,!1),(e=xt(t)).insertCell().textContent=h("Used Leaky"),e.insertCell().textContent=h("Used Leaky Description"),s=e.insertCell(),wt("",this.leaky,s,!1),(e=xt(t)).insertCell().textContent=h("Used Sluggish"),e.insertCell().textContent=h("Used Sluggish Description"),s=e.insertCell(),wt("",this.sluggish,s,!1),this.burnt_out.onchange=()=>{this.used.burnt_out=this.burnt_out.valueAsNumber,this.used.TriggerCS()},this.ragged.onchange=()=>{this.used.ragged=this.ragged.valueAsNumber,this.used.TriggerCS()},this.hefty.onchange=()=>{this.used.hefty=this.hefty.valueAsNumber,this.used.TriggerCS()},this.sticky_guns.onchange=()=>{this.used.sticky_guns=this.sticky_guns.valueAsNumber,this.used.TriggerCS()},this.weak.onchange=()=>{this.used.weak=this.weak.valueAsNumber,this.used.TriggerCS()},this.fragile.onchange=()=>{this.used.fragile=this.fragile.valueAsNumber,this.used.TriggerCS()},this.leaky.onchange=()=>{this.used.leaky=this.leaky.valueAsNumber,this.used.TriggerCS()},this.sluggish.onchange=()=>{this.used.sluggish=this.sluggish.valueAsNumber,this.used.TriggerCS()},this.burnt_out.min="-1",this.burnt_out.max="1",this.ragged.min="-1",this.ragged.max="1",this.hefty.min="-1",this.hefty.max="1",this.sticky_guns.min="-1",this.sticky_guns.max="1",this.weak.min="-1",this.weak.max="1",this.fragile.min="-1",this.fragile.max="1",this.leaky.min="-1",this.leaky.max="1",this.sluggish.min="-1",this.sluggish.max="1"}SetCollapse(){kt("used_collapse",!this.used.IsDefault())}UpdateDisplay(){this.burnt_out.valueAsNumber=this.used.burnt_out,this.ragged.valueAsNumber=this.used.ragged,this.hefty.valueAsNumber=this.used.hefty,this.sticky_guns.valueAsNumber=this.used.sticky_guns,this.weak.valueAsNumber=this.used.weak,this.fragile.valueAsNumber=this.used.fragile,this.leaky.valueAsNumber=this.used.leaky,this.sluggish.valueAsNumber=this.used.sluggish}}class le extends Wt{constructor(t){super(),this.rotor=t,document.getElementById("lbl_rotor").textContent=h("Rotor Section Title"),this.div=document.getElementById("Rotors"),this.wing_div=document.getElementById("Wings"),this.reinforce_div=document.getElementById("Reinforcements"),this.control_div=document.getElementById("ControlSurfaces");const e=document.getElementById("rotor_table"),s=document.createDocumentFragment();this.InitAutogyro(s),this.InitHelicopter(s),e.appendChild(s)}InitAutogyro(t){this.auto_header=xt(t),yt(this.auto_header,h("Rotor Rotor")),yt(this.auto_header,h("Rotor Material")),yt(this.auto_header,h("Rotor Accessories")),yt(this.auto_header,h("Rotor Stats")),this.auto_row=xt(t);const e=St(this.auto_row.insertCell());this.auto_min=document.createElement("LABEL"),At(h("Rotor Minimum Span"),this.auto_min,e),this.auto_span=document.createElement("INPUT"),Ct(h("Rotor Span"),this.auto_span,e),this.auto_span.onchange=()=>{this.rotor.SetRotorSpan(this.auto_span.valueAsNumber)};const s=St(this.auto_row.insertCell());this.auto_mat=document.createElement("SELECT"),Bt(h("Rotor Material"),this.auto_mat,s);for(let t of this.rotor.GetCantileverList()){let e=document.createElement("OPTION");e.text=h(t.name),this.auto_mat.add(e)}this.auto_mat.onchange=()=>{this.rotor.SetCantilever(this.auto_mat.selectedIndex)};const i=St(this.auto_row.insertCell());this.auto_clutch=document.createElement("INPUT"),Pt(h("Rotor Clutched Rotor"),this.auto_clutch,i),this.auto_clutch.onchange=()=>{this.rotor.SetAccessory(this.auto_clutch.checked)},this.InitAutogyroStats(this.auto_row.insertCell())}InitAutogyroStats(t){t.className="inner_table";const e=document.createElement("TABLE");e.className="inner_table",t.appendChild(e);const s=e.insertRow();yt(s,h("Stat Drag")),yt(s,h("Stat Mass")),yt(s,h("Stat Cost"));const i=e.insertRow();this.a_drag=i.insertCell(),this.a_mass=i.insertCell(),this.a_cost=i.insertCell();const a=e.insertRow();yt(a,h("Rotor Area")),yt(a,""),yt(a,"");const n=e.insertRow();this.a_area=n.insertCell(),n.insertCell(),n.insertCell()}UpdateAutogyroStats(){this.auto_span.valueAsNumber=this.rotor.GetRotorSpan(),this.auto_mat.selectedIndex=this.rotor.GetCantilever(),this.auto_min.innerText=""+this.rotor.GetSizingSpan(),this.auto_clutch.checked=this.rotor.GetAccessory();const t=this.rotor.PartStats();Dt(this.a_drag,t.drag.toString(),!1),Dt(this.a_mass,t.mass.toString(),!1),Dt(this.a_cost,t.cost.toString(),!1),Dt(this.a_area,t.wingarea.toString(),!0)}InitHelicopter(t){this.heli_header=xt(t),yt(this.heli_header,h("Rotor Rotor")),yt(this.heli_header,h("Rotor Material")),yt(this.heli_header,h("Rotor Accessories")),yt(this.heli_header,h("Rotor Stats")),this.heli_row=xt(t);const e=St(this.heli_row.insertCell());this.heli_count=document.createElement("INPUT"),Ct(h("Rotor Number of Rotors"),this.heli_count,e),this.heli_count.onchange=()=>{this.rotor.SetRotorCount(this.heli_count.valueAsNumber)},this.heli_min=document.createElement("LABEL"),At(h("Rotor Ideal Rotor Span"),this.heli_min,e),this.heli_span=document.createElement("INPUT"),Ct(h("Rotor Span"),this.heli_span,e),this.heli_span.min="",this.heli_span.onchange=()=>{this.rotor.SetRotorSpan(this.heli_span.valueAsNumber)},this.heli_stagger=document.createElement("SELECT"),Bt(h("Rotor Stagger"),this.heli_stagger,e);const s=this.rotor.GetStaggerList();for(let t of s){let e=document.createElement("OPTION");e.text=h(t.name),this.heli_stagger.add(e)}this.heli_stagger.onchange=()=>{this.rotor.SetStagger(this.heli_stagger.selectedIndex)},this.heli_blade_count=document.createElement("SELECT"),Bt(h("Rotor Blade Count"),this.heli_blade_count,e);const i=this.rotor.GetBladeList();for(let t of i){let e=document.createElement("OPTION");e.textContent=t.name,this.heli_blade_count.add(e)}this.heli_blade_count.onchange=()=>{this.rotor.SetBladeCount(this.heli_blade_count.selectedIndex)};const a=St(this.heli_row.insertCell());this.heli_mat=document.createElement("SELECT"),Bt(h("Rotor Rotor Material"),this.heli_mat,a);for(let t of this.rotor.GetCantileverList()){let e=document.createElement("OPTION");e.text=h(t.name),this.heli_mat.add(e)}this.heli_mat.onchange=()=>{this.rotor.SetCantilever(this.heli_mat.selectedIndex)};const n=St(this.heli_row.insertCell());this.heli_shafts=document.createElement("INPUT"),Pt(h("Rotor Motor Cross-link"),this.heli_shafts,n),this.heli_shafts.onchange=()=>{this.rotor.SetAccessory(this.heli_shafts.checked)},this.InitHelicopterStats(this.heli_row.insertCell())}InitHelicopterStats(t){t.className="inner_table";const e=document.createElement("TABLE");e.className="inner_table",t.appendChild(e);const s=e.insertRow();yt(s,h("Stat Drag")),yt(s,h("Stat Mass")),yt(s,h("Stat Cost"));const i=e.insertRow();this.h_drag=i.insertCell(),this.h_mass=i.insertCell(),this.h_cost=i.insertCell();const a=e.insertRow();yt(a,h("Rotor Area")),yt(a,h("Stat Reliability")),yt(a,h("Reinforcement Aircraft Max Strain"));const n=e.insertRow();this.h_area=n.insertCell(),this.h_rely=n.insertCell(),this.h_strn=n.insertCell()}UpdateHelicopterStats(){this.heli_count.valueAsNumber=this.rotor.GetRotorCount(),1==this.rotor.GetRotorCount()?this.heli_count.step="1":this.heli_count.step="2",this.heli_min.innerText=""+this.rotor.GetSizingSpan(),this.heli_span.valueAsNumber=this.rotor.GetRotorSpan();const t=this.rotor.CanStagger();for(let e=0;e<t.length;e++)this.heli_stagger.options[e].disabled=!t[e];this.heli_stagger.selectedIndex=this.rotor.GetStagger(),this.heli_mat.selectedIndex=this.rotor.GetCantilever(),this.heli_shafts.checked=this.rotor.GetAccessory(),this.heli_blade_count.selectedIndex=this.rotor.GetBladeCountIdx();const e=this.rotor.PartStats();Dt(this.h_drag,e.drag.toString(),!1),Dt(this.h_mass,e.mass.toString(),!1),Dt(this.h_cost,e.cost.toString(),!1),Dt(this.h_area,e.wingarea.toString(),!0),Dt(this.h_rely,e.reliability.toString(),!0)}UpdateMaxStrain(t){Dt(this.h_strn,t.toString(),!0)}UpdateDisplay(){switch(this.rotor.GetType()){case D.AIRPLANE:this.div.hidden=!0,this.wing_div.hidden=!1,this.reinforce_div.hidden=!1,this.control_div.hidden=!1;break;case D.AUTOGYRO:this.div.hidden=!1,this.wing_div.hidden=!1,this.reinforce_div.hidden=!1,this.control_div.hidden=!1,this.heli_header.hidden=!0,this.heli_row.hidden=!0,this.auto_header.hidden=!1,this.auto_row.hidden=!1,this.UpdateAutogyroStats();break;case D.HELICOPTER:this.div.hidden=!1,this.wing_div.hidden=!0,this.reinforce_div.hidden=!0,this.control_div.hidden=!0,this.auto_header.hidden=!0,this.auto_row.hidden=!0,this.heli_header.hidden=!1,this.heli_row.hidden=!1,this.UpdateHelicopterStats()}}}class he extends Wt{constructor(t){super(),this.alter=t;let e=document.getElementById("alter_table").insertRow();this.add_cell=e.insertCell(),this.edit_cell=e.insertCell(),this.InitAddCell(),this.InitEditCell()}InitAddCell(){this.add_list=[],this.add_fs=St(this.add_cell);let t=document.createElement("LABEL");t.textContent=h("Alter Select Part"),this.add_fs.div1.appendChild(t);let e=document.createElement("LABEL");e.textContent=h("Alter Quantity"),this.add_fs.div2.appendChild(e),t.style.marginLeft="0.25em",t.style.marginRight="0.5em",e.style.marginLeft="0.25em",e.style.marginRight="0.5em"}InitEditCell(){this.name=document.createElement("INPUT"),this.drag=document.createElement("INPUT"),this.mass=document.createElement("INPUT"),this.wmas=document.createElement("INPUT"),this.bmas=document.createElement("INPUT"),this.cost=document.createElement("INPUT"),this.upkp=document.createElement("INPUT"),this.lfbd=document.createElement("INPUT"),this.area=document.createElement("INPUT"),this.ctrl=document.createElement("INPUT"),this.pstb=document.createElement("INPUT"),this.lstb=document.createElement("INPUT"),this.rstn=document.createElement("INPUT"),this.strc=document.createElement("INPUT"),this.tugh=document.createElement("INPUT"),this.powr=document.createElement("INPUT"),this.fcon=document.createElement("INPUT"),this.fuel=document.createElement("INPUT"),this.chrg=document.createElement("INPUT"),this.sfty=document.createElement("INPUT"),this.visi=document.createElement("INPUT"),this.escp=document.createElement("INPUT"),this.rely=document.createElement("INPUT"),this.sprl=document.createElement("INPUT");const t=St(this.edit_cell),e=St(t.div1);!function(t,e,s){const i=document.createElement("LABEL");e.id=bt(),i.htmlFor=e.id,i.style.marginLeft="0.25em",i.style.marginRight="0.5em",i.textContent=t,e.setAttribute("type","text"),e.value="Default",i.classList.add("flex-item"),e.classList.add("flex-item"),s.div1.appendChild(i),s.div2.appendChild(e)}(h("Alter Part Name"),this.name,e);const s=St(e.div1),i=St(e.div2),a=St(t.div2);Ct("Cost",this.cost,a),Ct("Mass",this.mass,s),Ct("Wet Mass",this.wmas,i),Ct("Bomb Mass",this.bmas,a),Ct("Drag",this.drag,s),Ct("Lift Bleed",this.lfbd,i),Ct("Wing Area",this.area,a),Ct("Control",this.ctrl,s),Ct("Pitch Stability",this.pstb,i),Ct("Lateral Stability",this.lstb,a),Ct("Raw Strain",this.rstn,s),Ct("Structure",this.strc,i),Ct("Toughness",this.tugh,a),Ct("Power",this.powr,s),Ct("Fuel Consumption",this.fcon,i),Ct("Fuel",this.fuel,a),Ct("Visibility",this.visi,s),Ct("Crash Safety",this.sfty,i),Ct("Escape",this.escp,a),Ct("Charge",this.chrg,s),Ct("Upkeep",this.upkp,i),Ct("Reliability",this.rely,a),function(t,e,s,i=!0){const a=document.createElement("SPAN"),n=document.createElement("LABEL");e.id=bt(),n.htmlFor=e.id,n.style.marginLeft="0.25em",n.style.marginRight="0.5em",n.textContent=t,e.setAttribute("type","text"),e.value="Default",a.appendChild(n),a.appendChild(e),s.appendChild(a),i&&s.appendChild(document.createElement("BR"))}(h("Alter Part Special Rules"),this.sprl,this.edit_cell,!1),this.drag.min="",this.mass.min="",this.wmas.min="",this.bmas.min="",this.cost.min="",this.upkp.min="",this.lfbd.min="",this.area.min="",this.ctrl.min="",this.pstb.min="",this.lstb.min="",this.rstn.min="",this.strc.min="",this.tugh.min="",this.powr.min="",this.fcon.min="",this.fuel.min="",this.chrg.min="",this.sfty.min="",this.visi.min="",this.escp.min="",this.rely.min="",this.sprl.size=47;const r=document.createElement("SPAN");this.sel=document.createElement("SELECT"),r.appendChild(this.sel),this.sel.selectedIndex=-1,this.add=document.createElement("BUTTON"),Mt("Add Part",this.add,r,!1),this.rem=document.createElement("BUTTON"),Mt("Remove Part",this.rem,r,!1),this.edit_cell.appendChild(document.createElement("BR")),this.edit_cell.appendChild(r),this.add.onclick=()=>{let t=new u;t.drag=this.drag.valueAsNumber,t.mass=this.mass.valueAsNumber,t.wetmass=this.wmas.valueAsNumber,t.bomb_mass=this.bmas.valueAsNumber,t.cost=this.cost.valueAsNumber,t.upkeep=this.upkp.valueAsNumber,t.liftbleed=this.lfbd.valueAsNumber,t.wingarea=this.area.valueAsNumber,t.control=this.ctrl.valueAsNumber,t.pitchstab=this.pstb.valueAsNumber,t.latstab=this.lstb.valueAsNumber,t.maxstrain=this.rstn.valueAsNumber,t.structure=this.strc.valueAsNumber,t.toughness=this.tugh.valueAsNumber,t.power=this.powr.valueAsNumber,t.fuelconsumption=this.fcon.valueAsNumber,t.fuel=this.fuel.valueAsNumber,t.charge=this.chrg.valueAsNumber,t.crashsafety=this.sfty.valueAsNumber,t.visibility=this.visi.valueAsNumber,t.escape=this.escp.valueAsNumber,t.reliability=this.rely.valueAsNumber,this.sprl.value=this.sprl.value.trim(),this.sprl.value.length>0&&t.warnings.push({source:this.name.value,warning:this.sprl.value,color:c.WHITE}),this.alter.AddPart(this.name.value,t),this.UpdateSelect(),this.sel.selectedIndex=-1},this.rem.onclick=()=>{this.alter.RemovePart(this.name.value),this.ResetInputs(),this.UpdateSelect(),this.sel.selectedIndex=-1},this.sel.onchange=()=>{let t=this.alter.GetParts()[this.sel.selectedIndex];this.name.value=t.name,this.drag.valueAsNumber=t.stats.drag,this.mass.valueAsNumber=t.stats.mass,this.wmas.valueAsNumber=t.stats.wetmass,this.bmas.valueAsNumber=t.stats.bomb_mass,this.cost.valueAsNumber=t.stats.cost,this.upkp.valueAsNumber=t.stats.upkeep,this.lfbd.valueAsNumber=t.stats.liftbleed,this.area.valueAsNumber=t.stats.wingarea,this.ctrl.valueAsNumber=t.stats.control,this.pstb.valueAsNumber=t.stats.pitchstab,this.lstb.valueAsNumber=t.stats.latstab,this.rstn.valueAsNumber=t.stats.maxstrain,this.strc.valueAsNumber=t.stats.structure,this.tugh.valueAsNumber=t.stats.toughness,this.powr.valueAsNumber=t.stats.power,this.fcon.valueAsNumber=t.stats.fuelconsumption,this.fuel.valueAsNumber=t.stats.fuel,this.chrg.valueAsNumber=t.stats.charge,this.sfty.valueAsNumber=t.stats.crashsafety,this.visi.valueAsNumber=t.stats.visibility,this.escp.valueAsNumber=t.stats.escape,this.rely.valueAsNumber=t.stats.reliability;const e=[];for(let s of t.stats.warnings)e.push(s.warning);this.sprl.value=n.Join("   ",e),this.sel.selectedIndex=-1},this.ResetInputs(),this.UpdateSelect()}ResetInputs(){this.name.value="Default",this.drag.valueAsNumber=0,this.mass.valueAsNumber=0,this.wmas.valueAsNumber=0,this.bmas.valueAsNumber=0,this.cost.valueAsNumber=0,this.upkp.valueAsNumber=0,this.lfbd.valueAsNumber=0,this.area.valueAsNumber=0,this.ctrl.valueAsNumber=0,this.pstb.valueAsNumber=0,this.lstb.valueAsNumber=0,this.rstn.valueAsNumber=0,this.strc.valueAsNumber=0,this.tugh.valueAsNumber=0,this.powr.valueAsNumber=0,this.fcon.valueAsNumber=0,this.fuel.valueAsNumber=0,this.chrg.valueAsNumber=0,this.sfty.valueAsNumber=0,this.visi.valueAsNumber=0,this.escp.valueAsNumber=0,this.rely.valueAsNumber=0,this.sprl.value=""}UpdateSelect(){for(;this.sel.options.length;)this.sel.remove(this.sel.options.length-1);const t=this.alter.GetParts();for(let e of t){let t=document.createElement("OPTION");t.textContent=e.name,this.sel.add(t)}this.sel.selectedIndex=-1}SetCollapse(){kt("alter_collapse",!this.alter.IsDefault())}UpdateDisplay(){this.UpdateSelect();const t=this.alter.GetParts();for(let e=0;e<t.length;e++){if(this.add_list.length<=e){let t={lbl:document.createElement("LABEL"),qty:document.createElement("INPUT")};t.lbl.style.marginLeft="0.25em",t.lbl.style.marginRight="0.5em",t.qty.type="number",t.qty.min="0",t.qty.step="1",t.qty.valueAsNumber=0,t.qty.onchange=()=>{this.alter.SetUsedPart(e,t.qty.valueAsNumber)},this.add_fs.div1.appendChild(t.lbl),this.add_fs.div2.appendChild(t.qty),this.add_list.push(t)}this.add_list[e].lbl.textContent=t[e].name,this.add_list[e].qty.valueAsNumber=t[e].qty}for(;this.add_list.length>t.length;)this.add_list[this.add_list.length-1].lbl.remove(),this.add_list[this.add_list.length-1].qty.remove(),this.add_list.pop()}}class ce{constructor(t){const e=document.createDocumentFragment(),s=xt(e),i=s.insertCell();i.colSpan=2,this.name_inp=document.createElement("INPUT"),this.name_inp.defaultValue=h("Derived Aircraft Name"),i.appendChild(this.name_inp),yt(s,h("Stat Cost")),this.cost_cell=s.insertCell(),yt(s,h("Stat Upkeep")),this.upkeep_cell=s.insertCell(),yt(s,h("Derived Era Report")),this.version_cell=s.insertCell();const a=xt(e);yt(a,h("Derived Mass Variations")),yt(a,h("Derived Boost")),yt(a,h("Derived Handling")),yt(a,h("Derived Rate of Climb")),yt(a,h("Derived Stall Speed")),yt(a,h("Derived Top Speed")),yt(a,h("Derived Vital Components")).colSpan=2,this.bomb_row2=xt(e),yt(this.bomb_row2,h("Derived Full Fuel with Bombs")),this.boost_fullwB=this.bomb_row2.insertCell(),this.hand_fullwB=this.bomb_row2.insertCell(),this.roc_fullwB=this.bomb_row2.insertCell(),this.ss_fullwB=this.bomb_row2.insertCell(),this.ts_fullwB=this.bomb_row2.insertCell(),this.vital_components=this.bomb_row2.insertCell(),this.vital_components.rowSpan=3,this.vital_components.colSpan=3,this.bomb_row1=xt(e),yt(this.bomb_row1,h("Derived Half Fuel with Bombs")),this.boost_halfwB=this.bomb_row1.insertCell(),this.hand_halfwB=this.bomb_row1.insertCell(),this.roc_halfwB=this.bomb_row1.insertCell(),this.ss_halfwB=this.bomb_row1.insertCell(),this.ts_halfwB=this.bomb_row1.insertCell(),this.full_row=xt(e),yt(this.full_row,h("Derived Full Fuel")),this.boost_full=this.full_row.insertCell(),this.hand_full=this.full_row.insertCell(),this.roc_full=this.full_row.insertCell(),this.ss_full=this.full_row.insertCell(),this.ts_full=this.full_row.insertCell();const n=xt(e);yt(n,h("Derived Half Fuel")),this.boost_half=n.insertCell(),this.hand_half=n.insertCell(),this.roc_half=n.insertCell(),this.ss_half=n.insertCell(),this.ts_half=n.insertCell();const r=xt(e);yt(r,h("Derived Empty Fuel")),this.boost_empty=r.insertCell(),this.hand_empty=r.insertCell(),this.roc_empty=r.insertCell(),this.ss_empty=r.insertCell(),this.ts_empty=r.insertCell();const o=xt(e);yt(o,h("Derived Propulsion")).colSpan=2,yt(o,h("Derived Aerodynamics")).colSpan=2,yt(o,h("Derived Survivability")).colSpan=2,yt(o,h("Derived Crew Members")).colSpan=2;const l=xt(e);yt(l,h("Derived Dropoff")),this.dropoff_cell=l.insertCell(),yt(l,h("Derived Stability")),this.stability_cell=l.insertCell(),yt(l,h("Derived Crash Safety")),this.crashsafety_cell=l.insertCell(),yt(l,h("Derived Crew/Passengers")),this.crew_cell=l.insertCell();const c=xt(e);yt(c,h("Derived Overspeed")),this.overspeed_cell=c.insertCell(),yt(c,h("Derived Energy Loss")),this.eloss_cell=c.insertCell(),yt(c,h("Stat Toughness")),this.toughness_cell=c.insertCell(),yt(c,h("Stat Visibility")),this.visibility_cell=c.insertCell();const u=xt(e);yt(u,h("Derived Fuel Uses")),this.maxfuel_cell=u.insertCell(),this.turnbleed_label=yt(u,h("Derived Turn Bleed")),this.turnbleed_cell=u.insertCell(),yt(u,h("Stat Max Strain")),this.mxstrain_cell=u.insertCell(),yt(u,h("Derived Attack Modifier")),this.attack_cell=u.insertCell();const m=xt(e);yt(m,h("Stat Reliability")),this.reliability_cell=m.insertCell(),yt(m,h("Derived Landing Gear")),this.landing_cell=m.insertCell(),yt(m,h("Derived Communications")),this.communications_cell=m.insertCell(),yt(m,h("Derived Escape")),this.escape_cell=m.insertCell();const p=xt(e);yt(p,h("Derived Ideal Engine Altitude")),this.maxalt_cell=p.insertCell(),yt(p,h("Derived Is Flammable Question")),this.flammable_cell=p.insertCell(),this.desc_cell=p.insertCell(),this.desc_cell.colSpan=2,yt(p,h("Stat Flight Stress")),this.flightstress_cell=p.insertCell();const d=xt(e),g=xt(e);this.weapon_head=yt(d,h("Derived Weapon Systems")),this.weapon_head.colSpan=6,this.weapon_cell=g.insertCell(),this.weapon_cell.colSpan=6,this.warning_head=yt(xt(e),h("Derived Special Rules")),this.warning_head.colSpan=6,this.warning_cell=xt(e).insertCell(),this.warning_cell.colSpan=6,yt(d,h("Derived Electrics")).colSpan=2,this.electric_cell=g.insertCell(),this.electric_cell.colSpan=2,this.electric_cell.rowSpan=3,t.appendChild(e),this.tbl=t}UpdateDisplay(t,e,s){for(this.name_inp.value=t.name;this.version_cell.children.length>0;)this.version_cell.removeChild(this.version_cell.children[0]);this.version_cell.className="tooltip";const i=document.createElement("DIV");i.className="tooltiptext";let a=document.createElement("P");a.textContent=h("Derived Problematic Parts"),i.appendChild(a);const r=p(t.GetEra().GetSelectedText());var o=0;for(let t of e.era){const e=p(t.era);if(e>r){o+=e-r;let s=document.createElement("P");s.textContent=t.name+": "+t.era,i.appendChild(s)}}if(0==o){let t=document.createElement("P");t.textContent=h("None"),i.appendChild(t)}const l=document.createElement("P");for(l.textContent=h(t.GetEra().GetSelectedText()),l.className=0==o?"green":o>2?"red":"yellow",this.version_cell.appendChild(l),this.version_cell.appendChild(i),this.cost_cell.textContent=e.cost.toString()+"þ ",t.GetUsed().IsDefault()||(this.cost_cell.textContent+=" ("+Math.floor(1e-6+e.cost/2).toString()+"þ "+h("Price Word Used")+")"),this.upkeep_cell.textContent=e.upkeep.toString()+"þ",this.ts_empty.textContent=(0).toString(),this.ss_empty.textContent=s.StallSpeedEmpty.toString(),this.hand_empty.textContent=s.HandlingEmpty.toString(),this.boost_empty.textContent=(0).toString(),this.roc_empty.textContent=(0).toString(),this.ts_half.textContent=Math.floor(1e-6+(s.MaxSpeedEmpty+s.MaxSpeedFull)/2).toString(),this.ss_half.textContent=Math.floor(1e-6+(s.StallSpeedEmpty+s.StallSpeedFull)/2).toString(),this.hand_half.textContent=Math.floor(1e-6+(s.HandlingEmpty+s.HandlingFull)/2).toString(),this.boost_half.textContent=Math.floor(1e-6+(s.BoostEmpty+s.BoostFull)/2).toString(),this.roc_half.textContent=Math.floor(1e-6+(s.RateOfClimbEmpty+s.RateOfClimbFull)/2).toString(),this.ts_full.textContent=Math.floor(1e-6+s.MaxSpeedFull).toString(),this.ss_full.textContent=s.StallSpeedFull.toString(),this.hand_full.textContent=s.HandlingFull.toString(),this.boost_full.textContent=s.BoostFull.toString(),this.roc_full.textContent=s.RateOfClimbFull.toString(),e.bomb_mass>0||this.show_bombs?(this.bomb_row1.hidden=!1,this.bomb_row2.hidden=!1,this.bomb_row2.appendChild(this.vital_components),this.vital_components.rowSpan=5,this.ts_halfwB.textContent=Math.floor(1e-6+(s.MaxSpeedEmpty+s.MaxSpeedwBombs)/2).toString(),this.ss_halfwB.textContent=Math.floor(1e-6+(s.StallSpeedEmpty+s.StallSpeedFullwBombs)/2).toString(),this.hand_halfwB.textContent=Math.floor(1e-6+(s.HandlingEmpty+s.HandlingFullwBombs)/2).toString(),this.boost_halfwB.textContent=Math.floor(1e-6+(s.BoostEmpty+s.BoostFullwBombs)/2).toString(),this.roc_halfwB.textContent=Math.floor(1e-6+(s.RateOfClimbEmpty+s.RateOfClimbwBombs)/2).toString(),this.ts_fullwB.textContent=Math.floor(1e-6+s.MaxSpeedwBombs).toString(),this.ss_fullwB.textContent=s.StallSpeedFullwBombs.toString(),this.hand_fullwB.textContent=s.HandlingFullwBombs.toString(),this.boost_fullwB.textContent=s.BoostFullwBombs.toString(),this.roc_fullwB.textContent=s.RateOfClimbwBombs.toString(),this.turnbleed_label.textContent=h("Derived Turn Bleed wB"),this.turnbleed_cell.textContent=n.Format("{0} ({1})",s.TurnBleed,s.TurnBleedwBombs)):(this.bomb_row1.hidden=!0,this.bomb_row2.hidden=!0,this.full_row.appendChild(this.vital_components),this.vital_components.rowSpan=3,this.turnbleed_label.textContent=h("Derived Turn Bleed"),this.turnbleed_cell.textContent=n.Format("{0}",s.TurnBleed)),this.dropoff_cell.textContent=s.Dropoff.toString(),this.overspeed_cell.textContent=s.Overspeed.toString(),this.maxfuel_cell.textContent=(Math.floor(1e-6+10*s.FuelUses)/10).toString(),t.GetIsFlammable()?this.flammable_cell.textContent=h("Yes"):this.flammable_cell.textContent=h("No"),this.stability_cell.textContent=s.Stabiilty.toString(),this.eloss_cell.textContent=s.EnergyLoss.toString(),this.landing_cell.textContent=t.GetGearName(),this.maxalt_cell.textContent=t.GetMinAltitude().toString()+"-"+t.GetMaxAltitude().toString(),this.reliability_cell.textContent=n.Join(", ",t.GetReliabilityList()),this.toughness_cell.textContent=s.Toughness.toString(),this.mxstrain_cell.textContent=s.MaxStrain.toString(),this.escape_cell.textContent=n.Join(", ",t.GetEscapeList()),this.crashsafety_cell.textContent=e.crashsafety.toString(),this.crew_cell.textContent=t.GetCockpits().GetNumberOfCockpits().toString()+"/"+(t.GetPassengers().GetSeats()+t.GetPassengers().GetBeds()).toString(),this.flightstress_cell.textContent=g(t.GetStressList()),this.visibility_cell.textContent=n.Join(", ",t.GetVisibilityList()),this.attack_cell.textContent=n.Join(", ",t.GetAttackList()),this.communications_cell.textContent=t.GetCommunicationName();this.electric_cell.childElementCount>0;)this.electric_cell.removeChild(this.electric_cell.firstChild);const u=t.GetElectrics(),m=St(this.electric_cell);u.storage>0&&Rt(h("Derived Battery"),u.storage.toString(),m);for(let t of u.equipment)Rt(t.source,t.charge,m);var d="";const _=t.VitalComponentList();for(let t of _)d+=t+"<br/>";this.vital_components.innerHTML=d;const f=t.GetWeapons().GetWeaponList(),b=t.GetWeapons().GetDirectionList(),S=t.GetMunitions().GetBombCount(),y=t.GetMunitions().GetRocketCount();var w=t.GetMunitions().GetInternalBombCount(),C="";if(S>0){const e=Math.min(S,w),s=Math.max(0,S-e);e>0&&(C+=h(" Bomb Mass Internally.",e)),s>0&&(C+=h(" Bomb Mass Externally.",s)),e>0&&(C+=h("Largest Internal Bomb",Math.min(e,t.GetMunitions().GetMaxBombSize()).toString())),w-=e,C+="<br/>"}if(y>0){const t=Math.min(y,w),e=Math.max(0,y-t);t>0&&(C+=h(" Rocket Mass Internally.",t)),e>0&&(C+=h(" Rocket Mass Externally.",e)),C+="<br/>"}for(let e of t.GetWeapons().GetWeaponSets())C+=Ut(e,f,b),C+="<br>";this.weapon_cell.innerHTML=C,e.warnings.sort(((t,e)=>t.color-e.color));var A="";for(let t of e.warnings){switch(t.color){case c.RED:A+='<div style="color:#FF0000;">';break;case c.YELLOW:A+='<div style="color:#FFFF00;">';break;case c.WHITE:default:A+='<div style="color:var(--inp_txt_color);;">'}A+=t.source+":  "+t.warning+"</div>"}this.warning_cell.innerHTML=A;var B="";const E=t.GetWings().GetWingList().length;if(1==E){const e=t.GetWings().GetWingList()[0].deck;e<N.MID?B+="High-Wing Monoplane ":e==N.MID?B+="Mid-Wing Monoplane ":B+="Low-Wing Monoplane "}else t.GetWings().GetIsSesquiplane().is?B+=2==E?"Sesquiplane ":"Sesqui-"+this.prefix(E):t.GetWings().GetTandem()?2==E&&t.GetWings().GetClosed()?B+="Annular Monoplane ":B+="Tandem "+this.prefix(E):B+=this.prefix(E);t.GetFrames().GetFlyingWing()?B+="Flying Wing ":t.GetFrames().CanFlyingWing()?B+="Lifting Body ":0==E&&(B+="Falling Rock "),this.desc_cell.textContent=B}prefix(t){switch(t){case 0:return"";case 1:return"Monoplane ";case 2:return"Biplane ";case 3:return"Triplane ";case 4:return"Quadruplane ";case 5:return"Pentaplane ";case 6:return"Hexaplane ";case 7:return"Heptaplane ";case 8:return"Octoplane ";case 9:return"Nonaplane ";case 10:return"Decaplane ";case 11:return"Undecaplane ";case 12:return"Duodecaplane ";case 13:return"Tredecaplane ";case 14:return"Quattuordecaplane ";case 15:return"Quindecaplane ";case 16:return"Sexdecaplane ";case 17:return"Septendecaplane ";case 18:return"Octodecaplane ";case 19:return"Novendecaplane ";case 20:return"Vigintiplane ";default:return"Window Blinds "}}GetName(){return this.name_inp.value}SetName(t){this.name_inp.value=t}SetShowBombs(t){this.show_bombs=t}}var ue,me;!function(t){t[t.FULLWBOMBS=0]="FULLWBOMBS",t[t.HALFWBOMBS=1]="HALFWBOMBS",t[t.FULL=2]="FULL",t[t.HALF=3]="HALF",t[t.EMPTY=4]="EMPTY"}(ue||(ue={}));class pe{constructor(t){document.getElementById("lbl_altitude").textContent=h("Altitude Section Title"),this.tbl=document.getElementById("table_altitude"),this.fuel_state=document.getElementById("select_fuelstate");let e=document.createElement("OPTION");e.textContent=h("Derived Full Fuel with Bombs"),this.fuel_state.appendChild(e),e=document.createElement("OPTION"),e.textContent=h("Derived Half Fuel with Bombs"),this.fuel_state.appendChild(e),e=document.createElement("OPTION"),e.textContent=h("Derived Full Fuel"),this.fuel_state.appendChild(e),e=document.createElement("OPTION"),e.textContent=h("Derived Half Fuel"),this.fuel_state.appendChild(e),this.fuel_state.onchange=()=>{t()},this.fires=document.getElementById("input_fires"),this.fires.onchange=()=>{t()},this.oxidized=document.getElementById("input_oxidized"),this.oxidized.onchange=()=>{t()},this.fRow=xt(this.tbl),yt(this.fRow,h("Altitude Altitude")),yt(this.fRow,h("Derived Boost")),yt(this.fRow,h("Derived Rate of Climb")),yt(this.fRow,h("Derived Stall Speed")),yt(this.fRow,h("Derived Top Speed")),this.rows=[]}AddRow(t){const e=document.createElement("TR");e.insertCell().textContent=n.Format("{0}-{1}",10*t,10*t+9),e.insertCell(),e.insertCell(),e.insertCell(),e.insertCell(),this.rows.push(e)}UpdateDisplay(t,e){for(;this.tbl.lastChild;)this.tbl.removeChild(this.tbl.lastChild);const s=document.createDocumentFragment();s.appendChild(this.fRow);var i=0,a=0,n=0,r=0;switch(this.fuel_state.selectedIndex){case ue.FULLWBOMBS:i=e.BoostFullwBombs,a=e.RateOfClimbwBombs,n=e.StallSpeedFullwBombs,r=e.MaxSpeedwBombs;break;case ue.HALFWBOMBS:i=Math.floor(1e-6+(e.BoostEmpty+e.BoostFullwBombs)/2),a=Math.floor(1e-6+(e.RateOfClimbEmpty+e.RateOfClimbwBombs)/2),n=Math.floor(1e-6+(e.StallSpeedEmpty+e.StallSpeedFullwBombs)/2),r=Math.floor(1e-6+(e.MaxSpeedEmpty+e.MaxSpeedwBombs)/2);break;case ue.FULL:i=e.BoostFull,a=e.RateOfClimbFull,n=e.StallSpeedFull,r=e.MaxSpeedFull;break;case ue.HALF:i=Math.floor(1e-6+(e.BoostEmpty+e.BoostFull)/2),a=Math.floor(1e-6+(e.RateOfClimbEmpty+e.RateOfClimbFull)/2),n=Math.floor(1e-6+(e.StallSpeedEmpty+e.StallSpeedFull)/2),r=Math.floor(1e-6+(e.MaxSpeedEmpty+e.MaxSpeedFull)/2)}for(let e=0;e<100;e++){var o=0,l=0;if(e<t.GetMinIAF())o=t.GetMinIAF()-e;else{let s=t.GetMaxIAF();this.oxidized.checked&&(s+=3),l=Math.min(e-t.GetMinIAF(),s-t.GetMinIAF()),e>s&&(o=e-s)}this.fires.checked&&(o=0),this.rows.length<=e&&this.AddRow(e);const c=this.rows[e];var h=0;h=o>0?Math.max(1,i-1):i;const u=Math.max(1,a-o),m=Math.max(1,n+e),p=Math.max(1,r+l-o);if(c.children[1].textContent=h.toString(),c.children[2].textContent=u.toString(),c.children[3].textContent=m.toString(),c.children[4].textContent=p.toString(),s.appendChild(c),m>p){for(;this.rows.length>e;)this.rows.pop();break}}this.tbl.appendChild(s)}}!function(t){t[t.SINGLE=0]="SINGLE",t[t.PUSHER=1]="PUSHER",t[t.PULLER=2]="PULLER"}(me||(me={}));class de{constructor(){this.dash_canvas=document.createElement("CANVAS"),this.dash_canvas.width=1122,this.dash_canvas.height=786,this.dash_image=document.getElementById("dash_img"),this.dash_image.width=1122,this.dash_image.height=786,this.weap_canvas=document.createElement("CANVAS"),this.weap_canvas.width=483,this.weap_canvas.height=291,this.weap_image=document.getElementById("weap_img"),this.weap_image.width=483,this.weap_image.height=291,this.eng_canvas=document.createElement("CANVAS"),this.eng_canvas.width=600,this.eng_canvas.height=360,this.eng_image=document.getElementById("eng_img"),this.eng_image.width=600,this.eng_image.height=360,this.rad_canvas=document.createElement("CANVAS"),this.rad_canvas.width=479,this.rad_canvas.height=290,this.rad_image=document.getElementById("rad_img"),this.rad_image.width=479,this.rad_image.height=290,this.npc_canvas=document.createElement("CANVAS"),this.npc_canvas.width=482,this.npc_canvas.height=290,this.npc_image=document.getElementById("npc_img"),this.npc_image.width=482,this.npc_image.height=290,this.acft_data={full_bomb_boost:0,half_bomb_boost:0,full_boost:0,half_boost:0,empty_boost:0,full_bomb_hand:0,half_bomb_hand:0,full_hand:0,half_hand:0,empty_hand:0,full_bomb_climb:0,half_bomb_climb:0,full_climb:0,half_climb:0,empty_climb:0,full_bomb_stall:0,half_bomb_stall:0,full_stall:0,half_stall:0,empty_stall:0,full_bomb_speed:0,half_bomb_speed:0,full_speed:0,half_speed:0,empty_speed:0,fuel:0,dropoff:0,ordinance:[""],escape:0,crash:0,visibility:0,energy_loss:0,turn_bleed:0,stability:0,stress:0,toughness:0,max_strain:0,vital_parts:[""],armour:[],warnings:[{source:"",warning:""}]},this.weap_data={type:"",abrv:"",ammo:0,ap:0,jam:"",hits:[],damage:[],tags:[],reload:0,gyrojet:!1},this.eng_data={reliability:"0",min_IAF:0,altitude:0,overspeed:0,radiator:0,notes:[]},this.rad_data={mount_type:"",coolant_type:""}}SaveDash(){var t=this.dash_canvas.getContext("2d");t.clearRect(0,0,this.dash_canvas.width,this.dash_canvas.height),t.textAlign="center",t.drawImage(this.dash_image,0,0),t.font="35px Balthazar",t.fillText(this.acft_data.full_bomb_boost.toString(),493,94,80),t.fillText(this.acft_data.full_bomb_hand.toString(),555,94,80),t.fillText(this.acft_data.full_bomb_climb.toString(),617,94,80),t.fillText(this.acft_data.full_bomb_stall.toString(),679,94,80),t.fillText(this.acft_data.full_bomb_speed.toString(),741,94,80),t.fillText(this.acft_data.half_bomb_boost.toString(),493,134,80),t.fillText(this.acft_data.half_bomb_hand.toString(),555,134,80),t.fillText(this.acft_data.half_bomb_climb.toString(),617,134,80),t.fillText(this.acft_data.half_bomb_stall.toString(),679,134,80),t.fillText(this.acft_data.half_bomb_speed.toString(),741,134,80),t.fillText(this.acft_data.full_boost.toString(),493,174,80),t.fillText(this.acft_data.full_hand.toString(),555,174,80),t.fillText(this.acft_data.full_climb.toString(),617,174,80),t.fillText(this.acft_data.full_stall.toString(),679,174,80),t.fillText(this.acft_data.full_speed.toString(),741,174,80),t.fillText(this.acft_data.half_boost.toString(),493,214,80),t.fillText(this.acft_data.half_hand.toString(),555,214,80),t.fillText(this.acft_data.half_climb.toString(),617,214,80),t.fillText(this.acft_data.half_stall.toString(),679,214,80),t.fillText(this.acft_data.half_speed.toString(),741,214,80),t.fillText("0",493,254,80),t.fillText(this.acft_data.empty_hand.toString(),555,254,80),t.fillText("0",617,254,80),t.fillText(this.acft_data.empty_stall.toString(),679,254,80),t.fillText("0",741,254,80),t.fillText(Math.floor(this.acft_data.fuel).toString(),417,310,35),t.fillText(this.acft_data.dropoff.toString(),1048,375,35),t.fillText(this.acft_data.escape.toString(),85,640,35),t.fillText(this.acft_data.crash.toString(),85,720,35),t.fillText(this.acft_data.visibility.toString(),135,460,35),t.fillText(this.acft_data.stability.toString(),135,550,35),t.fillText(this.acft_data.energy_loss.toString(),70,505,35),t.fillText(this.acft_data.turn_bleed.toString(),195,505,35),t.fillText(this.acft_data.stress.toString(),285,495,35),t.fillText(this.acft_data.toughness.toString(),250,645,35),t.fillText(this.acft_data.max_strain.toString(),250,720,35),t.font="20px Balthazar",t.textAlign="left";var e=Math.min(this.acft_data.ordinance.length,2),s=Math.ceil(this.acft_data.ordinance.length/e-1e-6),i=0;for(let a=0;a<e;a++){let e=612+27*a,n="";for(let t=0;t<s;t++)i<this.acft_data.ordinance.length&&(0!=t&&(n+=", "),n+=this.acft_data.ordinance[i]),i++;t.fillText(n,335,e,370)}e=Math.min(this.acft_data.vital_parts.length,5),s=Math.ceil(this.acft_data.vital_parts.length/e-1e-6),i=0;for(let a=0;a<e;a++){let e=392+27*a,n="";for(let t=0;t<s;t++)i<this.acft_data.vital_parts.length&&(0!=t&&(n+=", "),n+=this.acft_data.vital_parts[i]),i++;t.fillText(n,335,e,370)}var a="";for(let t=0;t<this.acft_data.armour.length;++t){let e=t+1;this.acft_data.armour[t]>0&&(a+=""!=a?", ":h("Armour")+" ",a+=e.toString()+"/+"+(11-this.acft_data.armour[t]).toString())}t.fillText(a,335,558,375),t.font="14px Balthazar",i=1;for(let e=0;e<this.acft_data.warnings.length;++e){if(this.acft_data.warnings[e].source==h("Armour"))continue;let s=this.acft_data.warnings[e].source+": "+this.acft_data.warnings[e].warning;6==i&&this.acft_data.warnings.length>e+1?t.fillText(h("Cards Too Many Warnings Warning"),335,673+14*i,370):i>6||t.fillText(s,335,673+14*i,370),i++}this.download(this.name+"_Dashboard",this.dash_canvas)}SaveWeapon(t){t++;var e=this.weap_canvas.getContext("2d");e.clearRect(0,0,this.weap_canvas.width,this.weap_canvas.height),e.textAlign="center",e.drawImage(this.weap_image,0,0),e.font="25px Balthazar",e.fillText(this.weap_data.type,150,112,215),e.font="15px Balthazar";var s="";this.weap_data.reload>0?(s+=h("Cards Gun String Reload",(this.weap_data.ammo/this.weap_data.reload).toString(),this.weap_data.reload.toString()),this.weap_data.tags.push(h("Weapon Tag Reload",this.weap_data.reload.toString()))):s+=h("Cards Gun String No Reload",this.weap_data.ammo),e.fillText(s,95,158,105),e.fillText(this.weap_data.ap.toString(),172,158,23),e.fillText(this.weap_data.jam,230,158,65),e.fillText(this.weap_data.hits[0].toString(),157,208,80),e.fillText(this.weap_data.hits[1].toString(),237,208,80),e.fillText(this.weap_data.hits[2].toString(),317,208,80),e.fillText(this.weap_data.hits[3].toString(),397,208,80),e.fillText(Math.floor(1e-6+this.weap_data.damage[0]).toString(),157,231,80),e.fillText(Math.floor(1e-6+this.weap_data.damage[1]).toString(),237,231,80),e.fillText(Math.floor(1e-6+this.weap_data.damage[2]).toString(),317,231,80),e.fillText(Math.floor(1e-6+this.weap_data.damage[3]).toString(),397,231,80),e.textAlign="left",e.fillText(this.weap_data.tags[0],90,256,350);var i="";for(let t=1;t<this.weap_data.tags.length;t++)1!=t&&(i+=", "),i+=this.weap_data.tags[t];e.fillText(i,90,276,350),this.download(this.name+"_Weapon_"+t.toString(),this.weap_canvas)}SaveEngine(t,e=me.SINGLE){t++;var s=this.eng_canvas.getContext("2d");s.clearRect(0,0,this.eng_canvas.width,this.eng_canvas.height),s.drawImage(this.eng_image,0,0),s.textAlign="center",s.font="18px Balthazar",s.fillStyle="#000",s.strokeStyle="#000",s.fillText(this.eng_data.reliability,235,75,110);var i=this.eng_data.min_IAF.toString()+"-"+(this.eng_data.min_IAF+this.eng_data.altitude).toString();s.fillText(i,347,75,110),s.fillText(this.eng_data.overspeed.toString(),480,75,110);var a="";for(let t=0;t<this.eng_data.notes.length;t++)0!=t&&(a+=", "),a+=this.eng_data.notes[t];switch(s.fillText(a,365,105,306),this.eng_data.radiator>=0&&s.fillText(h("Cards Uses Radiator",this.eng_data.radiator+1),109,340,270),s.textAlign="right",s.font="30px Balthazar",s.fillStyle="#fff",s.strokeStyle="#fff",s.fillText("#"+t.toString(),37,67,35),e){case me.SINGLE:this.download(this.name+"_Engine_"+t.toString(),this.eng_canvas);break;case me.PUSHER:this.download(this.name+"_Engine_"+t.toString()+"_Pusher",this.eng_canvas);break;case me.PULLER:this.download(this.name+"_Engine_"+t.toString()+"_Puller",this.eng_canvas)}}SaveRadiator(t){t++;var e=this.rad_canvas.getContext("2d");e.clearRect(0,0,this.rad_canvas.width,this.rad_canvas.height),e.drawImage(this.rad_image,0,0),e.textAlign="center",e.font="25px Balthazar",e.fillStyle="#000",e.strokeStyle="#000",e.fillText(this.rad_data.mount_type,162,141,230),e.fillText(this.rad_data.coolant_type,162,217,230),e.textAlign="right",e.font="25px Balthazar",e.fillStyle="#fff",e.strokeStyle="#fff",e.fillText("#"+t.toString(),37,56,35),this.download(this.name+"_Radiator_"+t.toString(),this.rad_canvas)}SaveNPC(){var t=this.npc_canvas.getContext("2d");t.clearRect(0,0,this.npc_canvas.width,this.npc_canvas.height),t.drawImage(this.npc_image,0,0),t.font="20px Balthazar",t.textAlign="center",t.fillStyle="#000",t.strokeStyle="#000",t.fillText(this.name,100,100,145),t.fillText(""+this.lowest_overspeed,70,158,40),t.fillText(""+this.acft_data.full_speed,126,158,40);var e=this.acft_data.full_speed-this.acft_data.turn_bleed-Math.floor(1e-6+.1*this.acft_data.full_speed);t.fillText(""+e,187,158,40),t.fillText(""+this.acft_data.full_stall,245,158,40);var s,i=this.acft_data.toughness+this.acft_data.max_strain;if(t.fillText(""+i,70,236,40),t.fillText(""+this.acft_data.full_hand,123,236,40),this.all_weapons[0]){s=this.all_weapons[0],t.font="12px Avenir",t.fillText(s.abrv,232,71,91),t.font="20px Balthazar";var a=n.Join("/",[s.hits[0],s.hits[1],s.hits[2],s.hits[3]]),r=n.Join("/",[Math.floor(1e-6+s.damage[0]),Math.floor(1e-6+s.damage[1]),Math.floor(1e-6+s.damage[2]),Math.floor(1e-6+s.damage[3])]);t.fillText(a,320,71,80),t.fillText(r,401,71,80)}this.all_weapons[1]&&(s=this.all_weapons[1],t.font="12px Avenir",t.fillText(s.abrv,232,103,91),t.font="20px Balthazar",a=n.Join("/",[s.hits[0],s.hits[1],s.hits[2],s.hits[3]]),r=n.Join("/",[Math.floor(1e-6+s.damage[0]),Math.floor(1e-6+s.damage[1]),Math.floor(1e-6+s.damage[2]),Math.floor(1e-6+s.damage[3])]),t.fillText(a,320,103,80),t.fillText(r,401,103,80)),this.download(this.name+"_NPC",this.npc_canvas)}download(t,e){var s=document.createElement("a");if(s.download=t+".png",s.href=e.toDataURL(),document.createEvent){var i=document.createEvent("MouseEvents");i.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),s.dispatchEvent(i)}}}var ge=function(){var t=String.fromCharCode,e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",i={};function a(t,e){if(!i[t]){i[t]={};for(let e=0;e<t.length;e++)i[t][t.charAt(e)]=e}return i[t][e]}var n={compressToBase64:function(t){if(null==t)return"";var s=n._compress(t,6,(function(t){return e.charAt(t)}));switch(s.length%4){default:case 0:return s;case 1:return s+"===";case 2:return s+"==";case 3:return s+"="}},decompressFromBase64:function(t){return null==t?"":""==t?null:n._decompress(t.length,32,(function(s){return a(e,t.charAt(s))}))},compressToUTF16:function(e){return null==e?"":n._compress(e,15,(function(e){return t(e+32)}))+" "},decompressFromUTF16:function(t){return null==t?"":""==t?null:n._decompress(t.length,16384,(function(e){return t.charCodeAt(e)-32}))},compressToUint8Array:function(t){var e=n.compress(t),s=new Uint8Array(2*e.length);for(let t=0,a=e.length;t<a;t++){var i=e.charCodeAt(t);s[2*t]=i>>>8,s[2*t+1]=i%256}return s},decompressFromUint8Array:function(e){if(null==e)return n.decompress(e);var s=new Array(e.length/2);for(let t=0,i=s.length;t<i;t++)s[t]=256*e[2*t]+e[2*t+1];var i=[];return s.forEach((function(e){i.push(t(e))})),n.decompress(i.join(""))},compressToEncodedURIComponent:function(t){return null==t?"":n._compress(t,6,(function(t){return s.charAt(t)}))},decompressFromEncodedURIComponent:function(t){return null==t?"":""==t?null:(t=t.replace(/ /g,"+"),n._decompress(t.length,32,(function(e){return a(s,t.charAt(e))})))},compress:function(e){return n._compress(e,16,(function(e){return t(e)}))},_compress:function(t,e,s){if(null==t)return"";var i,a,n,r={},o={},l="",h="",c="",u=2,m=3,p=2,d=[],g=0,_=0;for(n=0;n<t.length;n+=1)if(l=t.charAt(n),Object.prototype.hasOwnProperty.call(r,l)||(r[l]=m++,o[l]=!0),h=c+l,Object.prototype.hasOwnProperty.call(r,h))c=h;else{if(Object.prototype.hasOwnProperty.call(o,c)){if(c.charCodeAt(0)<256){for(i=0;i<p;i++)g<<=1,_==e-1?(_=0,d.push(s(g)),g=0):_++;for(a=c.charCodeAt(0),i=0;i<8;i++)g=g<<1|1&a,_==e-1?(_=0,d.push(s(g)),g=0):_++,a>>=1}else{for(a=1,i=0;i<p;i++)g=g<<1|a,_==e-1?(_=0,d.push(s(g)),g=0):_++,a=0;for(a=c.charCodeAt(0),i=0;i<16;i++)g=g<<1|1&a,_==e-1?(_=0,d.push(s(g)),g=0):_++,a>>=1}0==--u&&(u=Math.pow(2,p),p++),delete o[c]}else for(a=r[c],i=0;i<p;i++)g=g<<1|1&a,_==e-1?(_=0,d.push(s(g)),g=0):_++,a>>=1;0==--u&&(u=Math.pow(2,p),p++),r[h]=m++,c=String(l)}if(""!==c){if(Object.prototype.hasOwnProperty.call(o,c)){if(c.charCodeAt(0)<256){for(i=0;i<p;i++)g<<=1,_==e-1?(_=0,d.push(s(g)),g=0):_++;for(a=c.charCodeAt(0),i=0;i<8;i++)g=g<<1|1&a,_==e-1?(_=0,d.push(s(g)),g=0):_++,a>>=1}else{for(a=1,i=0;i<p;i++)g=g<<1|a,_==e-1?(_=0,d.push(s(g)),g=0):_++,a=0;for(a=c.charCodeAt(0),i=0;i<16;i++)g=g<<1|1&a,_==e-1?(_=0,d.push(s(g)),g=0):_++,a>>=1}0==--u&&(u=Math.pow(2,p),p++),delete o[c]}else for(a=r[c],i=0;i<p;i++)g=g<<1|1&a,_==e-1?(_=0,d.push(s(g)),g=0):_++,a>>=1;0==--u&&(u=Math.pow(2,p),p++)}for(a=2,i=0;i<p;i++)g=g<<1|1&a,_==e-1?(_=0,d.push(s(g)),g=0):_++,a>>=1;for(;;){if(g<<=1,_==e-1){d.push(s(g));break}_++}return d.join("")},decompress:function(t){return null==t?"":""==t?null:n._decompress(t.length,32768,(function(e){return t.charCodeAt(e)}))},_decompress:function(e,s,i){var a,n,r,o,l,h,c,u=[],m=4,p=4,d=3,g="",_=[],f={val:i(0),position:s,index:1};for(a=0;a<3;a+=1)u[a]=a;for(r=0,l=Math.pow(2,2),h=1;h!=l;)o=f.val&f.position,f.position>>=1,0==f.position&&(f.position=s,f.val=i(f.index++)),r|=(o>0?1:0)*h,h<<=1;switch(r){case 0:for(r=0,l=Math.pow(2,8),h=1;h!=l;)o=f.val&f.position,f.position>>=1,0==f.position&&(f.position=s,f.val=i(f.index++)),r|=(o>0?1:0)*h,h<<=1;c=t(r);break;case 1:for(r=0,l=Math.pow(2,16),h=1;h!=l;)o=f.val&f.position,f.position>>=1,0==f.position&&(f.position=s,f.val=i(f.index++)),r|=(o>0?1:0)*h,h<<=1;c=t(r);break;case 2:return""}for(u[3]=c,n=c,_.push(c);;){if(f.index>e)return"";for(r=0,l=Math.pow(2,d),h=1;h!=l;)o=f.val&f.position,f.position>>=1,0==f.position&&(f.position=s,f.val=i(f.index++)),r|=(o>0?1:0)*h,h<<=1;switch(c=r){case 0:for(r=0,l=Math.pow(2,8),h=1;h!=l;)o=f.val&f.position,f.position>>=1,0==f.position&&(f.position=s,f.val=i(f.index++)),r|=(o>0?1:0)*h,h<<=1;u[p++]=t(r),c=p-1,m--;break;case 1:for(r=0,l=Math.pow(2,16),h=1;h!=l;)o=f.val&f.position,f.position>>=1,0==f.position&&(f.position=s,f.val=i(f.index++)),r|=(o>0?1:0)*h,h<<=1;u[p++]=t(r),c=p-1,m--;break;case 2:return _.join("")}if(0==m&&(m=Math.pow(2,d),d++),u[c])g=u[c];else{if(c!==p)return null;g=n+n.charAt(0)}_.push(g),u[p++]=n+g.charAt(0),n=g,0==--m&&(m=Math.pow(2,d),d++)}}};return n}();class _e extends Wt{constructor(t,e){super(),this.acft=t,this.parts_JSON=e,this.era=new Qt(this.acft.GetEra()),this.cockpits=new jt(t.GetCockpits()),this.passengers=new Jt(t.GetPassengers()),this.engines=new Vt(t.GetEngines()),this.propeller=new Zt(t.GetPropeller()),this.frames=new Xt(t.GetFrames()),this.wings=new $t(t.GetWings()),this.stabilizers=new te(t.GetStabilizers()),this.controlsurfaces=new ee(t.GetControlSurfaces()),this.reinforcements=new se(t.GetReinforcements()),this.load=new ie(t.GetFuel(),t.GetMunitions(),t.GetCargoAndPassengers()),this.gear=new ae(t.GetLandingGear()),this.accessories=new ne(t.GetAccessories()),this.optimization=new re(t.GetOptimization()),this.weapons=new Ot(t.GetWeapons()),this.used=new oe(t.GetUsed()),this.rotor=new le(t.GetRotor()),this.alter=new he(t.GetAlter()),this.altitude=new pe((()=>{this.UpdateDisplay()})),this.acft_type=document.getElementById("acft_type");let s=0;for(let t in D)if(isNaN(Number(t))&&(s+=1,2!=s)){let e=document.createElement("OPTION");e.text=h(t),this.acft_type.add(e)}this.acft_type.onchange=()=>{let t=this.acft_type.selectedIndex;t>=1&&(t+=1),this.acft.SetType(t)};const i=document.getElementById("tbl_stats");this.InitStats(i);const a=document.getElementById("tbl_derived");this.InitDerived(a),this.acft.SetDisplayCallback((()=>{this.UpdateDisplay()})),document.getElementById("acft_save").onclick=()=>{this.SaveJSON()};const n=document.getElementById("acft_load");n.multiple=!1,n.accept="application/JSON",n.onchange=t=>{this.LoadJSON(n)};const r=document.getElementById("acft_load_text");r.onchange=()=>{this.LoadText(r)};const o=document.getElementById("acft_load_text2");o.onchange=()=>{this.LoadText(o)},document.getElementById("acft_save_link").onclick=()=>{this.SaveLink()},this.cards=new de,document.getElementById("acft_save_dash").onclick=()=>{this.SaveDash()},document.getElementById("acft_interactive_dash").onclick=()=>{this.SaveInteractive()},document.getElementById("acft_save_npc").onclick=()=>{this.SaveNPC()},document.getElementById("acft_reset").onclick=()=>{this.acft.Reset(),this.derived.SetName(this.acft.name),this.acft.CalculateStats(),this.SetCollapse()},document.getElementById("acft_save_cat").onclick=()=>{this.CatalogStats()},this.SetCollapse()}UpdateCard(){this.acft.name=this.derived.GetName();const t=this.acft.GetStats(),e=this.acft.GetDerivedStats();this.cards.name=this.acft.name,this.cards.acft_data.armour=this.acft.GetAccessories().GetEffectiveCoverage(),this.cards.acft_data.crash=t.crashsafety,this.cards.acft_data.dropoff=e.Dropoff,this.cards.acft_data.empty_boost=e.BoostEmpty,this.cards.acft_data.empty_hand=e.HandlingEmpty,this.cards.acft_data.empty_climb=e.RateOfClimbEmpty,this.cards.acft_data.empty_stall=e.StallSpeedEmpty,this.cards.acft_data.empty_speed=Math.floor(1e-6+e.MaxSpeedEmpty),this.cards.acft_data.energy_loss=e.EnergyLoss,this.cards.acft_data.escape=this.acft.GetCockpits().GetEscapeList()[0],this.cards.acft_data.fuel=e.FuelUses,this.cards.acft_data.full_bomb_boost=e.BoostFullwBombs,this.cards.acft_data.full_bomb_hand=e.HandlingFullwBombs,this.cards.acft_data.full_bomb_climb=e.RateOfClimbwBombs,this.cards.acft_data.full_bomb_stall=e.StallSpeedFullwBombs,this.cards.acft_data.full_bomb_speed=e.MaxSpeedwBombs,this.cards.acft_data.full_boost=e.BoostFull,this.cards.acft_data.full_hand=e.HandlingFull,this.cards.acft_data.full_climb=e.RateOfClimbFull,this.cards.acft_data.full_stall=e.StallSpeedFull,this.cards.acft_data.full_speed=Math.floor(1e-6+e.MaxSpeedFull),this.cards.acft_data.half_bomb_boost=Math.floor((e.BoostFullwBombs+e.BoostEmpty)/2),this.cards.acft_data.half_bomb_hand=Math.floor((e.HandlingFullwBombs+e.HandlingEmpty)/2),this.cards.acft_data.half_bomb_climb=Math.floor(1e-6+(e.RateOfClimbEmpty+e.RateOfClimbwBombs)/2),this.cards.acft_data.half_bomb_stall=Math.floor((e.StallSpeedFullwBombs+e.StallSpeedEmpty)/2),this.cards.acft_data.half_bomb_speed=Math.floor(1e-6+(e.MaxSpeedEmpty+e.MaxSpeedwBombs)/2),this.cards.acft_data.half_boost=Math.floor((e.BoostFull+e.BoostEmpty)/2),this.cards.acft_data.half_hand=Math.floor((e.HandlingFull+e.HandlingEmpty)/2),this.cards.acft_data.half_climb=Math.floor(1e-6+(e.RateOfClimbEmpty+e.RateOfClimbFull)/2),this.cards.acft_data.half_stall=Math.floor((e.StallSpeedFull+e.StallSpeedEmpty)/2),this.cards.acft_data.half_speed=Math.floor(1e-6+(e.MaxSpeedEmpty+e.MaxSpeedFull)/2),this.cards.acft_data.max_strain=e.MaxStrain;const s=[],i=this.acft.GetMunitions().GetBombCount(),a=this.acft.GetMunitions().GetRocketCount();var n=this.acft.GetMunitions().GetInternalBombCount();if(i>0){const t=Math.min(i,n),e=Math.max(0,i-t);if(t>0&&s.push(h(" Bomb Mass Internally.",t)),e>0&&s.push(h(" Bomb Mass Externally.",e)),t>0){const e=Math.min(t,this.acft.GetMunitions().GetMaxBombSize());s.push(h("Largest Internal Bomb",e.toString()))}n-=t}if(a>0){const t=Math.min(a,n),e=Math.max(0,a-t);t>0&&s.push(h(" Rocket Mass Internally.",t)),e>0&&s.push(h(" Rocket Mass Externally.",e))}this.cards.acft_data.ordinance=s,this.cards.acft_data.stability=e.Stabiilty,this.cards.acft_data.stress=this.acft.GetCockpits().GetStressList()[0][0],this.cards.acft_data.toughness=e.Toughness,this.cards.acft_data.turn_bleed=e.TurnBleed,this.cards.acft_data.visibility=this.acft.GetCockpits().GetVisibilityList()[0],this.cards.acft_data.vital_parts=this.acft.VitalComponentList(),this.cards.acft_data.warnings=t.warnings}UpdateWeaponCard(t){const e=this.acft.GetWeapons().GetWeaponList(),s=this.acft.GetWeapons().GetDirectionList();var i=Lt(t,e);t.IsPlural()&&(i=t.GetWeaponCount().toString()+"x "+i);const a=t.GetDirection();var n="";n+="[";for(let t=0;t<s.length;t++)a[t]&&(n+=h(s[t])+" ");n=n.substr(0,n.length-1),n+="] ";const r=t.GetFinalWeapon();this.cards.weap_data.ammo=t.GetShots(),this.cards.weap_data.ap=r.ap,this.cards.weap_data.hits=t.GetHits(),"PR"==e[t.GetWeaponSelected()].abrv?this.cards.weap_data.damage=[5,5,5,5]:this.cards.weap_data.damage=[r.damage*this.cards.weap_data.hits[0],r.damage*this.cards.weap_data.hits[1],r.damage*this.cards.weap_data.hits[2],r.damage*this.cards.weap_data.hits[3]],this.cards.weap_data.jam=t.GetJam(),this.cards.weap_data.tags=[n],this.cards.weap_data.type=i,this.cards.weap_data.abrv=r.abrv,this.cards.weap_data.reload=r.reload,this.cards.weap_data.tags.concat(Ht(t))}UpdateEngineCard(t){const e=t.GetCurrentStats();if(this.cards.eng_data.reliability=t.GetReliability(),this.cards.eng_data.overspeed=t.GetOverspeed(),this.cards.eng_data.altitude=e.altitude,t.NeedCooling()?this.cards.eng_data.radiator=t.GetRadiator():this.cards.eng_data.radiator=-1,this.cards.eng_data.notes=[],e.pulsejet){if(this.cards.eng_data.notes.push(h("Pulsejet")),""!=t.GetSelectedList()){const s=T().get(t.GetSelectedList()).get_name(e.name);s.power>0&&s.starter&&this.cards.eng_data.notes.push(h("Starter"))}}else if(t.IsRotary()&&t.IsTractor()?this.cards.eng_data.notes.push(h("Turns Right")):t.IsRotary()&&t.IsPusher()&&this.cards.eng_data.notes.push(h("Turns Left")),""!=t.GetSelectedList()){const s=T().get(t.GetSelectedList()).get_name(e.name);this.cards.eng_data.min_IAF=s.min_IdealAlt,s.upgrades[1]?this.cards.eng_data.notes.push(h("War Emergency Power")):s.compressor_count>0&&1==s.compressor_type&&this.cards.eng_data.notes.push(h("War Emergency Power from altitudes 0-9"))}}UpdateRadiatorCard(t){this.cards.rad_data.mount_type=h(t.GetMountList()[t.GetMountIndex()].name),this.cards.rad_data.coolant_type=h(t.GetCoolantList()[t.GetCoolantIndex()].name)}LoadJSON(t){if(0==t.files.length)return;const e=t.files[0],s=new FileReader;s.onloadend=()=>{try{var t=JSON.parse(s.result);new qt(this.parts_JSON,!1).fromJSON(t)&&(t=JSON.parse(s.result),console.log(t),this.acft.fromJSON(t),this.derived.SetName(this.acft.name),this.acft.CalculateStats(),this.SetCollapse())}catch(t){console.error(t,t.stack)}},s.readAsText(e),t.value=""}CatalogStats(){this.acft.name=this.derived.GetName();const t=this.acft.GetStats(),e=this.acft.GetDerivedStats();var s=this.MakeLink()+"\n";s+=this.acft.name+"\n",s+="Insert Nickname Here\n",s+=n.Format("{0}þ New, {1}þ Used\n",t.cost,Math.floor(1e-6+t.cost/2)),s+=n.Format("{0}þ Upkeep\n\n",t.upkeep),t.bomb_mass>0&&(s+=n.Format("Full Load\t{0}\t{1}\t{2}\t{3}\t{4}\n",e.BoostFullwBombs,e.HandlingFullwBombs,e.RateOfClimbwBombs,e.StallSpeedFullwBombs,e.MaxSpeedwBombs),s+=n.Format("½, Bombs\t{0}\t{1}\t{2}\t{3}\t{4}\n",Math.floor(1e-6+(e.BoostEmpty+e.BoostFullwBombs)/2),Math.floor(1e-6+(e.HandlingEmpty+e.HandlingFullwBombs)/2),Math.floor(1e-6+(e.RateOfClimbEmpty+e.RateOfClimbwBombs)/2),Math.floor(1e-6+(e.StallSpeedEmpty+e.StallSpeedFullwBombs)/2),Math.floor(1e-6+(e.MaxSpeedEmpty+e.MaxSpeedwBombs)/2))),s+=n.Format("Full Fuel\t{0}\t{1}\t{2}\t{3}\t{4}\n",e.BoostFull,e.HandlingFull,e.RateOfClimbFull,e.StallSpeedFull,e.MaxSpeedFull),s+=n.Format("Half Fuel\t{0}\t{1}\t{2}\t{3}\t{4}\n",Math.floor(1e-6+(e.BoostEmpty+e.BoostFull)/2),Math.floor(1e-6+(e.HandlingEmpty+e.HandlingFull)/2),Math.floor(1e-6+(e.RateOfClimbEmpty+e.RateOfClimbFull)/2),Math.floor(1e-6+(e.StallSpeedEmpty+e.StallSpeedFull)/2),Math.floor(1e-6+(e.MaxSpeedEmpty+e.MaxSpeedFull)/2)),s+=n.Format("Empty\t\t{0}\t{1}\t{2}\t{3}\t{4}\n","-",e.HandlingEmpty,"-",e.StallSpeedEmpty,0),s+="\nVital Parts\n",s+=n.Join(", ",this.acft.VitalComponentList()),s+="\n\n",s+=n.Format("Dropoff {0}, Reliability {1}, Overspeed {2}, Ideal Alt. {3}, Fuel {4}\n\n",e.Dropoff,n.Join("/",this.acft.GetReliabilityList()),e.Overspeed,this.acft.GetMinAltitude().toString()+"-"+this.acft.GetMaxAltitude().toString(),e.FuelUses),0==t.bomb_mass?s+=n.Format("Visibility {0}, Stability {1}, Energy Loss {2}, Turn Bleed {3}\n\n",n.Join("/",this.acft.GetVisibilityList()),e.Stabiilty,e.EnergyLoss,e.TurnBleed):s+=n.Format("Visibility {0}, Stability {1}, Energy Loss {2}, Turn Bleed {3} ({4})\n\n",n.Join("/",this.acft.GetVisibilityList()),e.Stabiilty,e.EnergyLoss,e.TurnBleed,e.TurnBleedwBombs),s+=n.Format("Toughness {0}, Max Strain {1}, Escape {2}, Crash Safety {3}, Flight Stress {4}\n\n",e.Toughness,e.MaxStrain,n.Join("/",this.acft.GetEscapeList()),n.Join("/",this.acft.GetCrashList()),g(this.acft.GetStressList()));const i=this.acft.GetWeapons().GetWeaponList(),a=this.acft.GetWeapons().GetDirectionList(),r=this.acft.GetMunitions().GetBombCount(),o=this.acft.GetMunitions().GetRocketCount();var l=this.acft.GetMunitions().GetInternalBombCount();if(r>0){const t=Math.min(r,l),e=Math.max(0,r-t);t>0&&(s+=h(" Bomb Mass Internally.",t)),e>0&&(s+=h(" Bomb Mass Externally.",e)),t>0&&(s+=h("Largest Internal Bomb",Math.min(t,this.acft.GetMunitions().GetMaxBombSize()).toString())),l-=t,s+="\n"}if(o>0){const t=Math.min(o,l),e=Math.max(0,o-t);t>0&&(s+=h(" Rocket Mass Internally.",t)),e>0&&(s+=h(" Rocket Mass Externally.",e)),s+="\n"}const c=this.acft.GetWeapons().GetWeaponSets();for(let t=0;t<c.length;t++)s+=Ut(c[t],i,a)+"\n";for(let e of t.warnings)s+=e.source+":  "+e.warning+"\n";ft(s,this.acft.name+"_"+this.acft.GetVersion()+".txt","txt")}LoadText(t){try{const e=JSON.parse(t.value);new qt(this.parts_JSON,!1).fromJSON(e)&&(this.acft.fromJSON(e),this.derived.SetName(this.acft.name),this.acft.CalculateStats(),this.SetCollapse())}catch{Tt(t.parentElement)}finally{t.value=""}}SaveJSON(){this.acft.name=this.derived.GetName(),ft(JSON.stringify(this.acft.toJSON()),this.acft.name+"_"+this.acft.GetVersion()+".json","json")}MakeLink(){this.acft.name=this.derived.GetName();const t=new _;this.acft.serialize(t);const e=function(t){let e="";const s=new Uint8Array(t),i=s.byteLength;for(let t=0;t<i;t++)e+=String.fromCharCode(s[t]);return e}(t.FinalArray()),s=ge.compressToEncodedURIComponent(e);return location.protocol+"//"+location.host+location.pathname+"?json="+s}SaveLink(){!function(t){const e=document.createElement("textarea");e.value=t,e.setAttribute("readonly",""),e.style.position="absolute",e.style.left="-9999px",document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e)}(this.MakeLink())}SaveDash(){this.UpdateCard(),this.cards.SaveDash();const t=this.acft.GetWeapons().GetWeaponSets();for(let e=0;e<t.length;e++)this.UpdateWeaponCard(t[e]),this.cards.SaveWeapon(e);for(let t=0;t<this.acft.GetEngines().GetNumberOfEngines();t++){let e=this.acft.GetEngines().GetEngine(t);if(this.UpdateEngineCard(e),e.GetUsePushPull()){const e=this.cards.eng_data.reliability.split("/");this.cards.eng_data.reliability=e[0].toString(),this.cards.SaveEngine(t,me.PULLER),this.cards.eng_data.reliability=e[0].toString(),this.cards.SaveEngine(t,me.PUSHER)}else this.cards.SaveEngine(t)}for(let t=0;t<this.acft.GetEngines().GetNumberOfRadiators();t++)this.UpdateRadiatorCard(this.acft.GetEngines().GetRadiator(t)),this.cards.SaveRadiator(t)}SaveInteractive(){const t="https://tetragramm.github.io/InteractiveDash/index.html?json="+btoa(this.InteractiveDash());window.open(t,"_blank")}InteractiveDash(){this.acft.name=this.derived.GetName();const t=this.acft.GetStats(),e=this.acft.GetDerivedStats(),s=this.acft.VitalComponentList();for(var i=!1;s.length>10;)s.pop(),i=!0;for(i&&(s.pop(),s.push("And More. See Plane Builder for full list."));s.length<10;)s.push("");const a=this.acft.GetAccessories().GetEffectiveCoverage();var n="";for(let t=0;t<a.length;++t){let e=t+1;a[t]>0&&(n+=""!=n?", ":h("Armour")+" ",n+=e.toString()+"/+"+(11-a[t]).toString())}const r=[],o=this.acft.GetMunitions().GetBombCount(),l=this.acft.GetMunitions().GetRocketCount();var c=this.acft.GetMunitions().GetInternalBombCount();if((o>0||l>0)&&r.push("Current load here."),o>0){const t=Math.min(o,c),e=Math.max(0,o-t);if(t>0&&r.push(h(" Bomb Mass Internally.",t)),e>0&&r.push(h(" Bomb Mass Externally.",e)),t>0){const e=Math.min(t,this.acft.GetMunitions().GetMaxBombSize());r.push(h("Largest Internal Bomb",e.toString()))}c-=t}if(l>0){const t=Math.min(l,c),e=Math.max(0,l-t);t>0&&r.push(h(" Rocket Mass Internally.",t)),e>0&&r.push(h(" Rocket Mass Externally.",e))}for(;r.length<5;)r.push("");var u="";for(let e of t.warnings)u+=e.source+": "+e.warning+"\n";const m={altitude:0,airspeed:0,fuel:e.FuelUses,dropoff:e.Dropoff,visibility:this.acft.GetCockpits().GetCockpit(0).GetVisibility(),energy_loss:e.EnergyLoss,turn_bleed:e.TurnBleed,stability:e.Stabiilty,stress:this.acft.GetCockpits().GetCockpit(0).GetFlightStress()[0],plane_escape:this.acft.GetCockpits().GetCockpit(0).GetEscape(),crash:this.acft.GetCockpits().GetCockpit(0).GetCrash(),max_toughness:e.Toughness,current_toughness:e.Toughness,max_strain:e.MaxStrain,current_strain:e.MaxStrain,g_force:0,kills:0,full_load_boost:e.BoostFullwBombs,full_load_handling:e.HandlingFullwBombs,full_load_climb:e.RateOfClimbwBombs,full_load_stall:e.StallSpeedFullwBombs,full_load_speed:e.MaxSpeedwBombs,half_fuel_bombs_boost:Math.floor((e.BoostFullwBombs+e.BoostEmpty)/2),half_fuel_bombs_handling:Math.floor((e.HandlingFullwBombs+e.HandlingEmpty)/2),half_fuel_bombs_climb:Math.floor(1e-6+(e.RateOfClimbEmpty+e.RateOfClimbwBombs)/2),half_fuel_bombs_stall:Math.floor((e.StallSpeedFullwBombs+e.StallSpeedEmpty)/2),half_fuel_bombs_speed:Math.floor(1e-6+(e.MaxSpeedEmpty+e.MaxSpeedwBombs)/2),full_fuel_no_bombs_boost:e.BoostFull,full_fuel_no_bombs_handling:e.HandlingFull,full_fuel_no_bombs_climb:e.RateOfClimbFull,full_fuel_no_bombs_stall:e.StallSpeedFull,full_fuel_no_bombs_speed:Math.floor(1e-6+e.MaxSpeedFull),half_fuel_no_bombs_boost:Math.floor((e.BoostFull+e.BoostEmpty)/2),half_fuel_no_bombs_handling:Math.floor((e.HandlingFull+e.HandlingEmpty)/2),half_fuel_no_bombs_climb:Math.floor(1e-6+(e.RateOfClimbEmpty+e.RateOfClimbFull)/2),half_fuel_no_bombs_stall:Math.floor((e.StallSpeedFull+e.StallSpeedEmpty)/2),half_fuel_no_bombs_speed:Math.floor(1e-6+(e.MaxSpeedEmpty+e.MaxSpeedFull)/2),empty_boost:0,empty_handling:e.HandlingEmpty,empty_climb:0,empty_stall:e.StallSpeedEmpty,empty_speed:0,vital_part_1:s[0],vital_part_2:s[1],vital_part_3:s[2],vital_part_4:s[3],vital_part_5:s[4],vital_part_6:s[5],vital_part_7:s[6],vital_part_8:s[7],vital_part_9:s[8],vital_part_10:s[9],armor:n,max_bomb_load:r[0],ordinance_1:r[1],ordinance_2:r[2],ordinance_3:r[3],ordinance_4:r[4],notes:u,full_load_selected:!0,half_fuel_bombs_selected:!1,full_fuel_no_bombs_selected:!1,half_fuel_no_bombs_selected:!1,empty_selected:!1,engines:this.InteractiveEngines(),weapons:this.InteractiveWeapons()};return JSON.stringify(m)}InteractiveEngines(){const t=[];for(let e=0;e<this.acft.GetEngines().GetNumberOfEngines();e++){let s=this.acft.GetEngines().GetEngine(e),i={rpm:0,wear:0,reliability:s.GetReliability(),ideal_altitide:s.GetMaxAltitude(),overspeed:s.GetOverspeed(),notes:""};const a=s.GetCurrentStats(),r=[];if(a.pulsejet){r.push(h("Pulsejet"));const t=T().get(s.GetSelectedList()).get_name(a.name);t.power>0&&t.starter&&r.push(h("Starter"))}else{s.IsRotary()&&s.IsTractor()?r.push(h("Turns Right")):s.IsRotary()&&s.IsPusher()&&r.push(h("Turns Left"));const t=T().get(s.GetSelectedList()).get_name(a.name);t.upgrades[1]?r.push(h("War Emergency Power")):t.compressor_count>0&&1==t.compressor_type&&r.push(h("War Emergency Power from altitudes 0-9"))}if(i.notes=n.Join(", ",r),s.GetUsePushPull()){const e=i.reliability.split("/");i.reliability=e[0].toString(),t.push(JSON.stringify(i)),i.reliability=e[0].toString(),t.push(JSON.stringify(i))}else t.push(JSON.stringify(i))}return t}InteractiveWeapons(){const t=[];for(let s of this.acft.GetWeapons().GetWeaponSets()){const i=this.acft.GetWeapons().GetWeaponList(),a=s.GetHits(),r=[];"PR"==i[s.GetWeaponSelected()].abrv?(r.push(5),r.push(5),r.push(5),r.push(5)):(r.push(Math.floor(1e-6+i[s.GetWeaponSelected()].damage*a[0])),r.push(Math.floor(1e-6+i[s.GetWeaponSelected()].damage*a[1])),r.push(Math.floor(1e-6+i[s.GetWeaponSelected()].damage*a[2])),r.push(Math.floor(1e-6+i[s.GetWeaponSelected()].damage*a[3])));const o=s.GetFinalWeapon(),l=[];let c={type:Lt(s,i),ammo:s.GetShots(),ap:o.ap,jam:s.GetJam(),knife_hits:a[0],close_hits:a[1],long_hits:a[2],extreme_hits:a[3],knife_damage:r[0],close_damage:r[1],long_damage:r[2],extreme_damage:r[3],tags:""};const u=this.acft.GetWeapons().GetDirectionList();s.IsPlural()&&(c.type=s.GetWeaponCount().toString()+"x "+c.type);const m=s.GetDirection();var e="";e+="[";for(let t=0;t<u.length;t++)m[t]&&(e+=h(u[t])+" ");e=e.substr(0,e.length-1),e+="]",l.push(e),l.concat(Ht(s)),c.tags=n.Join(", ",l),t.push(JSON.stringify(c))}return t}SaveNPC(){this.UpdateCard(),this.cards.lowest_overspeed=-1;for(let t=0;t<this.acft.GetEngines().GetNumberOfEngines();t++){const e=this.acft.GetEngines().GetEngine(t);(e.GetOverspeed()<this.cards.lowest_overspeed||this.cards.lowest_overspeed<0)&&(this.cards.lowest_overspeed=e.GetOverspeed())}this.cards.all_weapons=[];const t=this.acft.GetWeapons().GetWeaponSets();for(let e=0;e<t.length;e++)this.UpdateWeaponCard(t[e]),this.cards.all_weapons.push(Object.assign({},this.cards.weap_data));this.cards.SaveNPC()}InitStats(t){const e=document.createDocumentFragment();var s=xt(e);yt(s,h("Stat Lift Bleed")),yt(s,h("Stat Drag")),yt(s,h("Stat Mass")),yt(s,h("Stat Wet Mass")),yt(s,h("Stat Bomb Mass")),yt(s,h("Stat Cost")),yt(s,h("Stat Upkeep")),s=xt(e),this.d_lift=s.insertCell(),this.d_drag=s.insertCell(),this.d_mass=s.insertCell(),this.d_wmas=s.insertCell(),this.d_bmas=s.insertCell(),this.d_cost=s.insertCell(),this.d_upkp=s.insertCell(),yt(s=xt(e),h("Stat Control")),yt(s,h("Stat Pitch Stability")),yt(s,h("Stat Lateral Stability")),yt(s,h("Stat Wing Area")),yt(s,h("Stat Raw Strain")),yt(s,h("Stat Structure")),yt(s,h("Stat Toughness")),s=xt(e),this.d_cont=s.insertCell(),this.d_pstb=s.insertCell(),this.d_lstb=s.insertCell(),this.d_wara=s.insertCell(),this.d_mstr=s.insertCell(),this.d_strc=s.insertCell(),this.d_tugh=s.insertCell(),yt(s=xt(e),h("Stat Power")),yt(s,h("Stat Fuel Consumption")),yt(s,h("Stat Fuel")),yt(s,h("Stat Pitch Speed")),yt(s,h("Stat Pitch Boost")),yt(s,h("Stat Charge")),yt(s,h("Stat Crash Safety")),s=xt(e),this.d_powr=s.insertCell(),this.d_fcom=s.insertCell(),this.d_fuel=s.insertCell(),this.d_pspd=s.insertCell(),this.d_pbst=s.insertCell(),this.d_chrg=s.insertCell(),this.d_crsh=s.insertCell(),t.appendChild(e)}InitDerived(t){this.derived=new ce(t)}UpdateStats(t){const e=n.Format("{0} + {1} ({2}/5)",t.drag,Math.floor(1e-6+t.mass/5),(t.drag+Math.floor(1e-6+t.mass/5))%5),s=n.Format("{0} ({1}/5)",t.mass,t.mass%5);Dt(this.d_lift,t.liftbleed.toString(),!1),Dt(this.d_drag,e),Dt(this.d_mass,s),Dt(this.d_wmas,t.wetmass.toString(),!1),Dt(this.d_bmas,t.bomb_mass.toString(),!1),Dt(this.d_cost,t.cost.toString(),!1),Dt(this.d_upkp,t.upkeep.toString(),!1),Dt(this.d_cont,t.control.toString(),!0),Dt(this.d_pstb,t.pitchstab.toString(),!0),Dt(this.d_lstb,t.latstab.toString(),!0),Dt(this.d_powr,t.power.toString(),!0),Dt(this.d_fcom,t.fuelconsumption.toString(),!1),Dt(this.d_fuel,t.fuel.toString(),!0),Dt(this.d_pspd,(Math.round(10*t.pitchspeed)/10).toString(),!0),Dt(this.d_pbst,(Math.round(10*t.pitchboost)/10).toString(),!0),Dt(this.d_wara,t.wingarea.toString(),!0),Dt(this.d_mstr,t.maxstrain.toString(),!0),Dt(this.d_strc,t.structure.toString(),!0),Dt(this.d_tugh,t.toughness.toString(),!0),Dt(this.d_chrg,t.charge.toString(),!0),Dt(this.d_crsh,t.crashsafety.toString(),!0)}UpdateDerived(t,e){this.derived.GetName()!=h("Derived Aircraft Name")&&(this.acft.name=this.derived.GetName()),this.derived.UpdateDisplay(this.acft,t,e),this.altitude.UpdateDisplay(this.acft,e)}SetCollapse(){this.alter.SetCollapse(),this.controlsurfaces.SetCollapse(),this.gear.SetCollapse(),this.optimization.SetCollapse(),this.passengers.SetCollapse(),this.stabilizers.SetCollapse(),this.used.SetCollapse()}UpdateDisplay(){const t=this.acft.GetStats(),e=this.acft.GetDerivedStats();let s=this.acft.GetAircraftType();s>=1&&(s-=1),this.acft_type.selectedIndex=s,this.era.UpdateDisplay(),this.cockpits.UpdateDisplay(),this.passengers.UpdateDisplay(),this.engines.UpdateDisplay(),this.propeller.UpdateDisplay(),this.frames.UpdateDisplay(),this.wings.UpdateDisplay(),this.stabilizers.UpdateDisplay(),this.controlsurfaces.UpdateDisplay(),this.reinforcements.UpdateDisplay(),this.reinforcements.UpdateMaxStrain(e.MaxStrain),this.load.UpdateDisplay(),this.load.UpdateFuelUses(t.fuel/t.fuelconsumption),this.gear.UpdateDisplay(),this.accessories.UpdateDisplay(),this.optimization.UpdateDisplay(),this.weapons.UpdateDisplay(),this.used.UpdateDisplay(),this.rotor.UpdateDisplay(),this.alter.UpdateDisplay(),this.UpdateStats(t),this.UpdateDerived(t,e)}}function fe(){be(),Be().hash&&(Ne.forEach(Se),xe?.observe(document,ve),Ae(),Fe=setTimeout(be,De))}function be(){clearTimeout(Fe),cancelAnimationFrame(Te),xe?.disconnect(),Ne.forEach(ye)}function Se(t){document.addEventListener(t,be)}function ye(t){document.removeEventListener(t,be)}function we(t){if(t.defaultPrevented)return;const e=function(t){let e=t;for(;e&&"A"!==e.nodeName;)e=e.parentElement;return e}(t.target);e&&e.hash&&e.pathname===Be().pathname&&Pe(fe)}function Ce(){Pe(Ae)}function Ae(){const t=Be().hash;if(!t)return;const e=decodeURIComponent(t.substring(1)),s=Ge.call(null,e);s&&Re.call(null,s)}function Be(){return location}function Ee(t){return document.getElementById(t)}function Me(t){t.scrollIntoView()}function Pe(t){cancelAnimationFrame(Te),Te=requestAnimationFrame(t)}let Ge,Re,Ie,xe,Fe,Te;const ve={attributes:!0,characterData:!0,childList:!0,subtree:!0},De=1e4,Ne=["selectstart","touchend","wheel"],ke=JSON.parse('{"version":"12.5","era":{"options":[{"name":"Pioneer","liftbleed":30,"maxbomb":0.166666666666,"cost":-2,"cant_lift":4,"pitchstab":0},{"name":"WWI","liftbleed":25,"maxbomb":0.2,"cant_lift":3,"pitchstab":0,"cost":0},{"name":"Roaring 20s","liftbleed":22,"maxbomb":0.25,"cost":5,"cant_lift":1,"pitchstab":0},{"name":"Coming Storm","liftbleed":22,"maxbomb":0.333333333333,"cost":10,"cant_lift":0,"pitchstab":2},{"name":"WWII","liftbleed":20,"maxbomb":0.333333333333,"cost":15,"cant_lift":0,"pitchstab":2},{"name":"Last Hurrah","liftbleed":18,"maxbomb":0.5,"cost":20,"cant_lift":0,"pitchstab":2}]},"cockpit":{"options":[{"name":"Open","era":"Pioneer","mass":1,"drag":3,"control":0,"escape":2,"cost":0,"flightstress":0,"visibility":1,"exposed":true,"warning":""},{"name":"Windscreen","era":"Pioneer","mass":2,"drag":1,"control":0,"escape":2,"cost":1,"flightstress":0,"visibility":1,"exposed":true,"warning":""},{"name":"Sealed","era":"Pioneer","mass":2,"drag":0,"control":0,"escape":-3,"cost":1,"flightstress":-1,"visibility":-99,"warning":"Sealed Warning","exposed":false},{"name":"Narrow Canopy","era":"WWI","mass":3,"drag":0,"control":0,"escape":0,"cost":3,"flightstress":-1,"visibility":-1,"exposed":false,"warning":""},{"name":"Bubble Canopy","era":"WWII","mass":3,"drag":-3,"control":0,"escape":0,"cost":8,"flightstress":-1,"visibility":0,"exposed":false,"warning":""}],"upgrades":[{"name":"Co-Pilot Controls","era":"Pioneer","mass":0,"drag":0,"control":0,"escape":0,"cost":1,"flightstress":-2,"visibility":0,"warning":"","charge":0},{"name":"Escape Hatch","era":"Pioneer","mass":1,"drag":0,"control":0,"escape":3,"cost":2,"flightstress":0,"visibility":0,"warning":"","charge":0},{"name":"Ejection Seat","era":"Last Hurrah","mass":2,"drag":0,"control":0,"escape":5,"cost":4,"flightstress":0,"visibility":0,"warning":"","charge":0},{"name":"Connectivity","era":"Pioneer","mass":1,"drag":0,"control":0,"escape":0,"cost":0,"flightstress":0,"visibility":0,"warning":"","charge":0},{"name":"Oxygen Mask","era":"WWI","warning":"Oxygen Mask Warning","mass":0,"drag":0,"control":0,"escape":0,"charge":-1,"cost":2,"flightstress":0,"visibility":0},{"name":"Isolated","era":"Pioneer","mass":1,"drag":5,"control":0,"escape":-2,"cost":1,"flightstress":1,"visibility":2,"warning":"Isolated Warning","charge":0}],"safety":[{"name":"Padding","era":"Pioneer","cost":1,"warning":"Injury Reduction Warning","charge":0,"escape":0,"visibility":0,"mass":0},{"name":"Harness","era":"Pioneer","escape":-1,"cost":1,"warning":"Injury Reduction Warning","charge":0,"visibility":0,"mass":0},{"name":"Fast Release System","era":"Coming Storm","escape":2,"cost":1,"warning":"","charge":0,"visibility":0,"mass":0},{"name":"Roll Bar","era":"WWI","mass":2,"warning":"Injury Reduction Warning","charge":0,"escape":0,"visibility":0,"cost":0},{"name":"Flare Slot","era":"Roaring 20s","cost":1,"warning":"Flare Slot Warning","charge":0,"escape":0,"visibility":0,"mass":0},{"name":"Basic Fan","era":"Pioneer","charge":1e-9,"visibility":-1,"warning":"Basic Fan Warning","escape":0,"mass":0,"cost":0}],"gunsights":[{"name":"X1 Collimated Gunsight","era":"WWI","visibility":-1,"attack":1,"cost":2,"warning":"X1 Collimated Gunsight Warning","charge":0},{"name":"Telescopic Gunsight","era":"WWI","visibility":-1,"attack":0,"cost":3,"warning":"Telescopic Gunsight Warning","charge":0},{"name":"Illuminated Reflex Sight","era":"WWI","visibility":-1,"attack":2,"charge":1e-9,"cost":6,"warning":"Illuminated Reflex Sight Warning"},{"name":"Gyro Gunsight","era":"WWII","visibility":-1,"attack":2,"charge":1e-9,"cost":12,"warning":"Gyro Gunsight Warning"}]},"passengers":{},"engines":{"mounts":[{"name":"Tractor","era":"Pioneer","drag":0,"reqsections":1,"pitchstab":0,"visibility":0,"liftbleed":0,"strainfactor":0,"dragfactor":0,"location":"fuselage","powerfactor":1,"helicopter":false,"pushpull":false,"turbine":false,"reqTail":false,"escape":0,"reqED":false},{"name":"Center-Mounted Tractor","era":"Pioneer","drag":0,"reqsections":1,"pitchstab":-2,"visibility":1,"liftbleed":0,"strainfactor":0,"dragfactor":0,"location":"fuselage","reqED":true,"powerfactor":1,"helicopter":false,"pushpull":false,"turbine":false,"reqTail":false,"escape":0},{"name":"Rear-Mounted Pusher","era":"Pioneer","drag":0,"reqsections":1,"pitchstab":-4,"visibility":2,"liftbleed":0,"strainfactor":0,"dragfactor":0,"escape":-2,"location":"fuselage","powerfactor":1,"helicopter":false,"pushpull":false,"turbine":false,"reqTail":false,"reqED":false},{"name":"Center-Mounted Pusher","era":"Pioneer","drag":0,"reqsections":1,"pitchstab":-2,"visibility":2,"liftbleed":0,"strainfactor":0,"dragfactor":0,"escape":-2,"location":"fuselage","reqTail":true,"powerfactor":1,"helicopter":false,"pushpull":false,"turbine":false,"reqED":false},{"name":"Pod","era":"Pioneer","drag":5,"reqsections":1,"pitchstab":0,"visibility":-2,"liftbleed":0,"strainfactor":0,"dragfactor":0,"location":"pod","powerfactor":0.9,"helicopter":false,"pushpull":true,"turbine":false,"reqTail":false,"escape":0,"reqED":false},{"name":"Nacelle (Inside)","era":"Pioneer","drag":0,"reqsections":0,"pitchstab":0,"visibility":0,"liftbleed":1,"strainfactor":0.5,"dragfactor":0,"location":"wing","powerfactor":0.8,"helicopter":false,"pushpull":true,"turbine":false,"reqTail":false,"escape":0,"reqED":false},{"name":"Nacelle (Offset)","era":"Pioneer","drag":0,"reqsections":0,"pitchstab":0,"visibility":0,"liftbleed":0,"strainfactor":0,"dragfactor":1,"location":"wing","powerfactor":0.8,"helicopter":false,"pushpull":true,"turbine":false,"reqTail":false,"escape":0,"reqED":false},{"name":"Channel Tractor","era":"Pioneer","drag":0,"reqsections":0,"pitchstab":0,"visibility":0,"liftbleed":-1,"strainfactor":1,"dragfactor":0,"location":"wing","powerfactor":0.9,"helicopter":false,"pushpull":true,"turbine":false,"reqTail":false,"escape":0,"reqED":false},{"name":"Fuselage Push-Pull","era":"Pioneer","reqsections":2,"pitchstab":-2,"escape":-2,"strainfactor":0,"dragfactor":0,"location":"fuselage","powerfactor":0.9,"helicopter":false,"pushpull":true,"turbine":false,"reqTail":false,"liftbleed":0,"visibility":0,"drag":0,"reqED":false},{"name":"Front Intake","era":"Pioneer","strainfactor":0,"dragfactor":0,"location":"fuselage","powerfactor":1,"helicopter":false,"pushpull":false,"turbine":true,"reqTail":false,"liftbleed":0,"escape":0,"visibility":0,"reqsections":0,"drag":0,"pitchstab":0,"reqED":false},{"name":"Wing Pod","era":"Pioneer","liftbleed":1,"strainfactor":0.5,"dragfactor":0,"location":"wing","powerfactor":1,"helicopter":false,"pushpull":false,"turbine":true,"reqTail":false,"escape":0,"visibility":0,"reqsections":0,"drag":0,"pitchstab":0,"reqED":false},{"name":"Underwing Pod","era":"Pioneer","drag":3,"visibility":-1,"strainfactor":0,"dragfactor":0,"location":"wing","powerfactor":1,"helicopter":false,"pushpull":false,"turbine":true,"reqTail":false,"liftbleed":0,"escape":0,"reqsections":0,"pitchstab":0,"reqED":false}],"radiator-type":[{"name":"Panel","era":"Pioneer","drag":0,"mass":0,"cost":0,"cooling":0,"dragpercool":0.5,"warning":""},{"name":"Box","era":"Pioneer","drag":2,"mass":-1,"cost":0,"cooling":0,"dragpercool":0.5,"warning":""},{"name":"Intake","era":"Roaring 20s","drag":0,"mass":0,"cost":3,"cooling":2,"dragpercool":0.5,"warning":""},{"name":"Evaporation","era":"Coming Storm","warning":"Evaporation Warning","drag":0,"mass":0,"cost":0,"cooling":0,"dragpercool":0}],"radiator-mount":[{"name":"Low","era":"Pioneer","warning":"Low Warning","reliability":1,"drag":0,"latstab":0},{"name":"Inline","era":"Pioneer","reliability":0,"drag":0,"latstab":0,"warning":""},{"name":"High","era":"Pioneer","warning":"High Warning","reliability":0,"drag":1,"latstab":0},{"name":"High Offset","era":"WWI","warning":"High Offset Warning","reliability":0,"drag":1,"latstab":-1}],"radiator-coolant":[{"name":"Water","era":"Pioneer","cost":0,"harden":false,"reliability":0,"flammable":false,"warning":""},{"name":"Salt Water","era":"Pioneer","cost":1,"harden":true,"reliability":1,"flammable":false,"warning":""},{"name":"Mineral Oil","era":"Pioneer","warning":"Mineral Oil Warning","cost":1,"harden":true,"reliability":0,"flammable":true},{"name":"Castor Oil","era":"Pioneer","warning":"Castor Oil Warning","cost":0,"harden":false,"reliability":0,"flammable":true},{"name":"Glycol","era":"Roaring 20s","reliability":2,"harden":false,"cost":2,"flammable":false,"warning":""},{"name":"Freon","era":"Coming Storm","warning":"Freon Warning","reliability":4,"harden":false,"cost":3,"flammable":false},{"name":"Ammonia","era":"Pioneer","warning":"Ammonia Warning","reliability":4,"harden":false,"cost":2,"flammable":false}],"cowling":[{"name":"No Cowling","era":"Pioneer","ed":1,"mpd":0,"air":true,"liquid":true,"rotary":true,"reliability":0,"mass":0,"cost":0},{"name":"Basic Cowl","era":"Pioneer","mass":1,"cost":1,"ed":0.8,"mpd":0,"air":true,"liquid":false,"rotary":false,"reliability":0},{"name":"Rotary Basic Cowl","era":"Pioneer","mass":1,"cost":1,"ed":0.4,"mpd":0,"air":false,"liquid":false,"rotary":true,"reliability":0},{"name":"Closed Cowl","era":"WWI","mass":1,"cost":1,"reliability":-1,"ed":0.3,"mpd":0,"air":false,"liquid":false,"rotary":true},{"name":"Adjustable Slat Cowl","era":"Coming Storm","mass":2,"reliability":2,"cost":2,"ed":0.5,"mpd":0,"air":true,"liquid":false,"rotary":true},{"name":"Foil Cowl","era":"Roaring 20s","mass":2,"reliability":3,"cost":3,"ed":0.4,"mpd":0,"air":true,"liquid":false,"rotary":true},{"name":"Sealed Cowl","era":"Pioneer","cost":1,"ed":0.5,"mpd":0.333333333333,"air":false,"liquid":true,"rotary":false,"reliability":0,"mass":0}]},"propellers":{"props":[{"name":"High Power","era":"Pioneer","pitchspeed":0.8,"pitchboost":0.9,"cost":0,"energy":1.5,"turn":8},{"name":"Power","era":"Pioneer","pitchspeed":0.9,"pitchboost":0.8,"cost":0,"energy":2,"turn":7},{"name":"Default","era":"Pioneer","pitchspeed":1,"pitchboost":0.6,"cost":0,"energy":3,"turn":6},{"name":"Speed","era":"Pioneer","pitchspeed":1.1,"pitchboost":0.4,"cost":0,"energy":4,"turn":5},{"name":"High Speed","era":"Pioneer","pitchspeed":1.2,"pitchboost":0.3,"cost":0,"energy":4.5,"turn":4}],"upgrades":[{"name":"None","era":"Pioneer","energy":0,"turn":0,"warning":"","pitchboost":0,"mass":0,"pitchspeed":0,"cost":0},{"name":"Manually Adjustable Pitch","era":"Pioneer","energy":0,"turn":0,"cost":2,"warning":"MVP_Warning","pitchboost":0,"mass":0,"pitchspeed":0},{"name":"Automatic Pitch","era":"Roaring 20s","pitchspeed":0.1,"pitchboost":0.1,"energy":0.5,"turn":1,"mass":1,"cost":8,"warning":""}]},"frames":{"frames":[{"name":"Wooden Spars","era":"Pioneer","basestructure":15,"basecost":0,"mass":1,"structure":2,"cost":0,"geodesic":false,"warning":""},{"name":"Steel Spars","era":"Pioneer","basestructure":25,"basecost":1,"mass":1,"structure":5,"cost":1,"geodesic":false,"warning":""},{"name":"Aluminum Spars","era":"WWI","basestructure":20,"basecost":2,"mass":0.5,"structure":4,"cost":2,"geodesic":false,"warning":""},{"name":"Wooden Ribs","era":"WWI","basestructure":30,"basecost":1,"mass":2,"structure":5,"cost":0.5,"geodesic":true,"warning":""},{"name":"Steel Ribs","era":"Roaring 20s","basestructure":60,"basecost":2,"mass":3,"structure":12,"cost":2,"geodesic":true,"warning":""},{"name":"Aluminum Ribs","era":"Roaring 20s","basestructure":50,"basecost":3,"mass":2,"structure":8,"cost":3,"geodesic":true,"warning":""},{"name":"Titanium","era":"Last Hurrah","basestructure":0,"basecost":0,"mass":1,"structure":10,"cost":8,"geodesic":false,"warning":""},{"name":"Living Grove","era":"Pioneer","basestructure":30,"basecost":8,"mass":2,"structure":4,"cost":0,"geodesic":true,"warning":"Living Grove Warning"}],"skin":[{"name":"Naked","era":"Pioneer","dragfactor":1,"massfactor":0.6,"visibility":1,"flammable":false,"monocoque":false,"monocoque_structure":0,"toughness":0,"cost":0},{"name":"Cloth Canvas","era":"Pioneer","dragfactor":0.5,"massfactor":1,"flammable":false,"monocoque":false,"monocoque_structure":0,"toughness":0,"visibility":0,"cost":0},{"name":"Transparent Celluloid","era":"Pioneer","dragfactor":0.6,"massfactor":1,"visibility":1,"cost":1,"flammable":true,"monocoque":false,"monocoque_structure":0,"toughness":0},{"name":"Treated Paper","era":"Pioneer","dragfactor":0.5,"massfactor":0.75,"flammable":true,"monocoque":false,"monocoque_structure":0,"toughness":0,"visibility":0,"cost":0},{"name":"Tense Silk","era":"Pioneer","dragfactor":0.5,"massfactor":1,"toughness":1,"cost":1,"flammable":false,"monocoque":false,"monocoque_structure":0,"visibility":0},{"name":"Dragon Skin","era":"Himmilgard","dragfactor":0.5,"massfactor":1,"cost":4,"flammable":false,"monocoque":false,"monocoque_structure":0,"toughness":0,"visibility":0},{"name":"Molded Plywood","era":"Pioneer","dragfactor":0.4,"massfactor":1,"cost":0.5,"flammable":false,"monocoque":true,"monocoque_structure":3,"toughness":0,"visibility":0},{"name":"Clinker Build","era":"Pioneer","dragfactor":0.5,"massfactor":1,"cost":0,"flammable":false,"monocoque":true,"monocoque_structure":-3,"toughness":0,"visibility":0},{"name":"Glass Reinforced Plastic","era":"Last Hurrah","dragfactor":0.3,"massfactor":1,"cost":1,"flammable":false,"monocoque":true,"monocoque_structure":0,"toughness":0,"visibility":0},{"name":"Corrugated Duralumin","era":"WWI","dragfactor":0.5,"massfactor":1,"toughness":3,"cost":1,"flammable":false,"monocoque":true,"monocoque_structure":10,"visibility":0},{"name":"Steel Sheet","era":"Roaring 20s","dragfactor":0.35,"massfactor":1,"cost":1.5,"toughness":3,"flammable":false,"monocoque":true,"monocoque_structure":8,"visibility":0},{"name":"Aluminum Sheet","era":"Roaring 20s","dragfactor":0.35,"massfactor":0.75,"cost":2,"toughness":2,"flammable":false,"monocoque":true,"monocoque_structure":6,"visibility":0}],"tail":[{"name":"Tailless","era":"Pioneer","reqsections":0,"pitchstab":-4,"visibility":3},{"name":"Stubby","era":"Pioneer","reqsections":1,"pitchstab":-3,"visibility":0},{"name":"Standard","era":"Pioneer","reqsections":2,"pitchstab":0,"visibility":0},{"name":"Long","era":"Pioneer","reqsections":3,"pitchstab":3,"visibility":0}]},"wings":{"decks":[{"name":"Wing Deck Parasol","era":"Pioneer","pitchstab":3,"maxstrain":-10,"liftbleed":-2,"visibility":-1,"limited":false,"crashsafety":0},{"name":"Wing Deck Shoulder","era":"Pioneer","pitchstab":2,"liftbleed":-1,"visibility":-1,"limited":true,"crashsafety":0,"maxstrain":0},{"name":"Wing Deck Mid","era":"Pioneer","limited":true,"liftbleed":0,"visibility":0,"pitchstab":0,"crashsafety":0,"maxstrain":0},{"name":"Wing Deck Low","era":"Pioneer","pitchstab":-2,"crashsafety":-1,"liftbleed":-1,"limited":true,"visibility":0,"maxstrain":0},{"name":"Wing Deck Gear","era":"Pioneer","pitchstab":-3,"maxstrain":-10,"crashsafety":-1,"liftbleed":-2,"limited":false,"visibility":0}],"largest":[{"name":"Wing Deck Parasol","era":"Pioneer","latstab":1,"control":-1,"dragfactor":1},{"name":"Wing Deck Shoulder","era":"Pioneer","control":-1,"dragfactor":1,"latstab":0},{"name":"Wing Deck Mid","era":"Pioneer","dragfactor":0.9,"latstab":0,"control":0},{"name":"Wing Deck Low","era":"Pioneer","latstab":-1,"control":2,"dragfactor":1},{"name":"Wing Deck Gear","era":"Pioneer","latstab":-1,"control":3,"dragfactor":1}],"surface":[{"name":"Cloth Canvas","era":"Pioneer","flammable":false,"strainfactor":1,"dragfactor":1,"metal":false,"transparent":false,"charge":0,"toughness":0,"control":0,"mass":0,"cost":0},{"name":"Treated Paper","era":"Pioneer","flammable":true,"strainfactor":1,"dragfactor":1,"mass":-0.25,"metal":false,"transparent":false,"charge":0,"toughness":0,"control":0,"cost":0},{"name":"Tense Silk Layers","era":"Pioneer","flammable":false,"strainfactor":0.9,"dragfactor":1,"cost":0.2,"metal":false,"transparent":false,"charge":0,"toughness":0,"control":0,"mass":0},{"name":"Plywood","era":"Pioneer","flammable":false,"strainfactor":0.9,"dragfactor":1,"mass":0.2,"cost":0.1,"metal":false,"transparent":false,"charge":0,"toughness":0,"control":0},{"name":"Aluminum Sheet","era":"Roaring 20s","flammable":false,"strainfactor":1,"dragfactor":0.8,"cost":0.3,"metal":true,"transparent":false,"charge":0,"toughness":0,"control":0,"mass":0},{"name":"Corrugated Duralumin","era":"Pioneer","flammable":false,"strainfactor":0.6,"dragfactor":1,"mass":0.25,"cost":0.2,"metal":true,"transparent":false,"charge":0,"toughness":0,"control":0},{"name":"Thin Sheet Steel","era":"Roaring 20s","flammable":false,"strainfactor":0.6,"dragfactor":0.9,"mass":0.2,"cost":0.3,"metal":true,"transparent":false,"charge":0,"toughness":0,"control":0},{"name":"Grand Eagle Feather","era":"Himmilgard","flammable":false,"strainfactor":1,"dragfactor":1,"control":0.2,"cost":0.6,"metal":false,"transparent":false,"charge":0,"toughness":0,"mass":0},{"name":"Solar Fiber","era":"Himmilgard","flammable":false,"strainfactor":1,"dragfactor":1,"charge":0.2,"cost":0.4,"metal":false,"transparent":false,"toughness":0,"control":0,"mass":0},{"name":"Dragon Skin","era":"Himmilgard","flammable":false,"strainfactor":0.4,"dragfactor":1,"cost":0.8,"metal":true,"transparent":false,"charge":0,"toughness":0,"control":0,"mass":0},{"name":"Transparent Celluloid","era":"Pioneer","flammable":true,"strainfactor":1,"dragfactor":1,"toughness":-0.1,"cost":0.1,"metal":false,"transparent":true,"charge":0,"control":0,"mass":0}],"stagger":[{"name":"Monoplane","era":"Pioneer","inline":false,"wing_count":1,"hstab":true,"pitchstab":0,"liftbleed":0},{"name":"Tandem","era":"Pioneer","inline":true,"wing_count":20,"hstab":false,"pitchstab":4,"liftbleed":0},{"name":"Extreme Positive","era":"Pioneer","inline":false,"wing_count":20,"hstab":true,"pitchstab":2,"liftbleed":-2},{"name":"Positive","era":"Pioneer","inline":false,"wing_count":20,"hstab":true,"pitchstab":1,"liftbleed":-1},{"name":"Unstaggered","era":"Pioneer","inline":false,"wing_count":20,"hstab":true,"pitchstab":0,"liftbleed":0},{"name":"Negative","era":"Pioneer","inline":false,"wing_count":20,"hstab":true,"pitchstab":-1,"liftbleed":-1},{"name":"Extreme Negative","era":"Pioneer","inline":false,"wing_count":20,"hstab":true,"pitchstab":-2,"liftbleed":-2}]},"stabilizers":{"hstab":[{"name":"Tailplane","era":"Pioneer","dragfactor":1,"is_canard":false,"increment":1,"is_vtail":false,"is_tail":true,"warning":"","liftbleed":0,"latstab":0,"pitchstab":0,"cost":0},{"name":"The Wings","era":"Pioneer","dragfactor":0,"is_canard":false,"increment":0,"is_vtail":false,"is_tail":false,"warning":"","liftbleed":0,"latstab":0,"pitchstab":0,"cost":0},{"name":"Canards","era":"Pioneer","pitchstab":-3,"dragfactor":0.5,"is_canard":true,"increment":1,"is_vtail":false,"is_tail":true,"warning":"","liftbleed":0,"latstab":0,"cost":0},{"name":"Outboard","era":"Pioneer","latstab":1,"dragfactor":1,"is_canard":false,"increment":2,"is_vtail":false,"is_tail":false,"warning":"","liftbleed":0,"pitchstab":0,"cost":0},{"name":"V-Tail","era":"Coming Storm","latstab":2,"pitchstab":2,"cost":5,"dragfactor":0.8,"is_canard":false,"increment":1,"is_vtail":true,"is_tail":true,"warning":"","liftbleed":0},{"name":"T-Tail","era":"WWII","liftbleed":-2,"dragfactor":0.5,"is_canard":false,"increment":1,"is_vtail":false,"is_tail":true,"warning":"T-Tail Warning","latstab":0,"pitchstab":0,"cost":0}],"vstab":[{"name":"Tailfin","era":"Pioneer","dragfactor":1,"increment":1,"is_vtail":false,"is_tail":true,"control":0},{"name":"Outboard","era":"Pioneer","dragfactor":1,"control":1,"increment":2,"is_vtail":false,"is_tail":false},{"name":"V-Tail","era":"Coming Storm","dragfactor":0,"increment":0,"is_vtail":true,"is_tail":true,"control":0}]},"controls":{"ailerons":[{"name":"Flap Ailerons","era":"Pioneer","warping":false,"warning":"","cost":0,"control":0,"drag":0,"crashsafety":0},{"name":"Wing Warping","era":"Pioneer","drag":-1,"warping":true,"warning":"Wing Warping Warning 2","cost":0,"control":0,"crashsafety":0},{"name":"Spoilerons","era":"WWII","cost":2,"warping":false,"warning":"Spoilerons Warning","control":0,"drag":0,"crashsafety":0},{"name":"None","era":"Pioneer","warping":false,"control":-15,"crashsafety":-1,"cost":-2,"warning":"","drag":0}],"rudders":[{"name":"Flap Rudder","era":"Pioneer","latstab":0,"control":0},{"name":"Flying Rudder","era":"Pioneer","latstab":-1,"control":3}],"elevators":[{"name":"Flap Elevator","era":"Pioneer","pitchstab":0,"control":0},{"name":"Flying Elevator","era":"Pioneer","pitchstab":-1,"control":2}],"flaps":[{"name":"None","era":"Pioneer","costfactor":0,"control":0,"warning":"","liftbleed":0,"crashsafety":0},{"name":"Basic Flaps","era":"WWI","liftbleed":-3,"control":-3,"costfactor":0.333333333333,"warning":"","crashsafety":0},{"name":"Advanced Flaps","era":"Coming Storm","liftbleed":-5,"costfactor":0.666666666666,"control":0,"warning":"","crashsafety":0},{"name":"Control Flaps","era":"WWII","liftbleed":-5,"control":3,"costfactor":1,"warning":"","crashsafety":0},{"name":"Lift Dumpers","era":"Last Hurrah","crashsafety":2,"costfactor":1,"warning":"Lift Dumpers Warning","control":0,"liftbleed":0}],"slats":[{"name":"None","era":"Pioneer","control":0,"drag":0,"liftbleed":0,"cost":0},{"name":"Fixed Slots","era":"Roaring 20s","drag":5,"liftbleed":-3,"cost":1,"control":0},{"name":"Automatic Slats","era":"WWII","liftbleed":-1,"control":3,"cost":4,"drag":0}],"drag_inducers":[{"name":"Air Brake","era":"WWII","mass":1,"cost":3,"warning":"Air Brake Warning"},{"name":"Dive Brake","era":"Pioneer","mass":2,"cost":4,"warning":"Dive Brake Warning"},{"name":"Drogue Chute","era":"Last Hurrah","cost":3,"warning":"Drogue Chute Warning","mass":0}]},"reinforcement":{"external_wood":[{"name":"Parallel Struts","era":"Pioneer","drag":2,"mass":1,"structure":5,"maxstrain":5,"tension":30,"cost":1,"config":true,"first":true,"small_sqp":false,"ornith":false},{"name":"N-Strut","era":"Pioneer","drag":2,"mass":1,"structure":6,"maxstrain":8,"tension":20,"cost":1,"config":true,"first":true,"small_sqp":false,"ornith":false},{"name":"V-Strut","era":"Pioneer","drag":1,"mass":1,"structure":-5,"maxstrain":5,"tension":30,"cost":1,"config":true,"first":true,"small_sqp":true,"ornith":false},{"name":"I-Strut","era":"WWI","drag":1,"mass":1,"maxstrain":20,"tension":15,"cost":2,"config":true,"first":true,"small_sqp":false,"ornith":false,"structure":0},{"name":"W-Strut","era":"WWI","drag":3,"mass":1,"maxstrain":35,"tension":0,"cost":2,"config":true,"first":true,"small_sqp":true,"ornith":false,"structure":0},{"name":"Single Strut","era":"Pioneer","drag":1,"mass":1,"maxstrain":10,"tension":0,"cost":1,"config":true,"first":true,"small_sqp":true,"ornith":false,"structure":0},{"name":"Star Strut","era":"WWI","drag":8,"mass":2,"structure":10,"maxstrain":30,"tension":0,"cost":2,"config":true,"first":true,"small_sqp":false,"ornith":false},{"name":"Wing Truss","era":"Pioneer","drag":4,"tension":40,"cost":1,"config":false,"first":true,"small_sqp":true,"ornith":true,"structure":0,"mass":0,"maxstrain":0},{"name":"Wire Root","era":"Pioneer","tension":10,"config":true,"first":false,"small_sqp":true,"ornith":true,"structure":0,"mass":0,"drag":0,"cost":0,"maxstrain":0}],"external_steel":[{"name":"Steel Parallel Struts","era":"Pioneer","drag":2,"mass":1,"structure":10,"maxstrain":10,"tension":15,"cost":2,"config":true,"first":true,"small_sqp":false,"ornith":false},{"name":"Steel N-Strut","era":"Pioneer","drag":2,"mass":1,"structure":12,"maxstrain":13,"tension":10,"cost":2,"config":true,"first":true,"small_sqp":false,"ornith":false},{"name":"Steel V-Strut","era":"Pioneer","drag":1,"mass":1,"structure":0,"maxstrain":10,"tension":15,"cost":2,"config":true,"first":true,"small_sqp":true,"ornith":false},{"name":"Steel I-Strut","era":"WWI","drag":1,"mass":1,"maxstrain":25,"tension":7,"cost":4,"config":true,"first":true,"small_sqp":false,"ornith":false,"structure":0},{"name":"Steel W-Strut","era":"WWI","drag":3,"mass":1,"maxstrain":40,"tension":0,"cost":4,"config":true,"first":true,"small_sqp":true,"ornith":false,"structure":0},{"name":"Steel Single Strut","era":"Pioneer","drag":1,"mass":1,"maxstrain":15,"tension":0,"cost":2,"config":true,"first":true,"small_sqp":true,"ornith":false,"structure":0},{"name":"Steel Star Strut","era":"WWI","drag":6,"mass":2,"structure":20,"maxstrain":35,"tension":0,"cost":4,"config":true,"first":true,"small_sqp":false,"ornith":false},{"name":"Steel Wing Truss","era":"Pioneer","drag":4,"maxstrain":5,"tension":20,"cost":2,"config":false,"first":true,"small_sqp":true,"ornith":true,"structure":0,"mass":0},{"name":"Steel Wire Root","era":"Pioneer","tension":10,"config":true,"first":false,"small_sqp":true,"ornith":true,"structure":0,"mass":0,"drag":0,"cost":0,"maxstrain":0}],"cabane":[{"name":"None","era":"Pioneer","tension":0,"structure":0,"config":false,"drag":0,"mass":0,"cost":0,"maxstrain":0},{"name":"Parallel Struts","era":"Pioneer","drag":0,"mass":1,"structure":5,"maxstrain":5,"tension":15,"cost":1,"config":true},{"name":"Steel Parallel Struts","era":"Pioneer","drag":0,"mass":1,"structure":10,"maxstrain":10,"tension":7,"cost":2,"config":true},{"name":"N-Strut","era":"Pioneer","drag":0,"mass":1,"structure":6,"maxstrain":8,"tension":10,"cost":1,"config":true},{"name":"Steel N-Strut","era":"Pioneer","drag":0,"mass":1,"structure":12,"maxstrain":13,"tension":5,"cost":2,"config":true},{"name":"V-Strut","era":"Pioneer","drag":0,"mass":1,"structure":-5,"maxstrain":5,"tension":15,"cost":1,"config":true},{"name":"Steel V-Strut","era":"Pioneer","drag":0,"mass":1,"structure":0,"maxstrain":10,"tension":7,"cost":2,"config":true},{"name":"I-Strut","era":"WWI","drag":0,"mass":1,"maxstrain":20,"tension":7,"cost":2,"config":true,"structure":0},{"name":"Steel I-Strut","era":"WWI","drag":0,"mass":1,"maxstrain":25,"tension":3,"cost":4,"config":true,"structure":0},{"name":"W-Strut","era":"WWI","drag":1,"mass":1,"maxstrain":35,"tension":0,"cost":2,"config":true,"structure":0},{"name":"Steel W-Strut","era":"WWI","drag":1,"mass":1,"maxstrain":40,"tension":0,"cost":4,"config":true,"structure":0},{"name":"Single Strut","era":"Pioneer","drag":0,"mass":1,"maxstrain":10,"tension":0,"cost":1,"config":true,"structure":0},{"name":"Steel Single Strut","era":"Pioneer","drag":0,"mass":1,"maxstrain":15,"tension":0,"cost":2,"config":true,"structure":0},{"name":"Star Strut","era":"WWI","drag":6,"mass":2,"structure":10,"maxstrain":30,"tension":0,"cost":2,"config":true},{"name":"Steel Star Strut","era":"WWI","drag":4,"mass":2,"structure":20,"maxstrain":35,"tension":0,"cost":4,"config":true}],"cantilever":[{"name":"Birch","era":"WWI","mass":1,"maxstrain":10,"toughness":2,"cost":1,"limited":true,"liftbleed":0},{"name":"Duralumin","era":"WWI","mass":1,"maxstrain":15,"toughness":3,"cost":2,"limited":true,"liftbleed":0},{"name":"Steel","era":"WWI","mass":1,"maxstrain":20,"toughness":5,"cost":3,"limited":true,"liftbleed":0},{"name":"Aluminium","era":"Roaring 20s","mass":1,"maxstrain":25,"toughness":3,"cost":4,"limited":true,"liftbleed":0},{"name":"Whalebone","era":"Himmilgard","mass":1,"liftbleed":-3,"maxstrain":5,"cost":8,"limited":true,"toughness":0}]},"fuel":{"tanks":[{"name":"Internal Fuselage Tank","era":"Pioneer","mass":1,"wetmass":5,"fuel":125,"reqsections":0.5,"internal":true,"cantilever":false,"control":0,"drag":0},{"name":"External Wing Tank","era":"Pioneer","mass":1,"wetmass":5,"fuel":125,"drag":3,"control":-1,"internal":false,"cantilever":false,"reqsections":0},{"name":"Internal Wing Tank","era":"Pioneer","mass":1,"wetmass":5,"fuel":125,"control":-1,"internal":true,"cantilever":true,"reqsections":0,"drag":0},{"name":"Microtank","era":"Pioneer","mass":1,"wetmass":0,"fuel":25,"internal":true,"cantilever":false,"reqsections":0,"control":0,"drag":0}]},"cargo":{"spaces":[{"name":"None","era":"Pioneer","reqsections":0,"mass":0,"warning":""},{"name":"Tiny","era":"Pioneer","mass":1,"warning":"Cargo Tiny","reqsections":0},{"name":"Small","era":"Pioneer","reqsections":1,"warning":"Cargo Small","mass":0},{"name":"Medium","era":"Pioneer","reqsections":3,"warning":"Cargo Medium","mass":0},{"name":"Large","era":"Pioneer","reqsections":5,"warning":"Cargo Large","mass":0},{"name":"Huge","era":"Pioneer","reqsections":10,"warning":"Cargo Huge","mass":0}]},"landing_gear":{"gear":[{"name":"Landing Gear","era":"Pioneer","DpLMP":1,"SpLMP":0,"can_retract":true,"mass":0,"warning":""},{"name":"Floats","era":"Pioneer","DpLMP":1.5,"SpLMP":0,"can_retract":true,"mass":0,"warning":""},{"name":"Hybrid Floats","era":"Pioneer","DpLMP":2,"SpLMP":0,"can_retract":true,"mass":0,"warning":""},{"name":"Boat Hull","era":"Pioneer","mass":5,"DpLMP":1,"SpLMP":1,"can_retract":false,"warning":""},{"name":"Landing Skid","era":"Pioneer","DpLMP":0,"SpLMP":0,"can_retract":false,"warning":"Landing Skid Warning","mass":0}],"extras":[{"name":"Zeppelin Hook","era":"Pioneer","mass":1,"MpLMP":0,"warning":"Zeppelin Hook Warning","drag":0,"crashsafety":0},{"name":"Carrier Hook","era":"Pioneer","MpLMP":0.5,"warning":"Carrier Hook Warning","mass":0,"drag":0,"crashsafety":0},{"name":"Underwing Skid","era":"Pioneer","MpLMP":0,"drag":3,"crashsafety":2,"mass":0,"warning":""}]},"accessories":{"electrical":[{"name":"Windmill","era":"Pioneer","drag":1,"cost":1,"cp10s":1,"storage":0,"mass":0},{"name":"Battery","era":"Pioneer","mass":1,"cost":2,"cp10s":0,"storage":5,"drag":0},{"name":"Battery (High Quality)","era":"Roaring 20s","mass":0,"cost":4,"cp10s":0,"storage":5,"drag":0}],"radios":[{"name":"Loud Yelling","era":"Pioneer","mass":0,"drag":0,"charge":0,"cost":0},{"name":"Intercom System","era":"Pioneer","charge":1e-9,"cost":1,"mass":0,"drag":0},{"name":"Radio Receiver","era":"Pioneer","mass":2,"drag":2,"charge":1e-9,"cost":3},{"name":"Radio Transmitter","era":"WWI","mass":3,"drag":3,"charge":-1,"cost":3},{"name":"Radio Transceiver","era":"WWI","mass":5,"drag":3,"charge":-1,"cost":3},{"name":"Whalebone Radio Receiver","era":"Himmilgard","charge":1e-9,"cost":5,"mass":0,"drag":0},{"name":"Whalebone Radio Base Station","era":"Himmilgard","mass":6,"drag":1,"charge":-1,"cost":12},{"name":"Radio Receiver (High Quality)","era":"Roaring 20s","mass":1,"drag":2,"charge":1e-9,"cost":6},{"name":"Radio Transmitter (High Quality)","era":"Roaring 20s","mass":2,"drag":3,"charge":-1,"cost":6},{"name":"Radio Transceiver (High Quality)","era":"Roaring 20s","mass":4,"drag":3,"charge":-1,"cost":6},{"name":"Whalebone Radio Base Station (High Quality)","era":"Himmilgard","mass":5,"drag":1,"charge":-1,"cost":24}],"recon":[{"name":"Guncam","era":"Pioneer","cost":1,"warning":"Guncam Warning","reqsections":0,"mass":0,"drag":0},{"name":"Small Reconnaissance Camera","era":"Pioneer","mass":1,"drag":1,"cost":2,"warning":"Small Reconnaissance Camera Warning","reqsections":0},{"name":"Medium Reconnaissance Camera","era":"Pioneer","mass":2,"drag":2,"cost":2,"warning":"Medium Reconnaissance Camera Warning","reqsections":0},{"name":"Large Reconnaissance Camera","era":"Pioneer","mass":3,"drag":3,"cost":2,"warning":"Large Reconnaissance Camera Warning","reqsections":0},{"name":"Internal Small Reconnaissance Camera","era":"Pioneer","mass":1,"cost":4,"warning":"Small Reconnaissance Camera Warning","reqsections":0,"drag":0},{"name":"Internal Medium Reconnaissance Camera","era":"Pioneer","mass":2,"cost":2,"reqsections":1,"warning":"Medium Reconnaissance Camera Warning","drag":0},{"name":"Internal Large Reconnaissance Camera","era":"Pioneer","mass":3,"cost":2,"reqsections":1,"warning":"Large Reconnaissance Camera Warning","drag":0}],"visibility":[{"name":"Wing Cutouts","era":"Pioneer","visibility":1,"liftbleed":1,"charge":0,"structure":0,"cost":0},{"name":"Hull Cutouts","era":"Pioneer","visibility":1,"structure":-5,"charge":0,"liftbleed":0,"cost":0},{"name":"Searchlight","era":"Pioneer","charge":1e-9,"cost":1,"liftbleed":0,"structure":0,"visibility":0}],"climate":[{"name":"Electric Heating","era":"Pioneer","charge":-1,"cost":1,"req_radiator":false},{"name":"Radiator Loop","era":"Pioneer","cost":1,"req_radiator":true,"charge":0},{"name":"Air Conditioning","era":"Pioneer","charge":-2,"cost":4,"req_radiator":false}],"autopilots":[{"name":"None","era":"Pioneer","mass":0,"warning":"","charge":0,"cost":0},{"name":"Gyroscopic","era":"WWI","cost":3,"warning":"Gyroscopic Warning","mass":0,"charge":0},{"name":"Altitude Holding","era":"Coming Storm","mass":1,"cost":5,"warning":"Altitude Holding Warning","charge":0},{"name":"Clockwork Programmable","era":"Himmilgard","mass":1,"cost":6,"warning":"Clockwork Programmable Warning","charge":0},{"name":"Programmable","era":"WWII","mass":1,"charge":-2,"cost":6,"warning":"Programmable Warning"},{"name":"Rattenhirn","era":"Himmilgard","mass":3,"charge":-3,"cost":25,"warning":"Rattenhirn Warning"}],"control":[{"name":"None","era":"Pioneer","max_mass_stress":1000,"max_total_stress":1000,"mass":0,"cost":0},{"name":"Control Rods","era":"WWI","mass":1,"cost":2,"max_mass_stress":1,"max_total_stress":1000},{"name":"Hydraulic-Assisted","era":"WWII","mass":3,"cost":5,"max_mass_stress":0,"max_total_stress":1000},{"name":"Fly by Wire","era":"Last Hurrah","mass":3,"cost":10,"max_mass_stress":0,"max_total_stress":0}]},"rotor":{"blade_count":[{"name":"Two","sizing":1.05,"flightstress":1,"rotor_bleed":0,"cost":0},{"name":"Three","sizing":1,"cost":2,"rotor_bleed":1,"flightstress":0},{"name":"Four","sizing":0.95,"cost":4,"rotor_bleed":2,"flightstress":0},{"name":"Five","sizing":0.9,"cost":6,"rotor_bleed":3,"flightstress":0}],"arrangement":[{"name":"Single Rotor","count":1,"powerfactor":1,"blades":0,"reliability":0,"latstab":0,"pitchstab":0,"cost":0},{"name":"Coaxial","count":2,"cost":2,"reliability":-1,"powerfactor":1,"blades":0,"latstab":0,"pitchstab":0},{"name":"Synchropter","count":2,"cost":-2,"powerfactor":0.95,"blades":0,"reliability":0,"latstab":0,"pitchstab":0},{"name":"Tandem","count":2,"pitchstab":4,"powerfactor":1,"blades":0,"reliability":0,"latstab":0,"cost":0},{"name":"Transverse","count":2,"latstab":4,"powerfactor":1,"blades":0,"reliability":0,"pitchstab":0,"cost":0},{"name":"Tandem Transverse","count":3,"pitchstab":4,"latstab":4,"powerfactor":1,"blades":0,"reliability":0,"cost":0}]}}');var We=a.t(ke,2);window.addEventListener("DOMContentLoaded",(()=>{const t=new URLSearchParams(location.search);var e=t.get("json"),s=t.get("lang"),i=t.get("test");s?l.SetCurrentLanguage(s):window.localStorage.language&&l.SetCurrentLanguage(window.localStorage.language),i&&function(){var t=JSON.parse(ge.decompressFromEncodedURIComponent(String.raw`N4IghgxgZgLiBcBtEBBFBRFArFAVFAJigDICyAIgO4oBqKAYgOYCql5YA9ugCwoCS5AMooAnI3QAtAJoBhAOIB5FAGdGM4ihmFyKKaRkA2ABykATAE9zABQkBWALQBFBYxQALAEYoAQgQDWtihyAFKMUigAcm5+vAoADADqlNzU5K6k5mgA7GhypJrcAG7eALbUlNT6yih+MgTcpij2lPT2rsFyPn4ApgBeIkbK3pQANm4Aln4wwebjygCO3AYj88uM5PPKjjKClOgA0uPcWG6CyoXB+-sj6AZQmjIArtVorgAODLxucdT2KORKUiUCIRRylDxgACM03G3iMlAAEhIANSFcgADwSADsfCgAE4RDwJRjoiJYN7KGRYZjmXq9ZSmXqkDjmagQYimZEoBQyDxYiJSYhWKC2ZHI8zokR4vhWUwiORQEReGSMQqFXBZADMACUIJruqZqAd7LgRFhHhc4hEoDRxgptb0scEwAluuNSPRuKQEuNyI4wHiABrjPGCdC9MDoDjcBF8SgGfGBFAgAA0qAw2DwhBI+j43g+uBYlH23BkIkDfBQjjkzBQCJQu3IMFwNAg3gkKAkJQzCLc3coEhEkKwIj8xE1b3WPn2mjYpg+fA8NG1DEhsZQ2rcVkEvASb3o6MY1FKciYDE63gg4TkpSwwTcvXCfAIjHryPuViMhVcYE6GAkmr2MiSToMEkzTLMyhvPMcgrAYyIlOEBiFJgfh+OgRwjMEzDnJc+yPBwjglOSBg5N4-wPMiLwoK49A5DIjg6OQRj-JWQIyL0uCOD4vTkJCyJWN4mIeIU3AJFA+yBh6IweMocTcPQfFYFYj5GOQpi4FitjKB49CcSg+w6I8kLorg4zoqQEBWKQMC9DIWRWMoEgNEYIxZJQmooB45hZOiAmkFYCLdIFCqmFikIEMiYC2EYvQlAQUDKLYchyBIcgyJQWQcOiBggm84xGDAvroBAlCuKm6aYDg+BEGQ3jhCMKAjIw9CQo4rA8PwMiZGIMhSOEphKFIWDiIx+yZC+ChSN4jzeLgEiQtQ6xGFYbDeMi9iBpSCLkG4fDMNqwQlCx+zEIxnTdQOfj8IavCOI1Oz-Nqh4oL0aASI13iNN4fjhAejh8CM6ICEeDDkFo6DkFYQEkDorzeNw2pyKyKAcPMYBvHiYDdL9JT0DAXgoPkKAGG4WIGHEzDzKsKzcOMEBdiMWAeCxmAsXwlaMNsHb0NdKCFDQETUAxVj-CxpAGCUbwwHEaBQL0RDkJg7FvYI3jaqk9gyLY9B0GAhRvH42oImGMCPEYBgiKK6COAQ8IlCUWJGOYEDahIRjBAQpi2IURiBlAUBcvsMjaoU+zBAr6LEHiNDovsCK4M0vQjGICMoAkIxvBEEDpyIcR4pQ3j0CImqPCIxBYEYxAjDIHC1hVaBVVmtX5Bw7buIwwTAlICIRBWchPigMAoMwbVyDngaRCINCrTITDkU+nTcDoCjdI8-uOH8EByFk5Arn4pAKOg1Rcgitap8oIwjFI4jVAQjxuOY3D7MiCgQH4vSYPQl+BrwlDfowbwSgUCUG7OQF4KQSBYFIN4LIgYWpuFcJ0boQRGBvCkGCPgCICq0B2twPatgJDam1KPYg2o4hGCgMwMkQIYB4niBAQMjhiABAwM1boCQaA0BVNCQMghzDUk1BkfY6JlBIj2N2dA9BGEcFxOgeYeBKzKBgG4TAUBxgIm1OMcI2BGDdjkJWCQLUpaCBoLYUw+xSC4HRMEBQRg3DkBTo4bUEQFBYGUAJQoUhuA-R0VIby11ggIkKG4XAYAARYj8AodBwRuAsiMIIRkCgyqoxqAkYgthggRHsWgfaBh7C7WSCVbwCItBpHMPoe62pzD7D8FkGQwMSjIiElIS4yJuA0CMJqPqWT7zmHCAiZEBhugRCsBwEQEAIDjHKmmRumYao5mGLQBgRZ2BcF4JWcYCQO6kAkG3Q0NF8iQ3IHEbwjARC9CwMQXoi5iCaU1B4BEWIISMDkNxBYagEimHrAiWOHZeSVjxGgwujRXqVnAZoDg1BiDrHmIGa8pRmpJDSL0bo9gJCFAUIGGgUh9iA3mtrMAckDDEBdNdQQgYIDolMeiQoxCzEEEEBFXmsiqzeFCOgTIxB9jCG5BIeYmB1oRAyCqcgM5SCamDoA66A92yMF-kYUsjDAxYmgtHCQeIZCQggB4BQWIsjeF6HiAgBh6zagUMwCyCR0bk0DI8NAggERZEQhwmgMBAGOD0liEoIwShyBoG4J87AYD8kKAYegbgCAKAICULIjwZmVXmdmMgtdOxNUYBEUwzhKBTX4OQcYeBGBWE4DIEoSh6BBD4PIciMAsDak7rgbwlIvLUCkPQTUWpHxuG8HwbgXce38BoHwTAMKVBgAUPsEoZyUCmAiLgHAX00C9EyBC3Q0LxhYAUPccgcMWiUAYhwPw3FXDNHIG0DcF4-D0HMGkLA3Y3hvOYCMeg2KIgIkDHETdhdITajzMEQ+ARtScJoEIOIIhHBxHoI0dA6AsA6PIt4YQxBC7gO1LwKArhej0EeESVwKpuC4FsAoGgT8EToAiACcaGynWuARN4bwYAPCEOUGAEoEhKA0DkNqTUWIETlsQZoeVuARgwAIJQRwCJHCOHmLYNwHAFBWEYBIXoth0SUG6MUcT3hHCtLkLgSE3BuhYEKFgAwVgYB+EeEzIwjwoB+T4DEYd3BNRBXLFIPgmopBZCxKVbDvrvA1LQA3DM1Vk0UG4o1RB9BC5tpgRYJ4uJknkCSDRS8oI5DkEDKYOIVg4huAUDAWssjzCMFIB4NuChuzBHCFgXACJKCVjcDOdAMrGD4FKEu2RELyBxhIOMNw8wRj7CPGkagilZboDkLS2syhiZ8BgCMcwRg3gEBQX4BIpAP62CZRB3QPhIToAUM1cgmp8HMEDOgN4Ch2o0AIIGWRlZZFSfIuILllZvAeGua4dAjAZwIl4BIOINBpGsoMFiGcBjOzGNMEwCQOhBndBGL0RJjgUGMBMioxg3QDBwbQH4bw5A5CTnMG8fYjgJzamRFgfY9ADAQFMDAZEHqIjogRPMegIxAwEDJoGdGvQFDEEhCMGyJRbCPF6JCPwddzBuDeLgN4UBggkZGHIKw6JsYWeTLMkLzccxVncIWxwxZl7VEwJCEe1QBC4jU7oCgS5AweGEMjgg9PKAUMoOYZhqMpA5xoNxcwjQu5BB8AMgZ9aUCBjkNwPwxgEXjqyDATUeY+DhBkG4K24wA-MUSB4PFW3iQKA4PaqYbbvnMBw7+gtMHg9Q-oN2NlfBXskGIMEbi-3uA2OEMyV6Hhgi8usva4IsjFT7HQAQZgMA5DEm05wDwJR9h4jeI7ZgaQ6yhO1JsSAWBIT2u6N4Ot1NtSqreMYUwrGIB6IMRAOIwQYAcA4GAUIww2dyDcO+SEJRNQQFUFrxNoWW4qj5gkyMDEikBL5sqahhCkAlQQB8CCDMCCDEbwLabeAFpiARASD6DdiFgbhxAJYvgIj5DNQyA5LoDUAJD1ikC8DYqAIwCtCdjUAKK4DUB6oyBMTKBYj5DkDhDkC2KeQoAlD5AyDcCQiBgMTaaVBKwoBWiCBtzUDQzIjUD8CpAyj7jEIVxxC9BTYQCFB8CHDoAwDEDKBGBS7zCMBybDIcAeByC2BvAeCPAVKuB+BDBRyGoQDzDjAjBnCMB4j7DzB3rwR+CsYc5SB+CNAyDCGYZ640QyB7KFwSDkTMQoDBDzC4A-AoCe4iBWDUiQjwFf4yDIjoh6bajdDED5a4BuC2CYCQzoAVFQDoC2C9AIh+BI4EDoBuAoBGDcZYj1HJFwzkQeA2IwCBgwCzAzB8BYgB7IiQhLLdDIiQHMDl4cBUDigcDBCmDeCahxCHTqy2BfSP5IxkJYA+aPD1YQARCPCmDoCXHoAyAHzmTEDojjAzi-5zL-45iAEfAGAgGlZvANY6CQzDDkBnK4AVGZ6CCMTEBVzEAGBGr7AJBth+BEBSa8yaArglgoA4jVZzSLjUBgDMCagdFExGCAKh4+AvSBj5gjBGAdgE5oDFiCCkDKDbLCBnoGY+Dh7kSPCPCagjAEBI4GB7y3AeB8A0AjARAJARB+C0nVYoCGZQB4zUraiAY0DMBWCFilAEDvYYBMFKKFAVooAYa6CALdgJBgAvHBB8BgAwCmASCCD1EwCCDagwCQg3rogcBWQ0CO4eB4hZAKAcFZAiAEBvD3jKAlB8AQDMC9BGKaBuDOliJaKQgRCCD0CFB3YEBSCmCugkxyDzAlAjEtHYp+CcFYDcBZA5w5yPC4CkAjBWAeCuklDjBQAcByBiJNAeCOAxgIg5SvE64LJkB7aNTNStTtR7AbLdSiBqD9QzpKB8AjQ2xiopSCYDzyD4gwA5yVgFIsSUCJTQEnB8C7LEC8DMDEh5AMDNQ3IbgqLUBNYYAypYALr17Fj-DVA9brpv6FBWDjAgxjbgwYD0ARD2AsSzZoAyAIikxWGWBzDQRyB0KkzzBSApZwwKDzBXaUjaiCAhjzCnGTboglAuh-DkSiwRH8CYAlBggdj8CQgTJ45UBND-D2i-REB1hGCSYoDoj-D5DKCQhwEOa8D2B+mVE0DBDcoJByDIi4DhkeBQCkBYi8hYCijdC2CLhuCmB8BZASAYoyAJCQjBBYj2AKBrhSBc54g3z4ZtiPCOIEAqRYD3DIgiDIhBg7nBBZDBDsB-D0AUrTK8DqDGAeCMAeDaj0DIhHmODKDBBBba5Nz9kwKVh0CTi7CkDhAWYyA5yYCqByBqQOHdDhBvTMgyCyw4R5q4iIi6CGqQhZDLrgUiAC6wDmDpRuD2Cpk+AJaGDhBkyALaKdDcF0HcjUB6ZoAvj-AXgQD7CP68DTnIINgyA1w9hchQAsQyC9Y9ZZDs5uA7TEDmBHzUywWrDuZSAlCFgbBk47BzzoA5RvAcCBGsYoRLR+C1g0QoAfCejuCxSYlixBASB0LdCywoC-iCBWAZTdAEZSARAqL0ixhznkCMKCAGXmC4BhGkDageB0UmBoDMCnh4glD2D87cC9ARBlFxpGDlYRAyBvDIgDWGROocCnSOBYAwDkC4AFzkDKbohZDMDrCMBZBLZQCFC2AQByWUDajoB8AJDnWfY9yMA5wswJpvG64pqVhDktRtQdQbLeCYAcDNRUHyAKKBgjRgH0T-CUBvR6BDJ+TmB0Q-ARD7Z-ZS6dhuBC0cXTrbKLreDMB-QvQY1gARCuCyA+Ip7-CqUoDdDkAxRNAiAoLeBxDhDDB4h4i2SzRCnzAeCkCBgGrPbBC4BXHUoZyZIJCDzhDPbohuDcSCDfZEyyK9DEAKD77dCALIgIjjSAEyrTRGJtykAlCyLnBuDcBKAbEeAEDmDKDcC2D4UKB4gjBxAlDNl7FPEOQ6J8BCyowyBgASCmA0CFBxD2V+DiUfbmC2ClwSC1ZSC2AwA0BxASAEAIgq78kcCZJ1IJD2r1gECFBp3ED2AEDmJYDmAGDbIGA3hvDPLkgSAKC4CyLBbRVhZLVAGFisAlhlgVhVg1h1gNhsDNitgoDm7kCSJr79iDjDijjjiThEDeATlWmBKAIu7jAEAd18D83-CyHsqR7eCyIXhgBngIgjWKZaD2qrlnIEAEz0O8CDKBhGg4CaDqX2D2AlBaL0DajaUjASDdCLG3ajwJTah3x604rpRxzKl7HMEcBYAJBgbEBYhPZgglDMCyLkTyKKIqC8BbB1i8DciIUwAEwIgIiMDcAt77rIjKlKMyCmBeZ8BQASBqZ6ElDkDFmKC2l4hWB4hGCzqOzdj0BnKkod5Nl4jdCeOBgiDzDWUEAjQDqyB4j2AwDcAWaTJH5+CxpGD2DKCagiAlBWDdASAiSFBZBGDTGiJYD1R4j9IiCcPOzDQf6MBlHcQQNJoAGYARVAqlRWA9wCBKBaDcCMAp6LrwLECyDdjECEQs2mDLzzASjJFvCOA8CakYzilWAXgjw5zXT7q4CTrmASB8DKMoQ1AYCewKIFUYkHVwxqVZB+BIJnSECuCE4+AMySnXQB2dAdgY00Azi8BnpS1oCkDExxBOrahI1gQGCXXwQcAHUSBuDaVRC2BWKaC7ACH054gtnogIU6W6EFocx-URC9A5z8CaC4BgRAtJFSEqxZDcTq0cBWBaJ4hgT2B4h8ZxBghEwjDcCPB4gSCBguwVNxxZCVhRIvy9SUCCD8jIiZ4SR63EAeDMBxBwo0BZAvxhlWCHAlA8nKCPAQCCBZBuDECFCkAED2DmB1IByBjITBBaIYh0FZDjDoC6sECPJtqUDgNRVTOLLUAdgvOAJ-WOD7BSDjwZlNqnLVZrPQbTphB12kAIiOtKNw4SCQDIhZBSBGAaWywQ61gvTVBiBgjdBgArj0AEC2LW3SHR3EytI+DfRJUMDfpMCpPo6QilY+L2BuAsR+hKFYCmCFCajIhn1yCCBKPwGqNxAJTbJ7beCQjjqhBQCmABDeAJDMBK4QbDGODWjDb0YVjeCkBqCZBsoZW4olCQjD5HpBCt2mCV0CMKKKBgDeAKmCjrHeAjKMAwAyP6DMB+B8C9BlSmCkCcQjDgVQjKBky2neAyxGAVVQAGDoAJJl2QjbiUC+FwYCTNHeNcQ3L0zmBYi9AFTUysZYhY135xrSwGCU472UDohSDjAbEGqmDGS+DJYRD0ByCQhp5KEGBzZYAoJUBKGkDBCNJ+hQDOCgiOBQC6ilTJHqwQAIh4EjDMB2HdAOYNFYCUDzDoh4jMBYi-WOCGESA4hykKDkCPAEARitKdwy6MAKwcAwB4oRDjCBjJYBtK5BUEDainPKDvz7D+C9mQMAF5jkQ0AsBtTRZVgtZfS5mFqkCcDcidCjgbknaPsgmfZZAilYjZHB4yC1gc7MEE4aC8zzA8VqCkAcUkbUCOn0C9NgvoBWAaAGRCGQIwKkByBYAEDzDUCOBeA8gR2GnvhoBxBza4CainaFA0TjDEDjDMBYB8B4FQQCreBYyPCIQkwoSrOjWhtBfmDoABh5kkTtaiBzlJjvYpZ+BWDcR-AZGcUqDs3o29AwCFC2SXwybIi2D9Ms0lDmAJB33oh1rVhKgAWkB3r5AQDEwr6I-wQUC7yBjARGD2RKXUAcD-YeCag4dPL7BH38k0PG1bU0DcCoi82mAo3kD3C9DBDdAetyDW0p3BBpmjmy19lhaozeCNRMBG5bNyD+D0AwJKDkSWmLpuulbeJ8qiBYiW78zgJnJag1dJ4acpbhDBAJBpGCAKItQjCCnEURC1g0ANZDzCCNpgukByahAR4XiMDTeqS8NR7DD7QCD2BHlBACbeCy9SMjBDChtDZLYcC9BjWXWOBhQtm2Cwr1fagIxvDECCAX7zBIwjBXXIhWGm4qD8B8AGnvZiY1AZT0V-fkBcX2APXdDmAJRrNGA0CxrIi8zECh0wCYjOaUDWI9wlxQzKAVEY8UCmAEkEYEjKDKRnw-SwkGqaik9WAEYcAChYiBjdklDoBUT6r7A8gI1fhGciAyDSgJBiLc-tgdFFTsD+KhU+KRV-7y0wI3kdyBNnPG6pUZgcCTvgszQagQ2jADYB7ZzAcQAwJYEMqsw4YsiIhPsA9Ijx902yBDv9jlIPRWS1iUGBLzbwoAc4whYoNv02CoxiYXudzvfENKlhmgkQOGDIBaZ1McA3Ac0oyQuB+FHgbwMAPGmQp4gtEokI4HdxQRowMYV1YgPVlljMtQesiVvJoEiDXReg3gSeMkQKooBVoRMKIsQBBDSUHqJqCAJqikDuchgi7EkDID26XYXQqUC0JQC4wIUSgxAD7AkHBhuI4olhLIIUHP49xLS3QLEG4DN4Hgo6WIbwOjEkBj4SgpyRhCMC9LUJiAP1KAA8k1DVBVuHgPoNwAVJUkAspgOQBwErAwQRAVxdSF3AboyADKaQYIPQAoLMARAjwaBDlStKkAmcIgFjFgF9QwBvQWAHIBzzXanhcAMgB3gYC0AGA4wzADTmACZJgBF6+MPCh4FwDvNJm7xMgFQG8AdEmAo8T1A1mmil8b41WbBvVSYKW4dA5EIfroHQAWBkQFgYIEMl6CahzE3AGqkQGtr7tba8Aqzm7B8DkU6wf0cPJHh8COA9KLtNrOIAEzudBiDtItPYEgKEA-wEABQLYHgieNbgFYMUhEBcTogIAYIYIB+mlLKNmAt2ddilEATkQPGdAbwC8X9zrBs4DjMAHWBiiagJ0QQbiEYnoBYhpk4Yb4hxD2jzRcAUgEqLgEGLJRQgpAKAAQHdBBNt4zpdoYUG6B+p8B9ADgNBhehMBugHAKAFNjECSw+AQYCYL0EDBKBZIgw72KAKMC2A4MT4QQAYEFCXIsQ5AfJB4CyB4g4gZoj6AqFgjFpiAqRQQB4EfAc8rAFMAjlgDkAFpxg4SJ1IUEGIv85aMVWuO3EQRdwBQvcfuE+HowMA1K8vFAFW3ED2A+41g+eAwHdQTcCiyIBogYFsAyBGc9gdLm8gyJ1xcAvAOIC1HHwNgq6ssXMoUHEz-BZR6cAdmgCvDDtTAosSGKzC4IoBaRRgI+AOmhjfhzwjcegHgUYDrZki+wGgFegkC4BqE0wyEOQG6Dfoe07KZgDWTeDdBN2UAX5G+kcBI1HAJpKMHIl1L2NWybeXgJDkZF+o8MjwN0QxAVLXsac3QUCHIG6DVJMkfaAgHiDkAeB5g3QGgMcVcBLC8MbgVRB4EDCAUHYI8UhiW2DKlhr6UUfBPMHsC2ByAwrQZH4BECFBHg9QxhMoHsC8Ac4IVU0J+RZwJA6GlrdEMhxEAbYha4wAmtfEoAQACA9AcYNGwSAcUUajwarELTuKCA7ejgP2IUHGCPBMAcwt-vwCAIeAc0lAarIQQBCndRAZhXkD4kV7-AA2OALQCICOHcifgJgHUBYHUiUAkq6tImPMFrAGBHgQVcIPYSwjXoY6-VEPB8IUAJAtUihImCRS9DkBhU0hPgMEEpCdAOgK3BIKRG6DyAOA4wQWIx3oD7AjGG4xhJgEEDbJCgWU4XNdifTJlIQ3QOuvRhoCCAdEgrbPsPlcBPVfs0yMVETCrp4YghbwCvrjm8D2B0QFIPfBmlYyPAyQvYAwH2IQpgAxAiTPgJpQxi+0F6XsUXOJk4YFdBAsFZmEnj2DTVNQgYKwAQGtItRSp28PfpiSHAbSuw9geYN0nRCzQ3c3yWHv-V24oURA9gN4KYAdpgA3AMxGAKOOWIntEgvoWCYqhzgi9kuHxSsObjEDJIqwHOWoBAGwZPU5MazWQI0FKFllZBxk-ANyNOEWAUAtgWwBUBcAG4RoKAXhlHFkQHVp0pgYqa4ByB8BWcUKf4OkDpgvApA66eUB0N3RyB90jgA+l4jPQR4uQNQa8I4H0q-ZpoUgXAPQA6DCZ6AL6ZgBABbDUUkg+7HcdVhkDoB5GggRRohlHjJYwMw4qQAmBgzTIMw9ASsFt0G6pR66QQHOB9GsLkiFWjwSqpDDT7kJksUgZQFIEg40QyQ4VDgEWzPxz5uUjyN4JOFRgp5SxqQzSu6gWhiAd4go7sMoHNHGSqCVsWQCPArTBlXkCIUwOCNBRbg8QdObkB1ISC9B7APcZpIwA2LQIEYh8NrLyHfSMAZK6AAdPJJio-Rki+IKWpQAWaxgAQsg--tiUaD3YwA8MoBCQBLr7AiQy8fYAthWTcEVBpnP3FmHQDlYh4zxaaH1AwDTo+AnQBRLIDeDMAYUOOGLoYABC9B4epAPECIEnDRs8J-AQQGADiBHZJ4SsayUEF6CFAc4CIMAJwWPCpAlkq6M8oTPbC-hXAFQCiHIDUCep5gEgD4J+H5gsQGwxMcwMECvj80wAcoaMDhjeDM8oAeIWEK8wRARVokw8ESrQCYSQg8QlRDTH4FJCUAxKqAsokoS0ClpoWUAAPMtERkTcDA1QFzvbO6Dog584CjgBIFdh4h5gRgRwEGCCF+AFEM4PEBaE4YqYpAWIQQH4EoTPBF8JYEQIdH2BNVuMEAZCDCQMDMBKCHSblJQEzxWBAwdWKMuGlsA6dr6o+TQL2C+5KA6MTrVRcwFwBD1DYaCTjIlKxAajZcAVWWTn01AFRbAEQKPg4hGK4AnSHNJLnGwWHUA6AKwtgJwE6gCBhAYgSQLIEUAqBxAGgLQAQB0B6BDAJgCwEgsQ57A3ANAaoFBgRq6Ap0rgCxPOi7FgoXyaAJmX1hEAGAvAO6ekvsA5mFBPGj1U9OeiRhdBAm9gCADAATDMCu48uVQL4TAC-QSYAqGoMoE3G+TdufgO8OYAt7zAZlDwIlGgEerPUvg6RQiqLnPZ0AGAPJOQL0DiBjADABgPELiCxByA4g4VcYBIAMCHhW+UANsInjAC8R7BXy-nFxQoAlB-Kc7PgKYAgDIKSceIE5NalpAOw2acQa-PCoMgecRA+wd+T9QIAMg4gr9OFbwG4AtNNQMAewFAAiBPxHlJQAYKQBECEhtk1bfYG4IxDhjReLcRSQWCLDwNywlYasMwE0kGhuIbYLZowAUB5ssgeiEBLfhTgWZNIh4A4TOAaRtxMs55AtK1ErDUhEcPXQQBXGnRKxiAw3SxAUEqCPtJu03WbvNzLAoICO9waQjUASh81uAYUs+NwFj6ZBSc8wBxPMASBYA8y3IGzskQuGgIeUpAMOFcE7poLF8RyE5PwGCDvcfAn3b7nXxXRcVAeI8YHiMXpC8SsgrTaHkHIkDKA68b8AEAoELHIhSAIyT0VgB6wIkbAViUgI0TooeIhuMALIPRDWbslmA4Ya-NwAjZZAtmmoXABcWhm2VphlAIwGpD6gocIgPPNogyFLERpwM9cWNvMJgRggvirgNZnmHyAbF8AuAMwgiEKWdgK0egcgB4HOJWLEC3iZENsHWD7AEwCwf-h2xYi7BEBqCdAFhHmD5B6APBNAK+WqB9R10ygBLj4F3TEBmACgLIBlgGRuA8QYudFBwHvgacjVnld2LYGtRWBggaEUsLYG6DqI5GF4kQEQlVKmASGJQcznIm9ZqBegzU+8WgCHwkkSZJpdOAQGlYRBVUWGAbHTj8DWFzqHABIG9L1kCawygCAluRgUCPB9UM0LAGgvRCfs3p8qwQHxFMDjAsQWIA8B6hb4dl2wgYEoCSE1CP1C4iIUYQYHGCyQqB9sqZJxAQgfLMYi+EoG4Eta4ABaWIUsKD2QiNNrozcsLHhOjGdxu48YreYPHNxbicOpybfsgLbhthJ48QVflImTbhAMa-2M5MH0g07Q9oEAIdAiFdiMB5gUAOIGOAcAIlyAnlEYGVHoBUg3AYABTvsDiD7AIg3gfmt0CUFnifAmAAgI82t7m5ggEgCIA-J35GrVSBAJei2B+A0rWN9wDrNwR8CuBhuL4FUWgEjzMBb1YIKQBjUwA0Bj4HwR6lAFHVQSPeoEfrFYVmguwucFCVinED4B-AIgL4K0ADDMxYAYgS27oAkIbC4AYAZ8eKEZiWzyb5gDEWbHBhsTWJ50OiUSGgEFaIwhgTjPAGCCfYcQ3RW6GFOQGICMJCCD6OOBRuoT8pIQEaSEIUAyT2BWyP0GyABriCGwAKYwZojAHQCcYhgJOZgPrAm0jgBAo9J5W8B+D1lkQbgFRG4y6m7JxgkIIwNDKj6CBRaYDX7SIEIB3pIol4fykYGZElw3gRgVJlIHUSVhcmTHPgDMTdbhVl44wOxTTny0YjggOqKCKQHmBLr5gMAa1BG3MgcA8QeFAVNxBgA6JRYYAEYI0H2BWB9+ygU1qJGDJup3m7RJMmLvg0vpRggYYIJcDKIMYfMhEQMnYoJBggc0zAaIBNwIykQ+A5gXbucWTJOAaAa9fRcuijTcA4e7IG1h5GCCQhmAC0MWZQD1rHwU1K4BJduoyhJjCwySYQoVtLQ3ovkuIXZIxGUBLR6AXEDLNyCsB8Q0Wcwa-By1UALNm4ryTAHuFAg4DXALtUFO7SXJnIcOu7RgBvW4h00GAdQJQFACKArd9A3mBON8VVmYA5AmoMEMQCIAdtYJaAQ5ZhwthuJLicgPEIoPWAKA3AIXWRAoCUYCpqk-AQYqamCCYBC8qMVwPsFdbPxc+SmDcGY27RFrEojxFHbLFU7k41cS1R4DyhJWXA5AWIEYIEBEqmAv8+hbtGcDRj1C3g0us4KctoiGTHAdAXlmxH3SopjwwJHnhuLMJxM3lS4szHxmskJA6kJQfpiIBsgpAsUAESbmWjT470rEXoQMBIBVFlkxKBA-ztogQ2kMBQcG9iiSCM4fzLwtoHSJulBAghtQ46IMQG0oDBle4sSzpIDMSWxV24w5aydwDPIJA5ohaKsI9DiSeoq0ssHIF3AamuzFJhQVKmcixBLteaiBkqAZHYoqYIAmQdAG2jJqWJuIr0ibqi1BQGoNYUCWHcEE8wQAuQGNXJPAjNSN5PwIHB8WHzqBSMXOHARJClLj7CC8WqQNAOPXRDohJsggOIE6BgyPcEgoiiANBCWhqAzhrgRqByyzQN9tUeOdmZmv+7xzqNXEHwFAD8DBAjRygP0miNKSAMsQd4GANc1kzw0sQjAZdvdiO7uYSCjQ8YDvHMDZIsiZCSEB4ErYKBwkvE7oEYCUpMT8OVIHoNkVfjKAC9pjLINek8YgrphDgRcIGGYAGlAtLcHrE1FqlMz6ol4DMB2CBRyAwAUgAEJ0AiA-5bAD7cGaVgwA7ohgXNHjFYEN7X0MWBREBFlnCB-Y8wjNDAE23WBJQbg7qbqLSHPmyIcA5AIcH7uTXNFxgvQKwClmtpZD2UxcBdKCl6BoxjwCo0BNkXdloABMN4R4OML8BcgfshpWwDgVVmAIrEOhI7JklXEYEtUCUcSZ5vMAM0Hl8c7UBFE1CC4HpBifdsGRfAJAbs4+bdt91bVxA6ECQKlfyFnVQBcsY4IIADhKC7swQw2TlCQAwIsbHxxiVfOpH2AXILIWzOpFgAKjOoAIo4qAIGBsS80Qkd6KgHwBeD740AwwboI2i+4bQo8ukVEH5EBqHjiAElXoMt1RhWA-A1nYcXtDBiK4GiYsjgA8fwHnVlAaGcWYbG7CQhXFQULAEiB22wI8jYAaxIHsUETT583KoGQsNkRK0RyqtLqD1CnIDQlAtW7xLZJKxykdaEePEKVxBNnJxM5h3aHOPIBYZxginG2CQBohNgmkKAMwrKQ0b7pHg5aeYI4CvDEw7A7Ur4V70cCYEa45ECIo3OLAE80AzQesLQNOVYBkQzANoo8ERBXBJ0D+MKDBDpaIUaA0YEmJrmLIHBzA1MTlEzW44dFRcbwCQBDGhrJqUssg2gFoDco5w1BT7V6CQAUDy6ggwhA7IwDiBrEo6jgfiOMHkjoh6mygZDFgCrpWAzE5qXyBxDWKSZRcjwewE2VUHFSY4WQRlDiu1D4aEOgFbJuR2UBQA-dWrbgM5ihJWARgrzKtOaj9jxRJZYSvqAFq3Vv8lqyyVJWsgyUMY0xMFkUquRfC8hlQogcoPkBn3dABG3QC-EBHyDCA54dSpPBNSaUzlWli6dpaui6Uwp5AT84KUoGEAIhWYdYeaqAi6D7As5kyAxDST0pYZ8InA-ABsD4DbBdgEQWwNyMOreFScIgowEQAiJX9ODT1T4O4Gr3VA1BRLQMFfEFZ8hURwUyAMQAQ5OSxmkIaBbixFaUA6EymRPIGG1RkQoc2mTUCcjkiKE6mcGigN4CsDWWIA2lTxsEA8CMhSefAR4FkMiBuCZAb8XAAiUnic0TIOkcXYUzFRV1Bl6IWAFjBSMQBNolYLEzmG4J+GWoARoIyEZwKTW5ShEY2SoMoL1VY0bo2RBYDk1LRE1BufQLxLQzKAwwVxtDIUE4LKLa1ygURnRT4CiM6SGJAVi1FrBPtYIC696NUFdrR0GA6IBFo4wEzbMzCojaQsTFIBbySEzAK0ouwfTQKiQBAIvtyCDkWQGMBEA6hzjQXYMxFyajog3xUDCxkiZFCitBaIvDi3059NAAkGDhYhDCnudYPYD4DygOpRxpWPKBVn2BOudnJRPoGiBX8PA3qiIMiD8An4cYyIDVqQHFzSYoA3mtQCwFEZHMRg3QbCixAkrmBkQwgGuoGEeJZFkQhULcKtnqzeBdCtnY2m8DwmKheg0V1-i3MLjkQ+9+6GMADdh7JZvomgIhOsCBCHIiYOgGBOsDuR4hTrdo7UVYG8wIT7RgJYgOArYpl0y+eTNQK-hIARxMVgQGQBJ1oD3ah4E3EWtyHpIrpFbvWCuLDvYoxx-J5EKlJPAULfaR4TqHuhICbrHdYKJ+NwE5B9RKbZY49D4CQooPsD0YCgA2CEE8DpJ9gtgZgOMANIucHq7QQpZpY+oYAAoWWEQFIHmDBBLKWCcCQoC4U0tiA0rdar0CMCKGfT4k4bv1kRgqJR1LgLIMfAJD-o61LEAgOxmUAEACipPMoXEF4JRwwuiMNel0gXaVgFIIgag+YqyD+jLUssxQHGB7r+iG9CQD1TW36weBYJkeEoJBuRATku9b-P0LiaiwxZ5eX0cwAlmIVsAtjgCc4tWEyzZZcs+WQrLoHGAJgpQrgCiqBJKC8AcQS85niQGz3wgdEWpjpajGhTiNgQpnDGiQyTWBHHwHUgwN1YwD7AjRhnRgLxkKD3dxg2EUwMbBaI0A0ihAeRg2EpTrwZG9UMWcEEEintz2B7fdYAV8DakSA+s37IjsrFPi3zGwGaBAGCN+BCQ16APNHFEIiI-SZsYOmoEQRmAc4xihEOJHh6igD4WAaQG2gUioHCgco5EEvh00qLvQwNrIDpX6h6Ui7yiuIMZAJhZARO9VDILLnpqahOnZhTtDoXsCkxzzPh4YEJFqldwEQ6bNsDeB0CHgBQGYMVJgTzRPyQEtuQwHEFMBQCp92oRkM+p9lKBxg2wTIFuMJnoBIQcgB9vnW9AQsEgZQMtRgAUD8dUYgYX6CqENJZFv9RbZKIGRGg05q22oKQCGSRwk4MRjEErWoHEnD0bNbgKAUYFMzKB0QMAY9Hhg0B8wmicyOvt4DNVaROtN8esBKHsF+7eIlAa0rsEhDYhBY7ASgNRT1nz8W+FxRfDAH9LeAmmRzIMrgD2vQqIMIwTmUQEIViAbSGQMAMa20p5yL698NwA7iwAb0hj3gJ7SMAihZypAmLrAIyXLGkBIQNAQE5CCcDlhssdjyMYXA4qTh6c2aJeWFOhd1hRYcgaDAZAUSUADB7SMTY8GlIwAzCFaGsEmNDMZgwA2wQfJCBuQcVpN7Ka7BoDPb0kSAYVTQA1fpqGRoN9JYy+ZkOpIasgkIDXatRoDWX3ZslQjJ4Q3yaE6wHNR4MEdf37bLgS48WS2AwIBKUEA8OsRmGrJcpgEFfOWDVKsybVOqP7dsCIGvhrso+3KJTEuE1CGMcYr6mgGdzeBFsFAQm2RDOBhKh9fspgJyLZgfRGAcosCSfALsAQcxL6r4KAAkBEC8BtMgOA8ZLjcRkwNK+SOwmn3bPcB5+lOHOAtQKSHAFSqwGWR0Q3T3Ay1HKzUDYBBfd624dAF8LsCjwuOa6WIOgI1YgDVFpCRaaaLW-cBIXTrRMLpYAkWgZYOp9gCDvzFDa7wyYGAVwOtX1yOCggoQcIGSFkPUAY03kFJ7O5kkQXd0s8T1OItGVsBxll6QHCqGkmKMvAYpP3NGaYSkAcgvyVZn+teSSzs9NASELgHITgYWg0GegCSSNkmzGXKCdAaQDiC-hLq9JCKtiRfAKn0AVbY9EXe7XmZewAeV6mnf5RtoQ6KGjgXgXwE3h0uWU8XGABvt4hr9XnLcIXnK+tMDAjgSUSEgYA0QwM7KR4IWIyTSVBwyQ6GPMDFBR4+PpkRVgoCFj6sYbRnTO7xuCBaA0i3h7dXtniqMBEqyVKGRmHMDNQEQIpGdBIEyCOgxmVaToHfmNyEzWbAU37o28Pj1IHaQY9AK51FVWAO2tgeSEtIRbagXlAYM3ikrQCnQayPbxVg8usF-UWotMiCdQBnDRJi84gYOScPW0fNh0YpDwKWTfSyGqBZPhGOSbdlZFcAjwZPnOm6gEwvoBAP0+LpDpgYAqWSZHAzlcoRRzAmoIneLLzB8zdoTNHFMh3QCkBxgggL83+32BR43gD0xelQCMVVPZR93CJY2nXLOE5RYi54AfamC2BLA8wGp-YCsAeFpYWITzvMDlXFtmATOeCX2HoQiBqGLEXumQX44E9zSLNIVwTWNSMZG6r9In4IFsAjBrkJsIr0lUngVMwAWoME82UMh8ALgTyKAIeaPKKnmBVwLno-lS1GARaWQRrTUA07uQUIzKgwAhIIWE4-T9AayBGgwRBB8wzZ+qBwDeDoA8QFFtuIn7Agk3UWLwBEOSAoCgUWQToMKIoSdDCulCfgBEEyD2gRgZwM4H0OD8eDCB1QPgGgPMAtSaAOcxAMuOArlLpQaTgy6thEDkBRhO4wk2MKZAUAR2pofxRaNGH3CStUQN4TbdqDAb7eFJ1ASLCTfqguP4s9qSfEEDUAZQDRBW6foJ0BWgyHGjwRAhQEVgZEpWOVhAIVWDVi4AagpgBwEgCBFQsMlLDGQSw2QGgAVIBQC2QjA1qPkBegPwgcLgIWQNbS98oFHWT3wZ0mMhvo5IFSjag0XmdDToZ8JQBZk-MOnDnUTpFeiZ0gsPmxl0SYrcR2MP+NIiMA9qA2BXiGGN4BYgEgJwjDYmgGACyExpB1jiQigdqCCEhpFkAGAb1jYA90BOLSIUubgJqDASt6sai-0tpFgDk4S+LwTWoNPG8AJAt6pkLSIYTIggWBHgM2AgW6WpORSAYjhsDIgR9I2QqobPLZCDgiZmIDX0XiJL7yIZ0MHapsjkOOh6g8wFQDLgE1gTJUAyFn9a-ehbkFof8hYEbglgEKJgArgt1qNAGQCYO25+AG5DICeQK9pjpM0G9rkwG4jdLIgwox8KIBvAvrl5AGQ00M8jnk9aJiqAInQIMiCA7iMkTbAytksiamTMrR5kkFhtORaAsvBnazcgxtUA7QeoP8D2ASAhIz4IwtjOL8A+6q1LTI8aMkSGEqeHiBfINNDIBMk2Mv-A58YCGUBvAhzpCD+EJWATAdgSBglJciJKGAA0A7DFiAYI7qJwIfQAeCBIJgRBltx8AmEMEBpuWFEGq0sJppKReIICAVTEKGgPYDnasGJtQ-06MAxZE4bgIoEucrsvbKHQmgNdAqwuSO9DXgDWj4BcgrcsFIcAcUo3AwIx8AoAgWK+BI5vQCKucQDwr4mmS2AUKCMCSipWF5wCwLAGMB+WDfIFAIYyFtxBkB+nKNQmcVnEXgaAHgLUGQgcmEcbSsnSEChAO4wOHZKK+YPR5Q8SXmTSWkZevhAH0gPt6jogg3rYBtETMm8ARKe8NLDjAMXAiwKI+QQARXm6aDeZjkd5pOR9Qj5hkTzkYIJnigshIJPBaA7kJPBtoJkJroxQudrgDKAgejnCywZ8LIiHiJpHRjoAtYBeADIj7Jao4qNmLoBkYPaDwSMAXINkyKA81KOZycaAARgbc3ADiDRqeEAqxgAxYI7h1iOwAFR6EXFig41aVYHSbrARjMsY0hEgBYyoiZ7H0rLY0zrwb8GHEL66xEeIBRSnqxANrCUg1lq24ZQVmNjT6oVAFB4QAHAPArKAxGBuggKpuhEAiANsOgDY0bgK+IeI2SOlzdATLmAbjAHAGqCeEkAmRDkAwSL-BykKAMiDSU2-uqCPwJQL3Dw0R0Dmi3EyINnACQWRFLTv+w9vFarI6SuOQFoO+J3DhASgL0AkCVuDoCUAOAO5in4UAq44iAvkIO7hAHABvRs0BAGcwjQMgNOiYBgTJoDqs7gEUyhsaADlAyeBkJlBZ2qeBSQCEmLgwAPhEQNwD7cryCeh+QPgAVwGApYDOj3UuIhFBQAjJNWTJOBALaDNOLRMQD0Aa4mkREAs6LgDYM5jMj4aBMdP8C9AOQJlRkm68kaSYELGKiwGCkIJBgJAQatFz7AYsn4A5Y0uhRw5GSrghaXW76Cthyk6AERJq41BmyxGIofswT84WpsiDMiaEMmQkRkvt-iPgdxK7rYUd+B+yGEjwDGDdAGIpcQ0AyIKcQ4cmeGJqoo--MiAAa9JF8hbgfkPTggclJD7LagRgPsDOkvMKyBs0DSAwDByRMMkQpAtQagRlYwoapLUKrgEtJoAV6jnBGK9VBiadUs0I6hU67LPRjRqtQXTJxAGSLdYaovMHIBpsMNmeFmwwYFoiRK1tNwhOSBHjih0MkGotgvsBNgrTE20WFQRk2J6uE7hG1NlWhaAw8EJCGSaLmeLDAnQBAAR0c6h+SahQSCIDaYNloXCwhUkL9hswxxGGB8AbgFwQ8EPtH1Q+A4jMJLOgLEHuIUQosODCCAHRDnA8yVgHzJ5GHJFiCpsMNnphXoKMbUqgg0IFYBriR7jwBToSjDiJ8AcnBFAZE0ii1TfuMZIKixIZvPXQki1QIGADYnYCMBgAQ8uGCmAjGjt7S+LUOiC2AVbDt6NUwIVNASAgyPsBSij8BsSPAMgCgiQiaAHFJao0ZFOiSQWQNqB0R3YBppJQ1BipAPG2mGFISAQoBwCBgeIKEIPA4uMD42E1Gs0zE0xlMWyFAzXp5pz4GCIGjoA8kKZEzsbvF4reIbvExxoopgAxC+h8bL3rSq49oPpT2I+uRC7I4eAvYZoHZBlg32osFYAKAbvI8A-Ue2CIHTQWQHQDkYWgOewIgbwAFgYAAnPiCEQDGEejdgCTCk60yH9iAjUybXJEw+AJYQpBPwHUuiCzsRuK8BWAn5MYSh0tcG4B94HYX4QBqxEMBKhqHFCJRcg3ylMAzA4wOMAwUVZIea4g7XAU6gUaADQD5AblLWAyWGghEDm4QQEWz1AEAPzi6o45q2COA5gGADIg+aO5w6c2MJQDEAxmhhiVUwqOqDU4UgJCApu5HDABfU1QDOAt2-QnIqxQeII2pfyUKO84TeNZkzxhkb6MbDeW2oMQCEePsO0JJgj0SvYS8NECARn6DRKLB5gFKn6hWhCeqoKjI1gu1AwIHwA7xJGGgKPAacmDKVqYA7FFoBngQ1JwwQshwDKyBAdJOiGeua-g2A7B7SByRQSX0DMZEYjxmFQKAfHtKp9cwQN8SF4a2GIhByVAUcAka6EPIzOkLdDfAZgjDCjpMaRCG+7qBppFIAvsV-uMDzANOuuxsBx4uYrgKxxvZxnQUII7igkoEh5zHGigXwDW+OEKdz34HgC1gBg9hNBaFApxmVFQAlYBjQsY0eGsSSw1CEESQYdMJMQoM9AAhRm+EGBNzb8Kmo-SZC2iAoFg4ZcO8EZxA5GCCNQjAAwkbgjajXR7YZ4opgZYUTJST5kuys5hYgo8Bajo4DTMvA00nQMNi-8iCBChMa+ApOSVg9qKwAIgsiJZjz2S2rLBbh7LA1YZoN9poDTI8-vLz5A10AiD2A9WHWDiM3yCCZesG0o8DjAtcK1JuO0ik9wn4g0STCSsgyhiD-87INpbg4VwBwJcCbwJeQuqDoeQBvKHLCHDC0EVEkQ1k6MHZxmxggIngPgDvDYBygnlFSiHYprMQgrmreOtyYE2xNX6qKQTHb6piOgfgLWiy0hMHX2nSZqCSwNKoUB+AXiB4ghUnIIbDsgUMFgDyQRHkA5F2YFAQBagnNKyZi2tdpqAlAeoL4LWCp8eBQB4D2pLEvgbGNFi9A5MsbRGAuKGXDQSLOBMwxWaEUd4neQ8Gd7pU8MoEyzMwArILlAnREEDAkLpI8Ag8ddIRTk40cCmTjSBXDYCCAhYvDSjAlEvdTzAsiGIDgIBaLW5gg1MeoqHKyhE0DRo8CCgAFoxIBCgYxdaoBpKs9eDkAR4txMbD7qimMmq44ximaYYIFPj4Ash6pC84lAXCNrLxe8Iaax0ICgC7BvWpgHUyH6FLm3DVYyMJCDEA59D1ikgCfKIgIg7aDoQIgmoKCa7+5EL+JQ4MjK4D2ECKq4k3wGgdM5oAHgBIBMAZBOIHw0NBmMAHwp9GwrzA+ENGYGAw2JXaMA2Qo0TMi-ovRJfxJQHfK4AihAoBiQJCHcg+QzAPsBYg2oAHqBgOihbz2AZjOPhQgB7E+p-KMUiuLLAGNFACScYRNKmZRmILW4icD8hHCSAulHpBQoaEFP7Kk2-ofCmQQtCFTmcdvpqDiUb1k2T7K+fAjBAGWKCQh-W4VOiCPKzpP6Ceu8bnxwtaiPISTvhM3PhmjwouHDz3yg0I0BnC0SL0B+WOKFSZ8+9AF9RxA6IEBZPh3PPYA0Gw6W8BZYfEqeD+o9AI4CA+pWjcAJcROHbCPAtgBa7VIEjgYALYWIIZRZQFwsJKhwwQNBA9BMAG8Cfs1QrEQDeSJGWDc8CoAgZ2ocpFyI+AiCB5BXYxmv0LaUmoLSBGAAcdqCZYNUtIBoAgUOVJ-gKmTYhYugYPzgWus6IHiZpVgAiojI4Im7wUo-lOeB5yCQOzSOCmoBGx1gQkMz6mo1zPYAmm8ILSASYaNNDBfkOUtWpxABhLlhyA7ggJRAUFPPBytJMCG3AdgiCDpQ8G49nmiToWMnszbMeAPrQp4AINsh5MluFSAUQraAFDzEtgA5Rzk8wNvYQAddJQAU87VshZx0w6CcD4IUkH4A-K98qHBUwV6oAiWAGgAYSdAMqgjQGA9oAXo7aG4PXSpS9YLZLDwEKFsZVakwAoB-gpSF-CuA4MsITWCTaKszkQqzAxAqKxAPlCBpTQIXA0CPaKkCOAngNF5+Ec+BB4g27iHJweAbwEWr1MEaGPgHgPytQBcKFyZSCRKhzraRYyAuJQpnOr+NwCCATpKQCCyIYDfGkALEDcjdAGaXEBbIvKL9wcUrttxTssNAseLBQEwTCRNUKwNUL2SZ+A0yxozAFAI5QYAEynGMggN5GMk5FqAxD0RsNw6nMbXLzgC4dSDeCZu7XvGCJIBgPMC9A-9NYKmARRNwBT0XYHYKSUJrAkCBgQGK-R0ucQIoA5o1GQoCtQQ8HEClE+oFiDqYmoKMaFAjQOCJl06xI3jwh9gmQCVEdDDQBlESFjooRA1xMY4SUuoCSASAVMBEB-IOUqWKGoCer4RuA8vLpnH+McTAAuW+YMQCA4YBBeG2Az0DCLmAPpqXD6YpLsiBZYFKnEBD0PqHXljgUCsDDEhLalg4dRuRA3qnQPiChAb4XUoUCuIauCIDBAp3I8AkYIMRsB6Yi+KuI7eA9G4xr+BoIYyLsKGjKIDgnoFCCWYxAUDAyAwITtxOoUgJ-B3ha8DNGMARwFZhfgAYJyGLsMOCMA2OZ4G7TRICuOoiugggNelxQR+PQi12MmFbojwGwHED2AcQOLpjUcCIaZQYoPMTDucJQB9KPEn6Zah3E6XOiCeYN9hYB4ohEPsANBxnu6h+Aw2AKyCgeiPlqdAxfKhFhYLDCFqxiPcH3ARaHLHQDRabYPgAyqhcEoBYAEAJCD3AjgNsiNy+6pLQwIajuRAHwRbOh48AIbqUhX6-wGGrcECiL0Al0CjMUqLY1JKbp6UlYI3lBCIfG9CLahOHhGpA4jEXjfIBAAhgVoiRPXKhmmUj4CnSwCA+G3xpSKPCxIomde4QA3wFkTkY1IJQDKA64SJgDpoKNyLA4bCJ3CqkhINF7y6WcMjiagEHi3x3YjgPND5kS5GyiZmXKFg7yo9dMbFaQeGMVLhA86aaQBgLnNEAfY7+Zi6dkVcaaC0Qr0EMgdMxYmE5cYUEkeCOMfgBqApSncFWAwIVujhDGxCXN6h9F5yOtSRkDtPYDhwnscbEE4NUovROosBDSluAIwI2ghAamPjhkJiEG1o5APJCTiMAlcAUiJhbwGnl6AzgHwBMuIwNWqBW7GFjKr5Dft0D6pQ9mwV5g-KnAylgQqkgy1g9YI2COkH2DfDsyN9ulxK8HSKVgdsxUp0RGi1oifIGQpZBYYqA4md4KuACiE6wYBPgIsAJs6QBOYvAQ8eIyeoHpqOIGQGShGSMhbQO-QgakgJ6zliJQOvHg4zOYGloKZjJ0DEwYOPIh7AJsPMCnW3AD7iiK8hnnJOgowuXz8whEFMGyCkSi6AvA6EL8D4BOxkNJ9agrHXZaEmJGyyiKWQLWr8I9QfoDVkSoAVSbmu3LYAnK1tIBRvA-UmU7j0F4r3zFOhQI6C2IEANRZ1aNAEGQnQOgFgAdof7DZCv6bgN0Dj8b+MLb32EAMFSdSPyvxBMov1sCSfwegHhRoKV4IJAqJPWT3p7qMRMOibKN4G8pMAqVAlgwoabEAhLQWOiAjslEQG9ZMkygPTCDAhwgZCAIjUBzDtgQ6PPh3xXCCtw1A4wHXm0Y70CxCu0SVKeBkQWJHAIYh4-GLJqA4eCgjQA8TKLS7u7sAsAwQNmQmAUABelGCFiQVi7BsGVwFnaBqNLEYARAeKK9BRMrwLERPq7YNBA+20GhiK8GysAIbWCRnBfpFo-ABAA5AWQMyrPEulowBYQtCtbxQOYADSR4gRIORKDgcUMRocq6IHWIdoh4BABSw3RjU7bE-fLoAjAJIo6iAMBGrhqOAgYPQBsGmDHsC-u0NAzgOFX+PyBfK6pMXKmcpyF4CL4+WlIBAGrssYq+5MdH+BLCosO9rWIxINZLFKNjhIAImI0NVhEsmOgTjucUgHPoecYbCbEV8adudwtELIXTJvAauAiDPMaQORi7MWAGnhQx4yHJidW2oBpy4AJ-k+owoSQLdJl0PiDQCKmckgali8eYMSZKYMWPtStkGYJmYzW2lKCw089YFoCzcaLNYJQwzwIlBuAkyIUDaoi7AiD9MWQLLDbI9XCGFSkLlmgArAkpP8ARAbwCuC8gR+cTBIseMuDKTcICA1gAwOgJPAVo6xHakeE9qCKC-cUUpoCZUs6lNAdAe1lLK-oBNOfRNkbphlA5wjEZkBZST1Ndj+ejgIIDWUOIswBdIB1NPjkQeAPXiCoaIQOrhARdswB9ArKLYD6opgNUayIM1D2j6sL4KtDGYR0AYI1xj9PVBi6BcGeAHgFhhUxhKTKY4DFiroTh70AcQjCR+WbkA-LKMuGpnx8+jgNZYtMJWb6RigBAHhTTsbiJslaw0aLKKb8+FLQruArxYDRvFEYh8V0JYMirRtQgyqlSEE+QK5xOEigunDmAUKDhzJsyCqVidAxGoVpGinoLLzdgbWmAzKAZej4D+AHwHihCQstlIBhgWgHtiSJrgAQAjUyFhRA0Qc+njhB4jgH8TbofwATzgwtRPqh+W5kGLKHQlLnU7YoNxpnro0jYmeKhE8ulsiKMLWDiJ28EUM9iDVR-I3ATB+6rWDrQoFADmV0qZPQhcC7mMwBzwvQPWQRA+ZK8j0S1+jyBNESoq7KYwU6KsAQACkA7rmIHnLkA3g9YAkBdguAF9qFWvOfIEfSC7EykGU-QPgCpMoTI2QWoMaH2A9KCIHbBboKaoUDSpv9FYA+VZRDZhCIWGP4gjpPQnID2AH+B1FRutdmDU8qHxP6HDkKtEGFVo95qGEzk9CU-YJASgP-yvqQmrILxhugO2jFyAmd2gIcHqHAF5ALoA3yjB3yD4BWMDYEUZVx-wDwQOO4MmjxoAZBsIRDUw6GgF-QNYQ2BSyr+eHz74hQGeIw2-Aa3k9OZCLI6ZknSvtguWNAPYAAhNBkrjRsWQPphKwpGD7RPYh6s+xoAuANyjcARHI0DoC7GKUC1KVIgZDJQX7rKgog8kKoKwUzSKCiBwOIFAqeg0ksSDbE2KK3o6iH2CdANEK4L2D1yeoDVq1K5ANzSZCtlLYCVxFEiPAZYrynjDEAJQE2lLmBPIDhxSlON-RZkpyI3hSRBzGRi1qVBAOnhkS2FiCU8RzAJ5v8YLuRA+0cYDwDy84LBoCjojEMIBAogJp9jWpQxWQQ3gVJqDwVlUAM8AOU98OqTUxOJueyFwdyDB55gkIGTgQowQBPQL4RSukDSBGaXVFg5CrN9AZoWTOPB7+pgFAAKATqO0LbIiyj5V2cEnMYzgYDOMRroiHgGVogMOIqoy8xoxrDrsoTeGaq8oWzIRwMhmgvsovqRMKYDzAIgS3TtgzORhDLw1lDbDvOfCmbCZ4igJV5Ti9fslD7sSICXByqGAN2g9BvyDABQAfgVoq+5UiKa6hVgTAyWQANmToSOgirGWhYgYUHiDJOx2t0Cy8moKYA9qCiDQnCE7FJEAn6OaLIBE8fqB5yNAhYAPCEyQ8HWAlB0SJ-wrKGYHWLFo6ADM0uVaLoCQrgHoHpjogNIGrBeExxqZCmMzzJ0mpYK4LKQIaibq3QYAHABPq0A6QLOCYxTAAbrFaEmNOhhg+OJvysue7PYBRIZsX+D7awhAhEAUQXlgB9cpAAfZuGB6rU1-o6bNRQQYfAO6anGPppgC1gmAFkXUAkmCSKaul8AHAWyZGNyCyI52MJLEFHGhoFLgZUgOrmENdCMC-oEaFxhyM2oHdhthoskBbQiyRH+CPAeYPBEs0jKGLQV2hmeihfaqRDiWUoToXEA6cHrCoBaKuSNaKhsclY8RhwKmRoj3cmfM4hNkZmFABYAJoN7U01VWo6hZA9HuPL7mleboTJlhcF8U-8vxdsCN6rZlCBSF2rowBUi1gk+HF0bbt8QRUKshPCzg8gPaghAoMD7Si472N5ofCvEa4A78EgJxilVS2mcipMbPM-YdSc6vSTUA1tLxiSUxATFByYHfARrag22PvUbAYRqJ6cRh8RBBzAlALWDMsVIqUBIW4lgfBp5P3LxE7G8LZ-WmIwahUgIsuqDgVOGBwhRDDaHgPuzQBzrE0Bgg88QxBmQ2RFhhMpvIOMlykxtN4hbSGLREC8CAQCeRHM0HF8oGAsCB3RGMpOkthec3gvqjsUaKaWQH059NQlmVKXBwVha3BTs15gkvJlwwIWzNxSF0xbH1A6AtDVlg1OW6DeATYHQaoLhAGlOOZ0035Obg3210DQCr8D9nIA3JwCOiBlIb9mk6w6ZBN7T0GE8athbcn4N+AjQikFuhhoufnIw7A0pBag4i4+LzHRF+2OZzso3IAeC5SCRD05Vpf8VRUuA9GDTioicyNq7hAjqNVJoAbwA1qmAO+PfDc4DTI9bHE40DopSAaUI1T4ZU2LPGAMryLRoeA-iAJJZYJREECEIcgFOg8k5aCBxLCZsI6AJA2oBHSMqwkixDbwflV0w1xqBAiBsYX1McQWltkCMA-p0pMI0xUikh2D+Gr0fkDBG70c21U2ZzFEZpiPEMo1niySBliSiAcI5BY4Eigi39YqlnBrKSqMKoBfQCYHWTYOcZA5jmebwtS3CRmbXflVCTXj4CLgMkZdT0mHUgMA+AoCiqDxoxirNhsC2FASFYgMEC97IQZGPIDyIr0pwKoOD6L2r4AJFAi57MzjFXw5oUpstj7YvNLWBEs-Pv8BXlHEKZzHG3EuYDUWVkKQBbuoiDUDI4sUMt58YZ0OZAe5UMKxriMgkDNBuGfUH6TSgWLDVwkw3mo3EgeqdT9BUBXaYRI4c8CpgBU4AVD3DUk-NuXBMkoxsKbH+sSFu5ak4SHOLJlfWaoLWCNdRkqmCdYJTKyA2yJjhQuuzQNj60b0FoDKSOIK0iBk4FYHQuVtZap7N4EvHqoo06wOYCFhbaaCRqAitj6hMArFtFhHY6jmALo+JBOqzcAEmJtDkAzjPKhqgB9LpiSyK4hPiSYaPBsKEAEElnkXeG7K2DQiYGHT7LMM6P+QmxmALniIUKDH-UPiDIsYhDyDFGDT2IVgDgWagdmHbCfkcqtpwTIBTn2jrAbgF4hEQB9MCEjA62FGiNNiCJJGssTGO+g8Y8aDQCBgIfqIQAQR9Cn4NMrDjZi7QNmKwXYm7ScaSMRiiNwRdB9qPAj5ldJmli+OWWDlh5YBWEVgFoh4PVA3AvABvhMInYDODkAtYC0QZqwCLOopO79kSV28e8nIDjuDfIW0tG1+odGcyoFeCJAIhQIcZBI5IIq6CA0gcWBfhVMOWT3AW4R0BRqA3XXnFiDwHWAJs0QK8Ce176AC1pAFaEkQEaKSlfD-8clpoIrGigBoDZixIUoD9e9pNWCbwjEHFCiwTNYfCXUeNJKyagODhUgWgRuMkg1ssjiMDPABkEAiNQAQdWT2ynFfBo7gywDQDUaknhbBE+vMT1k9YdCTfCMRZ0PVyrkOVcLJfQjQAaFggmQM1BbM4fB2D0geaMUBtg8qImam+obLBjloNsPvj3AdQDfYsMypDLafQCiPASUwKDJ2DdloKJTF6aXUMOoKAJcsehyY0rIMhwKl4D2hCwN4ESoNgExnoQW89FsN2JtOgHulBiopONBGArumNSF817U5CFQwAZ0lwgn1CsaVgcqvuzxGbnPKWxEhmu7FqBKsCCy-2UJFUJxoncqkwaiwisF4E0CIFYCiwyROIx0YhIN72eiyrLszsyIMW8DmAf5X4D3AMmQQDv0lmFoDBw+YIO6xElADY7mQlAPJqKG9GHDzRetmM1keMQIFHiZyYFI+ATmp4W5q3B5dReb6AySrVLGpKVGlTGkWDuSZ0moAdWDSEmaGixRuVgHbwDoYZHiAPGzROYBxSffmgCgo-SHZ5pO7bjgCKQk7uUDzA0QURbueUEn+C1gjvXJAWgM8PVR2kzZklJUiryj4jYk2CtDQsx90Fdju0zWNUSGIxiJ-btEp8VSIIgdioxEQcD7IISjEiiAoiaCzAIxBTowJI3pBMrwEYgGAYADs4g2bqP6Jugcqhpw9ofQJnLFsvuWphoSHjEpRbICIFo3o0IEnbzkAtSsRoIa+-ckAd0M1gkDYYs6Juio1vJQ6CQg3xBwCEkYA0RLOuzZMmWmN7Q9ZJZQDYE5gS+Abfui3hBANJwkAYHW7LAkvgpASBgZmoN5raRyCinBpH0tsinWBaLtyss10BPSAIKygfZwwpJozW0QI1AiiOC2oI8DMui9K+AgRH4KiA-gf4FIgUSF-LIBMdshnsSCdTKEQCagWeSuDsoBgnx3agNBtqCiMt2GjlvoH6OETeA+spDDwYMPtBiyuozpb114Jmv8AUEvsPlYO9kQC-BJUw8DVpvpo4MoB74gaGaT1Uq3mACBGmlQkCqYPdKnJ7ErfMSClYygFZ3mAdgqsDLwSBaXDB+3JCDE9wKINWphM9pdCWLxpWL-AhlZalyJ4gQGrxA1Yn7e8W8q7VIbjG4pQeC5Qc0qs6xM22hWrydi7wZODFo2zBUb0mkMLIIm8ikL+hRIb6GTRc5oDsyIoIJ-QlxpQKAvwDm14UsHTH2g2npTVA6XETDDwaYhLxpObYFtKDCxEZkbjAZzphWfgjVC8AS+y5vW30OoYFwJoO8nWbYcARasy2EIc4qyXIhLoO6h0wTVAJmN4UpfIISoQxiJZPxV-U9qNwS1J-B4oroW4A4i1GdHj0AKCK2JaAO-Lgr-N-lOMIdR8CshxoAVcJgAEBqct5F+A1yUIi1KNQDAjWE5gPYDlYJQMUD4aBgLqwa65SUPjLEUAFCRr5pHFHwgeMgDgo6Am6nOOLIVdcrSjkOPfXXTkg0EEARhqBEp43s-iLGE79nkKDRWwGxA5TYhB4LURKA47tpSE4owbQBsAQ0OQRKAmOmUIF5sEoXCZAQINxC8EEBrEh1gXwh4zbkPaHOxgwD0jsAH9XIIRhDUQkOXIVw1WBziOmE+IGCPW3BEIjXBVKp5C-IJJH+rXEPBhiaaWktcmQG6WLSCqM4mkIXTcQCsS9QVG5ELxJeAwbYZ6uKlErIjfE6sE-ihprdOsC8AjzI0DV0DSAWHZKblCIQg6HLER4kSMGGAOncdgz7i3qmAWYFbIimOvywYYSvwAlAEuDK16Iz8BImGoMrUUS1wA6vrhhS5zfRL4CmiIpJPZd+YVqBCtwiHmHFecKFmR5h6WF0fFw4pOTgynqAH2pUMMvJ3SqHAKuQ+0CLgZRLI7fBlCdAEjo6yBFwoDQx-cyDGgjUxQBCWC8AzUA6CsM5wFJj-ALDJ2K1WPYgeCOwDJmlRDinDOCL+0qgnaNVNoEE6MEmB4IuICBXCJ2lpEVbOGQNgvkgR2BjreSQgxePpiICFgLiQPCGymUu3SMax3hxSGkvtJxouBPodVguAa+Uv7Ua+IN-QKYjALYD6RWvOeysY75R8qfwjyNGjFktGEab8WpPN5ZyAD0pzjA0LnJgyR0prkBLpJnQAOqloQogwAyZAuDoWGE3OKToNNFlGRiD4UdF-hYY4-EBriZkTH1Ca5CQD+l7QN1nTULNMzO3LzMizD3JaAqgGmwk96wJqHaUjQNX3sMPiIICnloQCBKF8EHA1o88sgr2hX+ZyNwBGA46HNC8610OvCxe2YKQwdERXrTjyZu3S-LIwPmB8Lh8eiVCI+AZjOm3IllJLaAn9cMBQDCAa+ciCTomAM0DFCx4MtQOY2IFB6Ug46GyV4UiFLxrjo2-gajcgE9OGqKBcdNxw2aFaX+WjSSUA4SwmNEPbKnKlYOPI3kalMIAqQ4QChy4ADRGAnwgjOGXQeE6AH6wuwfNF+GihX4chbOoCQGHAMm19JjaBoJdqkAVAJSJ7k6wjyEyn-YUDgXm5MyIMDSLiVFc6wOQWQG003xpDH4CPwrgN4wMQclJVmOIEnBwAMlxWmFKchl8iIBxwHfG4h+AgYMl40JZVI1BQ17UDDX7ohnGizvUNQEbhdBjdoQC3WYIGSDJsaixNyuuFNM63iKc4hrADootNhArIEvl3j4A1ALnghklMp0q0kRwoTIB67sETBDiW3Dt6ehsgmTGMhlMVxhXJncOYi5SmSKwExe3aezL7s9En6OkMWyDwbikDUyzH1C4JSea4giGCQAoYQKLrXBSjkg-iRZIgD16YkzCEupFyatL0q7QtgLer1UkoGhw88IoGhUx4KybtBW6jcqJreAG9NbwKA0ZCcIxggYFgqlg9QIQCOUmKHiBHo2mETAlAltVM2yQqA8kOFQcdC0vkWdoky5Vxo4oMqWNJEd+Ru9HzAs1xUtUoMop4bjY3IRUGVuqwjyoiK4CEcBQktB8A8IIMleWM0IlCMAUjPkAu2k9B0TVY4ugmA3qEZOnAHuwgL1j2AHQO6i0tQatOiucZatEA9cgyljEgIXPPujB0XgBFRbOU8PkCrcfEzCSBoUZNQAcw93BKUGhsPCFyAwKwO0SxgKFOZzV6uaWLhHkzzNIB-zCQJ7hNte5aWJuA6II1BwchHMCFSAtaBoxKKAeA5mBjpDBwBrxZwH5VXAsuFwIBUqUBg6DGEUMY77o3LO21QQXylKDwUkcUBqzN+EJthggLEKlChDlYOxQzDTECxCggI8JWCAJLEEdCWDEgGoIbgoCOdQh06IFJCRZhg20DzYACV+S0iRHHVjj8sYG8DogtwlgCdQ+AuyjBZNELWaXAJ9EjR88Q+DT4JZ903UyxEv3GsS9AAMC8mCgG860LcQ+0AiT+AMgK+mCARgDLKcIKbkPhtYu0R6Dv5afBQD7aJwLJR8IQOMDO8qbcOIvSq0NamzSL8NXItI1OgI2C268gWuhDwybPUAwod+g4AxQF4tKRsAD2C9M6GlXexQD+TaLUiAIjQBoyHQnZZ2DdgtVkOwHgJCYAga2UvT2gIE2cB1JjMv3IyT4BUY4GgO878HsrQUT3PMD440DkdTowk1i0D0Ax8AN1dhzwA7B6IS0NCpfzBkC2z8AhVp5DMQ8ug3yBgP1IgVyjIgP81QkfGC6woxpkJYOGkwhJ5zxyjCPNgS6InL4RGAhqOpM+QqOTmhuIMlN4JGA92jQD1EhYzQ1Vc5LuYAJZi0KjAn+OcDXSlQWIC-RAaQ3HhiNySQF+CCGPktwCk0pSIZxR4RMNwDWE16TmgfwPdC8Q0Jojcs0SNCkBQCdAMjeE6ZG0Cp3BKNrlVWBFlmnukleWmHFtnWWNmJYpI4bcBNi7MHcBY1HoQgLQBnuEsBeIuqcsTXAeSQQEoJSJI1HkbJA-AAiimA-Sw7yr4x2mIBokNUqHB3BgnO4qt5F7FuxEAFSKkVNVUZBQ4tYAnVrLjG4GL2mDKzAr6O0a1jDqTiBGxa4lDwbkKiBlwkaL9ASQbaj4nljowz3SVxcGMXBpmmcMRBFZaufaAmxknLkACErwRACHOfy8OhWweIJqASA6yZ0DMiR8MVJi4PIFyDqgG0ImZ2KhGMQhPhbiBQBksAYghpBQMwCxifKbiNzFtwy6cor1gVDjWt64siEanWSp3r-wCTxyz4hyANcSgyxgKgowD7CgkEybwSw6RWBbcJOskQ+4kAN+CkMtYJaSRA1zP9w-Q6IGeBpQELBjTq4qztvBoAHAKOjdoYNAghQS38OvBbMYAIHo0AGuuriv0qLGgBcKnKBERpslDsd4h0z8C2MP4-U69AZqXMLEQMAfML6g4ymgI4AWF4sLYA8oljAHYMru3UTACGqoGyyLJsebYSdJbWlglw45Yp5DzxqkqmxbGKoMWA-l8qEthGiRsVCAXecYC5Sqg+gGaLtjgoqtQXInCIaByqoE8iMBQXnK7JQk4CNbxWoxzJRaRW6ffts-tcYn+2DwfBYXAwI+AOxg32BaJSh-ApvdIWeyvABNz-YzswoVosSXqMbMCYgupDHBGwMLlUV87l836FKmnqufpgXHLgfQ6-BgDfgrtsmnAtySDJQFA4RdkIqA6qgZCZ49idxDQwFRjUDCwUxpnB-AyyshpRIqqPgg-KdrG7DWoWzPTkZp+gIcCSuewNTDLAqwMXx0uthGbYBA8mjTSW472FABKEYLE1Ad9agiZqU7PfL+76WQQMY6viBehABE84Pp9inGgZsLBKYH9OxKbwMgMwRGEubnDB0YgDKw66E72hTxKAFdr9xHG6IJb7AwGcEYTqUg2JqCFA6IMLRUokO0Egd8WQMHoOQ1qB8AooCgr9bZrUpNzZgG8KKLAPoXIh1ESANsLpNAa0WDySbiM8PJnTWAkBCQ9ZHLJ5Bgys3JDJQz96AJhtwU6EoAvjREaDBjzOgNxqJQcxG-hGAMxtXCZRV-pMiPgCnKLBmrikEqK95QOIRiH4rFvJhnA2REQBfmUgGVLkQW8j4ATY+0CQCuA1QE+GdUYiSwRyjbeDVh35AMHWC6GDvOm2PsMdKNS1KXIBGi92gCM-BrSPbW0CtASCC9AZQTwKIrccqInWT9ANQIDROs8ISPTqeYyOygt8kyCNqUIBkBlB2gcGGgZUi1eA+wo6L7J66Zo9eFoC61mgFf5GAE6uMizob6e6j-AnMp4rmICBGAAMrHBKYD4UxYp2NgAF2P6gNAgrp1rzAdGFg4W8hWDOyWIw6YAbgFvyM0ydV+AOzId5CWffKQCG0t2BpmQ0rOgzNAedQAb5lACGSW+uAFqaUAvkXnB+WfpSPYckEG9zbMIFFqlJYtZ+C-BGqpvPsDxVcOY3bThgahHC+uXcC3z+gAmNBYoUX8tahhKe-D9g2ciwA6gMV4gIMTGsyQj8KncCFEED7An8KbU6EfYF4x6o8JPWjNmH+EgWTczZm5rmjgnJ6DR0k4ywiS+IrArFMStZhZDEQm6OMDb2CBCMatIWcLRoBoHAkFgAAugAC+QAA`)),e=JSON.parse(String.raw`[{"name":"Theler Kobra MD","cost":37,"upkeep":1,"bomb_mass":0,"escape":"2","crash":"-1","stress":"1","DryMP":5,"WetMP":6,"WetMPwBombs":6,"DPEmpty":12,"DPFull":12,"DPwBombs":12,"MaxSpeedEmpty":18,"MaxSpeedFull":18,"MaxSpeedwBombs":18,"StallSpeedEmpty":5,"StallSpeedFull":6,"StallSpeedFullwBombs":6,"Overspeed":24,"BoostEmpty":3,"BoostFull":3,"BoostFullwBombs":3,"Dropoff":10,"Stabiilty":2,"HandlingEmpty":97,"HandlingFull":96,"HandlingFullwBombs":96,"MaxStrain":22,"Toughness":10,"Structure":51,"EnergyLoss":4,"EnergyLosswBombs":5,"TurnBleed":1,"TurnBleedwBombs":2,"FuelUses":6,"ControlStress":1,"RumbleStress":0,"RateOfClimbFull":5,"RateOfClimbEmpty":6,"RateOfClimbwBombs":5},{"name":"Kreuzer Spinne M3","cost":32,"upkeep":1,"bomb_mass":0,"escape":"2","crash":"-1","stress":"3","DryMP":4,"WetMP":5,"WetMPwBombs":5,"DPEmpty":10,"DPFull":10,"DPwBombs":10,"MaxSpeedEmpty":15,"MaxSpeedFull":15,"MaxSpeedwBombs":15,"StallSpeedEmpty":5,"StallSpeedFull":6,"StallSpeedFullwBombs":6,"Overspeed":20,"BoostEmpty":2,"BoostFull":2,"BoostFullwBombs":2,"Dropoff":9,"Stabiilty":-4,"HandlingEmpty":109,"HandlingFull":108,"HandlingFullwBombs":108,"MaxStrain":21,"Toughness":16,"Structure":60,"EnergyLoss":4,"EnergyLosswBombs":5,"TurnBleed":1,"TurnBleedwBombs":2,"FuelUses":7,"ControlStress":2,"RumbleStress":0,"RateOfClimbFull":5,"RateOfClimbEmpty":6,"RateOfClimbwBombs":5},{"name":"Ritter Model F \"Singvogel\"","cost":28,"upkeep":1,"bomb_mass":5,"escape":"2","crash":"-1","stress":"3","DryMP":4,"WetMP":5,"WetMPwBombs":6,"DPEmpty":11,"DPFull":11,"DPwBombs":12,"MaxSpeedEmpty":16,"MaxSpeedFull":16,"MaxSpeedwBombs":15,"StallSpeedEmpty":5,"StallSpeedFull":7,"StallSpeedFullwBombs":8,"Overspeed":19,"BoostEmpty":3,"BoostFull":2,"BoostFullwBombs":2,"Dropoff":9,"Stabiilty":-6,"HandlingEmpty":101,"HandlingFull":100,"HandlingFullwBombs":99,"MaxStrain":24,"Toughness":7,"Structure":38,"EnergyLoss":4,"EnergyLosswBombs":5,"TurnBleed":1,"TurnBleedwBombs":2,"FuelUses":7,"ControlStress":2,"RumbleStress":0,"RateOfClimbFull":5,"RateOfClimbEmpty":6,"RateOfClimbwBombs":4},{"name":"Markgraf Zerstörer B","cost":32,"upkeep":2,"bomb_mass":10,"escape":"2/2","crash":"-1/-1","stress":"1, 0","DryMP":7,"WetMP":8,"WetMPwBombs":10,"DPEmpty":20,"DPFull":20,"DPwBombs":22,"MaxSpeedEmpty":17,"MaxSpeedFull":17,"MaxSpeedwBombs":17,"StallSpeedEmpty":5,"StallSpeedFull":5,"StallSpeedFullwBombs":7,"Overspeed":28,"BoostEmpty":4,"BoostFull":3,"BoostFullwBombs":2,"Dropoff":10,"Stabiilty":1,"HandlingEmpty":91,"HandlingFull":90,"HandlingFullwBombs":88,"MaxStrain":26,"Toughness":10,"Structure":52,"EnergyLoss":7,"EnergyLosswBombs":8,"TurnBleed":1,"TurnBleedwBombs":2,"FuelUses":7,"ControlStress":1,"RumbleStress":0,"RateOfClimbFull":4,"RateOfClimbEmpty":4,"RateOfClimbwBombs":3},{"name":"Theler Drachen","cost":6,"upkeep":0,"bomb_mass":0,"escape":"2/2","crash":"0/0","stress":"1, 0","DryMP":3,"WetMP":3,"WetMPwBombs":3,"DPEmpty":16,"DPFull":16,"DPwBombs":16,"MaxSpeedEmpty":10,"MaxSpeedFull":10,"MaxSpeedwBombs":10,"StallSpeedEmpty":2,"StallSpeedFull":2,"StallSpeedFullwBombs":2,"Overspeed":21,"BoostEmpty":2,"BoostFull":2,"BoostFullwBombs":2,"Dropoff":4,"Stabiilty":1,"HandlingEmpty":91,"HandlingFull":91,"HandlingFullwBombs":91,"MaxStrain":30,"Toughness":6,"Structure":30,"EnergyLoss":4,"EnergyLosswBombs":5,"TurnBleed":1,"TurnBleedwBombs":2,"FuelUses":7,"ControlStress":1,"RumbleStress":0,"RateOfClimbFull":3,"RateOfClimbEmpty":3,"RateOfClimbwBombs":3},{"name":"Living Grove (Farman)","cost":24,"upkeep":1,"bomb_mass":0,"escape":"0","crash":"-1","stress":"1","DryMP":5,"WetMP":6,"WetMPwBombs":6,"DPEmpty":13,"DPFull":13,"DPwBombs":13,"MaxSpeedEmpty":17,"MaxSpeedFull":17,"MaxSpeedwBombs":17,"StallSpeedEmpty":6,"StallSpeedFull":7,"StallSpeedFullwBombs":7,"Overspeed":24,"BoostEmpty":3,"BoostFull":2,"BoostFullwBombs":2,"Dropoff":10,"Stabiilty":-1,"HandlingEmpty":97,"HandlingFull":96,"HandlingFullwBombs":96,"MaxStrain":20,"Toughness":9,"Structure":45,"EnergyLoss":5,"EnergyLosswBombs":6,"TurnBleed":1,"TurnBleedwBombs":2,"FuelUses":6,"ControlStress":1,"RumbleStress":0,"RateOfClimbFull":5,"RateOfClimbEmpty":6,"RateOfClimbwBombs":5},{"name":"Rathenau 7k","cost":14,"upkeep":1,"bomb_mass":0,"escape":"2","crash":"0","stress":"2","DryMP":3,"WetMP":4,"WetMPwBombs":4,"DPEmpty":11,"DPFull":11,"DPwBombs":11,"MaxSpeedEmpty":16,"MaxSpeedFull":16,"MaxSpeedwBombs":16,"StallSpeedEmpty":3,"StallSpeedFull":5,"StallSpeedFullwBombs":5,"Overspeed":19,"BoostEmpty":4,"BoostFull":3,"BoostFullwBombs":3,"Dropoff":9,"Stabiilty":-2,"HandlingEmpty":99,"HandlingFull":98,"HandlingFullwBombs":98,"MaxStrain":20,"Toughness":7,"Structure":36,"EnergyLoss":4,"EnergyLosswBombs":5,"TurnBleed":1,"TurnBleedwBombs":2,"FuelUses":7,"ControlStress":1,"RumbleStress":0,"RateOfClimbFull":6,"RateOfClimbEmpty":9,"RateOfClimbwBombs":6},{"name":"Braun VJ","cost":13,"upkeep":1,"bomb_mass":0,"escape":"0/0","crash":"-1/-1","stress":"1, 0","DryMP":5,"WetMP":7,"WetMPwBombs":7,"DPEmpty":11,"DPFull":11,"DPwBombs":11,"MaxSpeedEmpty":21,"MaxSpeedFull":21,"MaxSpeedwBombs":21,"StallSpeedEmpty":7,"StallSpeedFull":10,"StallSpeedFullwBombs":10,"Overspeed":23,"BoostEmpty":3,"BoostFull":2,"BoostFullwBombs":2,"Dropoff":6,"Stabiilty":-1,"HandlingEmpty":79,"HandlingFull":77,"HandlingFullwBombs":77,"MaxStrain":20,"Toughness":6,"Structure":32,"EnergyLoss":3,"EnergyLosswBombs":4,"TurnBleed":2,"TurnBleedwBombs":3,"FuelUses":12,"ControlStress":1,"RumbleStress":0,"RateOfClimbFull":3,"RateOfClimbEmpty":5,"RateOfClimbwBombs":3},{"name":"KW-S1","cost":29,"upkeep":1,"bomb_mass":0,"escape":"2","crash":"-1","stress":"1","DryMP":5,"WetMP":6,"WetMPwBombs":6,"DPEmpty":17,"DPFull":17,"DPwBombs":17,"MaxSpeedEmpty":15,"MaxSpeedFull":15,"MaxSpeedwBombs":15,"StallSpeedEmpty":4,"StallSpeedFull":5,"StallSpeedFullwBombs":5,"Overspeed":25,"BoostEmpty":3,"BoostFull":2,"BoostFullwBombs":2,"Dropoff":6,"Stabiilty":-1,"HandlingEmpty":97,"HandlingFull":96,"HandlingFullwBombs":96,"MaxStrain":32,"Toughness":11,"Structure":56,"EnergyLoss":5,"EnergyLosswBombs":6,"TurnBleed":1,"TurnBleedwBombs":2,"FuelUses":6,"ControlStress":1,"RumbleStress":0,"RateOfClimbFull":3,"RateOfClimbEmpty":3,"RateOfClimbwBombs":3},{"name":"KW-S4","cost":42,"upkeep":2,"bomb_mass":0,"escape":"2/-3","crash":"-1/-1","stress":"1, 0","DryMP":6,"WetMP":7,"WetMPwBombs":7,"DPEmpty":12,"DPFull":12,"DPwBombs":12,"MaxSpeedEmpty":19,"MaxSpeedFull":19,"MaxSpeedwBombs":19,"StallSpeedEmpty":6,"StallSpeedFull":7,"StallSpeedFullwBombs":7,"Overspeed":42,"BoostEmpty":3,"BoostFull":2,"BoostFullwBombs":2,"Dropoff":11,"Stabiilty":-3,"HandlingEmpty":96,"HandlingFull":95,"HandlingFullwBombs":95,"MaxStrain":31,"Toughness":22,"Structure":51,"EnergyLoss":4,"EnergyLosswBombs":5,"TurnBleed":1,"TurnBleedwBombs":2,"FuelUses":7,"ControlStress":1,"RumbleStress":0,"RateOfClimbFull":5,"RateOfClimbEmpty":6,"RateOfClimbwBombs":5},{"name":"Ritter Model D \"SeePfau\"","cost":17,"upkeep":1,"bomb_mass":0,"escape":"2","crash":"-1","stress":"2","DryMP":4,"WetMP":5,"WetMPwBombs":5,"DPEmpty":10,"DPFull":10,"DPwBombs":10,"MaxSpeedEmpty":16,"MaxSpeedFull":16,"MaxSpeedwBombs":16,"StallSpeedEmpty":5,"StallSpeedFull":7,"StallSpeedFullwBombs":7,"Overspeed":19,"BoostEmpty":3,"BoostFull":2,"BoostFullwBombs":2,"Dropoff":9,"Stabiilty":-2,"HandlingEmpty":103,"HandlingFull":102,"HandlingFullwBombs":102,"MaxStrain":26,"Toughness":5,"Structure":28,"EnergyLoss":4,"EnergyLosswBombs":5,"TurnBleed":1,"TurnBleedwBombs":2,"FuelUses":7,"ControlStress":1,"RumbleStress":0,"RateOfClimbFull":5,"RateOfClimbEmpty":7,"RateOfClimbwBombs":5},{"name":"Teicher Möwe 13S-J","cost":43,"upkeep":1,"bomb_mass":10,"escape":"2/2","crash":"-1/-1","stress":"1(0), 1(0)","DryMP":7,"WetMP":9,"WetMPwBombs":11,"DPEmpty":18,"DPFull":18,"DPwBombs":20,"MaxSpeedEmpty":14,"MaxSpeedFull":14,"MaxSpeedwBombs":13,"StallSpeedEmpty":5,"StallSpeedFull":7,"StallSpeedFullwBombs":8,"Overspeed":24,"BoostEmpty":2,"BoostFull":1,"BoostFullwBombs":1,"Dropoff":8,"Stabiilty":0,"HandlingEmpty":97,"HandlingFull":95,"HandlingFullwBombs":93,"MaxStrain":38,"Toughness":31,"Structure":80,"EnergyLoss":6,"EnergyLosswBombs":7,"TurnBleed":1,"TurnBleedwBombs":2,"FuelUses":13,"ControlStress":1,"RumbleStress":0,"RateOfClimbFull":2,"RateOfClimbEmpty":3,"RateOfClimbwBombs":1},{"name":"Ritter \"Ersatz S\"","cost":25,"upkeep":2,"bomb_mass":0,"escape":"3","crash":"-1","stress":"3","DryMP":4,"WetMP":6,"WetMPwBombs":6,"DPEmpty":14,"DPFull":14,"DPwBombs":14,"MaxSpeedEmpty":19,"MaxSpeedFull":19,"MaxSpeedwBombs":19,"StallSpeedEmpty":5,"StallSpeedFull":8,"StallSpeedFullwBombs":8,"Overspeed":21,"BoostEmpty":5,"BoostFull":3,"BoostFullwBombs":3,"Dropoff":11,"Stabiilty":-7,"HandlingEmpty":102,"HandlingFull":100,"HandlingFullwBombs":100,"MaxStrain":23,"Toughness":8,"Structure":43,"EnergyLoss":5,"EnergyLosswBombs":6,"TurnBleed":1,"TurnBleedwBombs":2,"FuelUses":8,"ControlStress":2,"RumbleStress":0,"RateOfClimbFull":6,"RateOfClimbEmpty":9,"RateOfClimbwBombs":6},{"name":"Kreuzer Spinne V8","cost":29,"upkeep":1,"bomb_mass":0,"escape":"2","crash":"-1","stress":"1","DryMP":4,"WetMP":5,"WetMPwBombs":5,"DPEmpty":11,"DPFull":11,"DPwBombs":11,"MaxSpeedEmpty":19,"MaxSpeedFull":19,"MaxSpeedwBombs":19,"StallSpeedEmpty":5,"StallSpeedFull":6,"StallSpeedFullwBombs":6,"Overspeed":28,"BoostEmpty":4,"BoostFull":3,"BoostFullwBombs":3,"Dropoff":11,"Stabiilty":-1,"HandlingEmpty":108,"HandlingFull":107,"HandlingFullwBombs":107,"MaxStrain":21,"Toughness":16,"Structure":60,"EnergyLoss":4,"EnergyLosswBombs":5,"TurnBleed":1,"TurnBleedwBombs":2,"FuelUses":7,"ControlStress":1,"RumbleStress":0,"RateOfClimbFull":7,"RateOfClimbEmpty":9,"RateOfClimbwBombs":7},{"name":"Hugo's Ganzmetall Wunderflugzeug!","cost":43,"upkeep":1,"bomb_mass":0,"escape":"2","crash":"0","stress":"1","DryMP":7,"WetMP":8,"WetMPwBombs":8,"DPEmpty":12,"DPFull":12,"DPwBombs":12,"MaxSpeedEmpty":14,"MaxSpeedFull":14,"MaxSpeedwBombs":14,"StallSpeedEmpty":6,"StallSpeedFull":7,"StallSpeedFullwBombs":7,"Overspeed":24,"BoostEmpty":1,"BoostFull":1,"BoostFullwBombs":1,"Dropoff":8,"Stabiilty":-1,"HandlingEmpty":92,"HandlingFull":91,"HandlingFullwBombs":91,"MaxStrain":49,"Toughness":51,"Structure":50,"EnergyLoss":4,"EnergyLosswBombs":5,"TurnBleed":1,"TurnBleedwBombs":2,"FuelUses":11,"ControlStress":1,"RumbleStress":0,"RateOfClimbFull":2,"RateOfClimbEmpty":3,"RateOfClimbwBombs":2},{"name":"L&L Kessel IIb","cost":30,"upkeep":2,"bomb_mass":5,"escape":"2/2","crash":"-1/-1","stress":"1, 0","DryMP":6,"WetMP":8,"WetMPwBombs":9,"DPEmpty":22,"DPFull":22,"DPwBombs":23,"MaxSpeedEmpty":13,"MaxSpeedFull":13,"MaxSpeedwBombs":13,"StallSpeedEmpty":4,"StallSpeedFull":5,"StallSpeedFullwBombs":6,"Overspeed":25,"BoostEmpty":3,"BoostFull":2,"BoostFullwBombs":2,"Dropoff":10,"Stabiilty":0,"HandlingEmpty":94,"HandlingFull":92,"HandlingFullwBombs":91,"MaxStrain":36,"Toughness":10,"Structure":52,"EnergyLoss":10,"EnergyLosswBombs":10,"TurnBleed":1,"TurnBleedwBombs":2,"FuelUses":7,"ControlStress":1,"RumbleStress":0,"RateOfClimbFull":3,"RateOfClimbEmpty":4,"RateOfClimbwBombs":2},{"name":"Ajeet Interceptor","cost":24,"upkeep":1,"bomb_mass":0,"escape":"2","crash":"0","stress":"2","DryMP":3,"WetMP":4,"WetMPwBombs":4,"DPEmpty":7,"DPFull":7,"DPwBombs":7,"MaxSpeedEmpty":20,"MaxSpeedFull":20,"MaxSpeedwBombs":20,"StallSpeedEmpty":5,"StallSpeedFull":6,"StallSpeedFullwBombs":6,"Overspeed":20,"BoostEmpty":3,"BoostFull":2,"BoostFullwBombs":2,"Dropoff":8,"Stabiilty":-1,"HandlingEmpty":95,"HandlingFull":94,"HandlingFullwBombs":94,"MaxStrain":33,"Toughness":7,"Structure":35,"EnergyLoss":2,"EnergyLosswBombs":3,"TurnBleed":1,"TurnBleedwBombs":2,"FuelUses":7,"ControlStress":1,"RumbleStress":0,"RateOfClimbFull":8,"RateOfClimbEmpty":10,"RateOfClimbwBombs":8},{"name":"Shamsher Interceptor","cost":23,"upkeep":1,"bomb_mass":10,"escape":"2","crash":"0","stress":"2","DryMP":3,"WetMP":4,"WetMPwBombs":6,"DPEmpty":11,"DPFull":11,"DPwBombs":13,"MaxSpeedEmpty":16,"MaxSpeedFull":16,"MaxSpeedwBombs":15,"StallSpeedEmpty":5,"StallSpeedFull":6,"StallSpeedFullwBombs":10,"Overspeed":20,"BoostEmpty":3,"BoostFull":2,"BoostFullwBombs":1,"Dropoff":6,"Stabiilty":-2,"HandlingEmpty":100,"HandlingFull":99,"HandlingFullwBombs":97,"MaxStrain":35,"Toughness":7,"Structure":35,"EnergyLoss":3,"EnergyLosswBombs":4,"TurnBleed":1,"TurnBleedwBombs":2,"FuelUses":7,"ControlStress":1,"RumbleStress":0,"RateOfClimbFull":5,"RateOfClimbEmpty":6,"RateOfClimbwBombs":2},{"name":"Bahadur Escort","cost":39,"upkeep":2,"bomb_mass":0,"escape":"2","crash":"0","stress":"1","DryMP":5,"WetMP":7,"WetMPwBombs":7,"DPEmpty":14,"DPFull":14,"DPwBombs":14,"MaxSpeedEmpty":18,"MaxSpeedFull":18,"MaxSpeedwBombs":18,"StallSpeedEmpty":4,"StallSpeedFull":6,"StallSpeedFullwBombs":6,"Overspeed":20,"BoostEmpty":4,"BoostFull":3,"BoostFullwBombs":3,"Dropoff":10,"Stabiilty":-1,"HandlingEmpty":101,"HandlingFull":99,"HandlingFullwBombs":99,"MaxStrain":22,"Toughness":21,"Structure":39,"EnergyLoss":5,"EnergyLosswBombs":6,"TurnBleed":1,"TurnBleedwBombs":2,"FuelUses":7,"ControlStress":1,"RumbleStress":0,"RateOfClimbFull":5,"RateOfClimbEmpty":7,"RateOfClimbwBombs":5},{"name":"Cheetal Fighter","cost":37,"upkeep":2,"bomb_mass":0,"escape":"0/0","crash":"0/0","stress":"2, 0","DryMP":5,"WetMP":8,"WetMPwBombs":8,"DPEmpty":19,"DPFull":19,"DPwBombs":19,"MaxSpeedEmpty":16,"MaxSpeedFull":16,"MaxSpeedwBombs":16,"StallSpeedEmpty":4,"StallSpeedFull":7,"StallSpeedFullwBombs":7,"Overspeed":21,"BoostEmpty":4,"BoostFull":2,"BoostFullwBombs":2,"Dropoff":9,"Stabiilty":-4,"HandlingEmpty":94,"HandlingFull":91,"HandlingFullwBombs":91,"MaxStrain":41,"Toughness":9,"Structure":49,"EnergyLoss":7,"EnergyLosswBombs":8,"TurnBleed":1,"TurnBleedwBombs":2,"FuelUses":13,"ControlStress":2,"RumbleStress":0,"RateOfClimbFull":3,"RateOfClimbEmpty":5,"RateOfClimbwBombs":3},{"name":"Markgraf Attentäter C","cost":32,"upkeep":2,"bomb_mass":0,"escape":"2","crash":"-1","stress":"2","DryMP":7,"WetMP":8,"WetMPwBombs":8,"DPEmpty":14,"DPFull":14,"DPwBombs":14,"MaxSpeedEmpty":19,"MaxSpeedFull":19,"MaxSpeedwBombs":19,"StallSpeedEmpty":7,"StallSpeedFull":9,"StallSpeedFullwBombs":9,"Overspeed":42,"BoostEmpty":2,"BoostFull":2,"BoostFullwBombs":2,"Dropoff":7,"Stabiilty":-4,"HandlingEmpty":94,"HandlingFull":93,"HandlingFullwBombs":93,"MaxStrain":28,"Toughness":7,"Structure":35,"EnergyLoss":4,"EnergyLosswBombs":5,"TurnBleed":2,"TurnBleedwBombs":3,"FuelUses":7,"ControlStress":2,"RumbleStress":0,"RateOfClimbFull":3,"RateOfClimbEmpty":4,"RateOfClimbwBombs":3},{"name":"Königskondor L.1","cost":70,"upkeep":1,"bomb_mass":0,"escape":"1","crash":"-1","stress":"1","DryMP":5,"WetMP":7,"WetMPwBombs":7,"DPEmpty":13,"DPFull":13,"DPwBombs":13,"MaxSpeedEmpty":19,"MaxSpeedFull":19,"MaxSpeedwBombs":19,"StallSpeedEmpty":4,"StallSpeedFull":6,"StallSpeedFullwBombs":6,"Overspeed":48,"BoostEmpty":3,"BoostFull":2,"BoostFullwBombs":2,"Dropoff":13,"Stabiilty":1,"HandlingEmpty":98,"HandlingFull":96,"HandlingFullwBombs":96,"MaxStrain":34,"Toughness":21,"Structure":55,"EnergyLoss":4,"EnergyLosswBombs":5,"TurnBleed":1,"TurnBleedwBombs":2,"FuelUses":11,"ControlStress":1,"RumbleStress":0,"RateOfClimbFull":4,"RateOfClimbEmpty":5,"RateOfClimbwBombs":4},{"name":"Von Morgen Vampyr","cost":41,"upkeep":1,"bomb_mass":0,"escape":"2","crash":"-1","stress":"1","DryMP":6,"WetMP":7,"WetMPwBombs":7,"DPEmpty":11,"DPFull":11,"DPwBombs":11,"MaxSpeedEmpty":19,"MaxSpeedFull":19,"MaxSpeedwBombs":19,"StallSpeedEmpty":6,"StallSpeedFull":7,"StallSpeedFullwBombs":7,"Overspeed":24,"BoostEmpty":3,"BoostFull":2,"BoostFullwBombs":2,"Dropoff":11,"Stabiilty":2,"HandlingEmpty":96,"HandlingFull":95,"HandlingFullwBombs":95,"MaxStrain":51,"Toughness":21,"Structure":67,"EnergyLoss":4,"EnergyLosswBombs":5,"TurnBleed":1,"TurnBleedwBombs":2,"FuelUses":6,"ControlStress":1,"RumbleStress":0,"RateOfClimbFull":5,"RateOfClimbEmpty":6,"RateOfClimbwBombs":5},{"name":"Hugo's Einzigartiger Stahl-Jagdbomber!","cost":65,"upkeep":1,"bomb_mass":5,"escape":"2/2","crash":"-1/-1","stress":"1, 0","DryMP":9,"WetMP":10,"WetMPwBombs":11,"DPEmpty":16,"DPFull":16,"DPwBombs":17,"MaxSpeedEmpty":17,"MaxSpeedFull":17,"MaxSpeedwBombs":16,"StallSpeedEmpty":8,"StallSpeedFull":9,"StallSpeedFullwBombs":10,"Overspeed":36,"BoostEmpty":2,"BoostFull":1,"BoostFullwBombs":1,"Dropoff":6,"Stabiilty":-2,"HandlingEmpty":93,"HandlingFull":92,"HandlingFullwBombs":91,"MaxStrain":49,"Toughness":50,"Structure":60,"EnergyLoss":4,"EnergyLosswBombs":5,"TurnBleed":2,"TurnBleedwBombs":3,"FuelUses":7,"ControlStress":1,"RumbleStress":0,"RateOfClimbFull":2,"RateOfClimbEmpty":2,"RateOfClimbwBombs":2},{"name":"Theler Kobra MB","cost":32,"upkeep":1,"bomb_mass":0,"escape":"2","crash":"-1","stress":"1","DryMP":5,"WetMP":6,"WetMPwBombs":6,"DPEmpty":14,"DPFull":14,"DPwBombs":14,"MaxSpeedEmpty":16,"MaxSpeedFull":16,"MaxSpeedwBombs":16,"StallSpeedEmpty":5,"StallSpeedFull":6,"StallSpeedFullwBombs":6,"Overspeed":24,"BoostEmpty":3,"BoostFull":2,"BoostFullwBombs":2,"Dropoff":9,"Stabiilty":1,"HandlingEmpty":95,"HandlingFull":94,"HandlingFullwBombs":94,"MaxStrain":30,"Toughness":12,"Structure":61,"EnergyLoss":5,"EnergyLosswBombs":6,"TurnBleed":1,"TurnBleedwBombs":2,"FuelUses":6,"ControlStress":1,"RumbleStress":0,"RateOfClimbFull":4,"RateOfClimbEmpty":5,"RateOfClimbwBombs":4},{"name":"Kreuzer Skorpion","cost":33,"upkeep":1,"bomb_mass":0,"escape":"2","crash":"0","stress":"2","DryMP":4,"WetMP":5,"WetMPwBombs":5,"DPEmpty":7,"DPFull":7,"DPwBombs":7,"MaxSpeedEmpty":20,"MaxSpeedFull":20,"MaxSpeedwBombs":20,"StallSpeedEmpty":6,"StallSpeedFull":8,"StallSpeedFullwBombs":8,"Overspeed":20,"BoostEmpty":2,"BoostFull":2,"BoostFullwBombs":2,"Dropoff":8,"Stabiilty":-3,"HandlingEmpty":99,"HandlingFull":98,"HandlingFullwBombs":98,"MaxStrain":37,"Toughness":15,"Structure":45,"EnergyLoss":2,"EnergyLosswBombs":3,"TurnBleed":2,"TurnBleedwBombs":3,"FuelUses":7,"ControlStress":1,"RumbleStress":0,"RateOfClimbFull":6,"RateOfClimbEmpty":8,"RateOfClimbwBombs":6},{"name":"KW Adler N","cost":25,"upkeep":1,"bomb_mass":0,"escape":"1","crash":"-1","stress":"1","DryMP":5,"WetMP":6,"WetMPwBombs":6,"DPEmpty":12,"DPFull":12,"DPwBombs":12,"MaxSpeedEmpty":18,"MaxSpeedFull":18,"MaxSpeedwBombs":18,"StallSpeedEmpty":6,"StallSpeedFull":7,"StallSpeedFullwBombs":7,"Overspeed":37,"BoostEmpty":3,"BoostFull":2,"BoostFullwBombs":2,"Dropoff":7,"Stabiilty":1,"HandlingEmpty":97,"HandlingFull":96,"HandlingFullwBombs":96,"MaxStrain":30,"Toughness":7,"Structure":38,"EnergyLoss":3,"EnergyLosswBombs":4,"TurnBleed":2,"TurnBleedwBombs":3,"FuelUses":8,"ControlStress":1,"RumbleStress":0,"RateOfClimbFull":4,"RateOfClimbEmpty":5,"RateOfClimbwBombs":4},{"name":"Markgraf Volksfestung A","cost":70,"upkeep":7,"bomb_mass":30,"escape":"2/2/2/2/2","crash":"-1/-1/-1/-1/-1","stress":"2(0), 2(0), 0, 0, 0","DryMP":17,"WetMP":23,"WetMPwBombs":29,"DPEmpty":65,"DPFull":65,"DPwBombs":65,"MaxSpeedEmpty":15,"MaxSpeedFull":15,"MaxSpeedwBombs":15,"StallSpeedEmpty":3,"StallSpeedFull":4,"StallSpeedFullwBombs":5,"Overspeed":32,"BoostEmpty":4,"BoostFull":3,"BoostFullwBombs":2,"Dropoff":9,"Stabiilty":3,"HandlingEmpty":71,"HandlingFull":65,"HandlingFullwBombs":59,"MaxStrain":28,"Toughness":21,"Structure":107,"EnergyLoss":10,"EnergyLosswBombs":10,"TurnBleed":1,"TurnBleedwBombs":2,"FuelUses":11,"ControlStress":2,"RumbleStress":0,"RateOfClimbFull":1,"RateOfClimbEmpty":1,"RateOfClimbwBombs":1},{"name":"Arntwerke c.7","cost":17,"upkeep":1,"bomb_mass":0,"escape":"2","crash":"0","stress":"2","DryMP":3,"WetMP":4,"WetMPwBombs":4,"DPEmpty":10,"DPFull":10,"DPwBombs":10,"MaxSpeedEmpty":18,"MaxSpeedFull":18,"MaxSpeedwBombs":18,"StallSpeedEmpty":4,"StallSpeedFull":6,"StallSpeedFullwBombs":6,"Overspeed":20,"BoostEmpty":3,"BoostFull":2,"BoostFullwBombs":2,"Dropoff":5,"Stabiilty":-2,"HandlingEmpty":101,"HandlingFull":100,"HandlingFullwBombs":100,"MaxStrain":30,"Toughness":6,"Structure":30,"EnergyLoss":3,"EnergyLosswBombs":4,"TurnBleed":2,"TurnBleedwBombs":3,"FuelUses":7,"ControlStress":1,"RumbleStress":0,"RateOfClimbFull":5,"RateOfClimbEmpty":7,"RateOfClimbwBombs":5},{"name":"Mitscher IG J-79SF","cost":11,"upkeep":1,"bomb_mass":0,"escape":"0","crash":"-1","stress":"2","DryMP":2,"WetMP":3,"WetMPwBombs":3,"DPEmpty":12,"DPFull":12,"DPwBombs":12,"MaxSpeedEmpty":14,"MaxSpeedFull":14,"MaxSpeedwBombs":14,"StallSpeedEmpty":2,"StallSpeedFull":3,"StallSpeedFullwBombs":3,"Overspeed":20,"BoostEmpty":5,"BoostFull":3,"BoostFullwBombs":3,"Dropoff":8,"Stabiilty":-6,"HandlingEmpty":104,"HandlingFull":103,"HandlingFullwBombs":103,"MaxStrain":25,"Toughness":5,"Structure":38,"EnergyLoss":4,"EnergyLosswBombs":5,"TurnBleed":1,"TurnBleedwBombs":2,"FuelUses":7,"ControlStress":2,"RumbleStress":0,"RateOfClimbFull":7,"RateOfClimbEmpty":10,"RateOfClimbwBombs":7},{"name":"Recht Luftschlepper","cost":22,"upkeep":1,"bomb_mass":10,"escape":"0/0","crash":"-1/-1","stress":"2, 0","DryMP":5,"WetMP":6,"WetMPwBombs":8,"DPEmpty":25,"DPFull":25,"DPwBombs":27,"MaxSpeedEmpty":12,"MaxSpeedFull":12,"MaxSpeedwBombs":11,"StallSpeedEmpty":2,"StallSpeedFull":3,"StallSpeedFullwBombs":4,"Overspeed":28,"BoostEmpty":3,"BoostFull":2,"BoostFullwBombs":2,"Dropoff":7,"Stabiilty":-4,"HandlingEmpty":97,"HandlingFull":96,"HandlingFullwBombs":94,"MaxStrain":46,"Toughness":10,"Structure":52,"EnergyLoss":9,"EnergyLosswBombs":10,"TurnBleed":1,"TurnBleedwBombs":2,"FuelUses":15,"ControlStress":2,"RumbleStress":0,"RateOfClimbFull":2,"RateOfClimbEmpty":3,"RateOfClimbwBombs":1},{"name":"Ritter Model Cj \"Spatz\"","cost":17,"upkeep":1,"bomb_mass":0,"escape":"2","crash":"-1","stress":"2","DryMP":4,"WetMP":5,"WetMPwBombs":5,"DPEmpty":10,"DPFull":10,"DPwBombs":10,"MaxSpeedEmpty":15,"MaxSpeedFull":15,"MaxSpeedwBombs":15,"StallSpeedEmpty":6,"StallSpeedFull":7,"StallSpeedFullwBombs":7,"Overspeed":20,"BoostEmpty":2,"BoostFull":2,"BoostFullwBombs":2,"Dropoff":9,"Stabiilty":0,"HandlingEmpty":99,"HandlingFull":98,"HandlingFullwBombs":98,"MaxStrain":26,"Toughness":8,"Structure":40,"EnergyLoss":4,"EnergyLosswBombs":5,"TurnBleed":1,"TurnBleedwBombs":2,"FuelUses":7,"ControlStress":1,"RumbleStress":0,"RateOfClimbFull":5,"RateOfClimbEmpty":6,"RateOfClimbwBombs":5},{"name":"Theler Zweihander","cost":40,"upkeep":1,"bomb_mass":0,"escape":"-2","crash":"-1","stress":"0","DryMP":6,"WetMP":7,"WetMPwBombs":7,"DPEmpty":13,"DPFull":13,"DPwBombs":13,"MaxSpeedEmpty":20,"MaxSpeedFull":20,"MaxSpeedwBombs":20,"StallSpeedEmpty":7,"StallSpeedFull":8,"StallSpeedFullwBombs":8,"Overspeed":24,"BoostEmpty":2,"BoostFull":2,"BoostFullwBombs":2,"Dropoff":6,"Stabiilty":3,"HandlingEmpty":100,"HandlingFull":99,"HandlingFullwBombs":99,"MaxStrain":33,"Toughness":21,"Structure":33,"EnergyLoss":3,"EnergyLosswBombs":4,"TurnBleed":2,"TurnBleedwBombs":3,"FuelUses":6,"ControlStress":1,"RumbleStress":0,"RateOfClimbFull":3,"RateOfClimbEmpty":4,"RateOfClimbwBombs":3},{"name":"Mitscher IG J-83 Geistliche","cost":17,"upkeep":1,"bomb_mass":0,"escape":"2/0","crash":"-1/-1","stress":"1, 1","DryMP":4,"WetMP":5,"WetMPwBombs":5,"DPEmpty":14,"DPFull":14,"DPwBombs":14,"MaxSpeedEmpty":14,"MaxSpeedFull":14,"MaxSpeedwBombs":14,"StallSpeedEmpty":4,"StallSpeedFull":5,"StallSpeedFullwBombs":5,"Overspeed":23,"BoostEmpty":2,"BoostFull":2,"BoostFullwBombs":2,"Dropoff":5,"Stabiilty":2,"HandlingEmpty":95,"HandlingFull":94,"HandlingFullwBombs":94,"MaxStrain":38,"Toughness":9,"Structure":47,"EnergyLoss":4,"EnergyLosswBombs":5,"TurnBleed":1,"TurnBleedwBombs":2,"FuelUses":10,"ControlStress":1,"RumbleStress":0,"RateOfClimbFull":3,"RateOfClimbEmpty":4,"RateOfClimbwBombs":3},{"name":"Arntwerke d.13","cost":24,"upkeep":1,"bomb_mass":10,"escape":"0/0/0","crash":"-1/-1/-1","stress":"3, 1, 1","DryMP":6,"WetMP":8,"WetMPwBombs":10,"DPEmpty":22,"DPFull":22,"DPwBombs":23,"MaxSpeedEmpty":13,"MaxSpeedFull":13,"MaxSpeedwBombs":12,"StallSpeedEmpty":5,"StallSpeedFull":6,"StallSpeedFullwBombs":8,"Overspeed":18,"BoostEmpty":2,"BoostFull":1,"BoostFullwBombs":1,"Dropoff":5,"Stabiilty":-9,"HandlingEmpty":105,"HandlingFull":103,"HandlingFullwBombs":101,"MaxStrain":45,"Toughness":10,"Structure":53,"EnergyLoss":6,"EnergyLosswBombs":7,"TurnBleed":1,"TurnBleedwBombs":2,"FuelUses":12,"ControlStress":2,"RumbleStress":0,"RateOfClimbFull":1,"RateOfClimbEmpty":2,"RateOfClimbwBombs":1},{"name":"Rathenau-9c","cost":13,"upkeep":1,"bomb_mass":5,"escape":"2","crash":"-1","stress":"2","DryMP":3,"WetMP":4,"WetMPwBombs":5,"DPEmpty":9,"DPFull":9,"DPwBombs":10,"MaxSpeedEmpty":16,"MaxSpeedFull":16,"MaxSpeedwBombs":15,"StallSpeedEmpty":4,"StallSpeedFull":6,"StallSpeedFullwBombs":8,"Overspeed":20,"BoostEmpty":3,"BoostFull":2,"BoostFullwBombs":2,"Dropoff":9,"Stabiilty":-1,"HandlingEmpty":105,"HandlingFull":104,"HandlingFullwBombs":103,"MaxStrain":25,"Toughness":6,"Structure":30,"EnergyLoss":3,"EnergyLosswBombs":4,"TurnBleed":1,"TurnBleedwBombs":2,"FuelUses":7,"ControlStress":1,"RumbleStress":0,"RateOfClimbFull":7,"RateOfClimbEmpty":9,"RateOfClimbwBombs":5},{"name":"Gernsback 0012","cost":54,"upkeep":2,"bomb_mass":0,"escape":"-2","crash":"-1","stress":"0","DryMP":6,"WetMP":8,"WetMPwBombs":8,"DPEmpty":12,"DPFull":12,"DPwBombs":12,"MaxSpeedEmpty":17,"MaxSpeedFull":17,"MaxSpeedwBombs":17,"StallSpeedEmpty":8,"StallSpeedFull":11,"StallSpeedFullwBombs":11,"Overspeed":32,"BoostEmpty":3,"BoostFull":2,"BoostFullwBombs":2,"Dropoff":13,"Stabiilty":0,"HandlingEmpty":102,"HandlingFull":100,"HandlingFullwBombs":100,"MaxStrain":32,"Toughness":11,"Structure":38,"EnergyLoss":6,"EnergyLosswBombs":7,"TurnBleed":2,"TurnBleedwBombs":3,"FuelUses":12,"ControlStress":1,"RumbleStress":0,"RateOfClimbFull":5,"RateOfClimbEmpty":7,"RateOfClimbwBombs":5},{"name":"Gegenbeispeil","cost":36,"upkeep":1,"bomb_mass":0,"escape":"0","crash":"-1","stress":"2","DryMP":5,"WetMP":6,"WetMPwBombs":6,"DPEmpty":10,"DPFull":10,"DPwBombs":10,"MaxSpeedEmpty":18,"MaxSpeedFull":18,"MaxSpeedwBombs":18,"StallSpeedEmpty":5,"StallSpeedFull":6,"StallSpeedFullwBombs":6,"Overspeed":25,"BoostEmpty":3,"BoostFull":2,"BoostFullwBombs":2,"Dropoff":10,"Stabiilty":-8,"HandlingEmpty":103,"HandlingFull":102,"HandlingFullwBombs":102,"MaxStrain":32,"Toughness":24,"Structure":62,"EnergyLoss":4,"EnergyLosswBombs":5,"TurnBleed":1,"TurnBleedwBombs":2,"FuelUses":8,"ControlStress":2,"RumbleStress":0,"RateOfClimbFull":5,"RateOfClimbEmpty":6,"RateOfClimbwBombs":5},{"name":"Universität Kobra M01","cost":34,"upkeep":1,"bomb_mass":0,"escape":"2","crash":"-2","stress":"1","DryMP":5,"WetMP":6,"WetMPwBombs":6,"DPEmpty":10,"DPFull":10,"DPwBombs":10,"MaxSpeedEmpty":19,"MaxSpeedFull":19,"MaxSpeedwBombs":19,"StallSpeedEmpty":6,"StallSpeedFull":7,"StallSpeedFullwBombs":7,"Overspeed":24,"BoostEmpty":3,"BoostFull":2,"BoostFullwBombs":2,"Dropoff":11,"Stabiilty":3,"HandlingEmpty":92,"HandlingFull":91,"HandlingFullwBombs":91,"MaxStrain":30,"Toughness":13,"Structure":65,"EnergyLoss":4,"EnergyLosswBombs":5,"TurnBleed":1,"TurnBleedwBombs":2,"FuelUses":6,"ControlStress":1,"RumbleStress":0,"RateOfClimbFull":6,"RateOfClimbEmpty":7,"RateOfClimbwBombs":6},{"name":"Teicher Schnelles Mammut","cost":39,"upkeep":4,"bomb_mass":20,"escape":"0/2/2","crash":"-1/-1/-1","stress":"3, 2, 2","DryMP":10,"WetMP":20,"WetMPwBombs":24,"DPEmpty":42,"DPFull":42,"DPwBombs":42,"MaxSpeedEmpty":17,"MaxSpeedFull":17,"MaxSpeedwBombs":17,"StallSpeedEmpty":2,"StallSpeedFull":4,"StallSpeedFullwBombs":5,"Overspeed":100,"BoostEmpty":6,"BoostFull":3,"BoostFullwBombs":2,"Dropoff":10,"Stabiilty":3,"HandlingEmpty":69,"HandlingFull":59,"HandlingFullwBombs":55,"MaxStrain":36,"Toughness":16,"Structure":80,"EnergyLoss":9,"EnergyLosswBombs":10,"TurnBleed":1,"TurnBleedwBombs":2,"FuelUses":7,"ControlStress":2,"RumbleStress":2,"RateOfClimbFull":1,"RateOfClimbEmpty":3,"RateOfClimbwBombs":1},{"name":"Rathenau-16d","cost":28,"upkeep":1,"bomb_mass":0,"escape":"2","crash":"0","stress":"2","DryMP":5,"WetMP":6,"WetMPwBombs":6,"DPEmpty":11,"DPFull":11,"DPwBombs":11,"MaxSpeedEmpty":16,"MaxSpeedFull":16,"MaxSpeedwBombs":16,"StallSpeedEmpty":7,"StallSpeedFull":8,"StallSpeedFullwBombs":8,"Overspeed":19,"BoostEmpty":2,"BoostFull":2,"BoostFullwBombs":2,"Dropoff":9,"Stabiilty":3,"HandlingEmpty":103,"HandlingFull":102,"HandlingFullwBombs":102,"MaxStrain":30,"Toughness":6,"Structure":30,"EnergyLoss":4,"EnergyLosswBombs":5,"TurnBleed":2,"TurnBleedwBombs":3,"FuelUses":7,"ControlStress":1,"RumbleStress":0,"RateOfClimbFull":4,"RateOfClimbEmpty":5,"RateOfClimbwBombs":4},{"name":"Braun DC \"Puma\"","cost":31,"upkeep":1,"bomb_mass":0,"escape":"2","crash":"-1","stress":"2","DryMP":3,"WetMP":5,"WetMPwBombs":5,"DPEmpty":10,"DPFull":10,"DPwBombs":10,"MaxSpeedEmpty":15,"MaxSpeedFull":15,"MaxSpeedwBombs":15,"StallSpeedEmpty":3,"StallSpeedFull":5,"StallSpeedFullwBombs":5,"Overspeed":36,"BoostEmpty":5,"BoostFull":3,"BoostFullwBombs":3,"Dropoff":13,"Stabiilty":1,"HandlingEmpty":98,"HandlingFull":96,"HandlingFullwBombs":96,"MaxStrain":22,"Toughness":11,"Structure":55,"EnergyLoss":7,"EnergyLosswBombs":8,"TurnBleed":1,"TurnBleedwBombs":2,"FuelUses":10,"ControlStress":1,"RumbleStress":0,"RateOfClimbFull":9,"RateOfClimbEmpty":15,"RateOfClimbwBombs":9},{"name":"Ritter Model S \"Fink\"","cost":38,"upkeep":2,"bomb_mass":5,"escape":"2","crash":"-1","stress":"3","DryMP":5,"WetMP":7,"WetMPwBombs":8,"DPEmpty":14,"DPFull":14,"DPwBombs":14,"MaxSpeedEmpty":19,"MaxSpeedFull":19,"MaxSpeedwBombs":19,"StallSpeedEmpty":5,"StallSpeedFull":7,"StallSpeedFullwBombs":8,"Overspeed":21,"BoostEmpty":4,"BoostFull":3,"BoostFullwBombs":2,"Dropoff":11,"Stabiilty":-6,"HandlingEmpty":99,"HandlingFull":97,"HandlingFullwBombs":96,"MaxStrain":43,"Toughness":8,"Structure":43,"EnergyLoss":5,"EnergyLosswBombs":6,"TurnBleed":1,"TurnBleedwBombs":2,"FuelUses":8,"ControlStress":2,"RumbleStress":0,"RateOfClimbFull":5,"RateOfClimbEmpty":7,"RateOfClimbwBombs":4},{"name":"Theler Eklipse","cost":60,"upkeep":5,"bomb_mass":20,"escape":"2/2/2","crash":"-1/-1/-1","stress":"2, 0, 0","DryMP":16,"WetMP":20,"WetMPwBombs":24,"DPEmpty":41,"DPFull":41,"DPwBombs":45,"MaxSpeedEmpty":14,"MaxSpeedFull":14,"MaxSpeedwBombs":14,"StallSpeedEmpty":4,"StallSpeedFull":6,"StallSpeedFullwBombs":7,"Overspeed":26,"BoostEmpty":3,"BoostFull":2,"BoostFullwBombs":2,"Dropoff":11,"Stabiilty":1,"HandlingEmpty":70,"HandlingFull":66,"HandlingFullwBombs":62,"MaxStrain":20,"Toughness":20,"Structure":104,"EnergyLoss":10,"EnergyLosswBombs":10,"TurnBleed":1,"TurnBleedwBombs":2,"FuelUses":8,"ControlStress":2,"RumbleStress":0,"RateOfClimbFull":1,"RateOfClimbEmpty":1,"RateOfClimbwBombs":1},{"name":"Mitscher IG JA-81","cost":26,"upkeep":1,"bomb_mass":10,"escape":"0/0","crash":"-1/-1","stress":"1, 0","DryMP":6,"WetMP":7,"WetMPwBombs":9,"DPEmpty":21,"DPFull":21,"DPwBombs":23,"MaxSpeedEmpty":13,"MaxSpeedFull":13,"MaxSpeedwBombs":12,"StallSpeedEmpty":3,"StallSpeedFull":4,"StallSpeedFullwBombs":5,"Overspeed":24,"BoostEmpty":2,"BoostFull":2,"BoostFullwBombs":1,"Dropoff":7,"Stabiilty":0,"HandlingEmpty":92,"HandlingFull":91,"HandlingFullwBombs":89,"MaxStrain":43,"Toughness":10,"Structure":52,"EnergyLoss":7,"EnergyLosswBombs":8,"TurnBleed":1,"TurnBleedwBombs":2,"FuelUses":6,"ControlStress":1,"RumbleStress":0,"RateOfClimbFull":2,"RateOfClimbEmpty":2,"RateOfClimbwBombs":1},{"name":"Arntwerke c.10","cost":14,"upkeep":1,"bomb_mass":0,"escape":"2","crash":"0","stress":"2","DryMP":3,"WetMP":4,"WetMPwBombs":4,"DPEmpty":11,"DPFull":11,"DPwBombs":11,"MaxSpeedEmpty":14,"MaxSpeedFull":14,"MaxSpeedwBombs":14,"StallSpeedEmpty":4,"StallSpeedFull":6,"StallSpeedFullwBombs":6,"Overspeed":20,"BoostEmpty":3,"BoostFull":2,"BoostFullwBombs":2,"Dropoff":8,"Stabiilty":-2,"HandlingEmpty":101,"HandlingFull":100,"HandlingFullwBombs":100,"MaxStrain":30,"Toughness":6,"Structure":30,"EnergyLoss":4,"EnergyLosswBombs":5,"TurnBleed":1,"TurnBleedwBombs":2,"FuelUses":7,"ControlStress":1,"RumbleStress":0,"RateOfClimbFull":5,"RateOfClimbEmpty":7,"RateOfClimbwBombs":5},{"name":"SAM 99","cost":26,"upkeep":2,"bomb_mass":5,"escape":"1","crash":"-1","stress":"1","DryMP":5,"WetMP":6,"WetMPwBombs":7,"DPEmpty":13,"DPFull":13,"DPwBombs":13,"MaxSpeedEmpty":22,"MaxSpeedFull":22,"MaxSpeedwBombs":22,"StallSpeedEmpty":8,"StallSpeedFull":10,"StallSpeedFullwBombs":11,"Overspeed":42,"BoostEmpty":4,"BoostFull":3,"BoostFullwBombs":2,"Dropoff":6,"Stabiilty":3,"HandlingEmpty":97,"HandlingFull":96,"HandlingFullwBombs":95,"MaxStrain":49,"Toughness":11,"Structure":49,"EnergyLoss":3,"EnergyLosswBombs":4,"TurnBleed":3,"TurnBleedwBombs":4,"FuelUses":7,"ControlStress":1,"RumbleStress":0,"RateOfClimbFull":4,"RateOfClimbEmpty":5,"RateOfClimbwBombs":4},{"name":"SAM 1144","cost":60,"upkeep":3,"bomb_mass":10,"escape":"1/1","crash":"-1/-1","stress":"1, 0","DryMP":9,"WetMP":11,"WetMPwBombs":13,"DPEmpty":21,"DPFull":21,"DPwBombs":23,"MaxSpeedEmpty":19,"MaxSpeedFull":19,"MaxSpeedwBombs":18,"StallSpeedEmpty":3,"StallSpeedFull":4,"StallSpeedFullwBombs":5,"Overspeed":36,"BoostEmpty":3,"BoostFull":2,"BoostFullwBombs":2,"Dropoff":7,"Stabiilty":0,"HandlingEmpty":85,"HandlingFull":83,"HandlingFullwBombs":81,"MaxStrain":39,"Toughness":18,"Structure":64,"EnergyLoss":6,"EnergyLosswBombs":7,"TurnBleed":1,"TurnBleedwBombs":2,"FuelUses":9,"ControlStress":1,"RumbleStress":0,"RateOfClimbFull":2,"RateOfClimbEmpty":3,"RateOfClimbwBombs":2},{"name":"Teicher Mammut","cost":48,"upkeep":6,"bomb_mass":20,"escape":"0/2/2","crash":"-1/-1/-1","stress":"1, 0, 0","DryMP":16,"WetMP":22,"WetMPwBombs":26,"DPEmpty":56,"DPFull":56,"DPwBombs":56,"MaxSpeedEmpty":15,"MaxSpeedFull":15,"MaxSpeedwBombs":15,"StallSpeedEmpty":3,"StallSpeedFull":4,"StallSpeedFullwBombs":5,"Overspeed":29,"BoostEmpty":3,"BoostFull":2,"BoostFullwBombs":2,"Dropoff":9,"Stabiilty":3,"HandlingEmpty":67,"HandlingFull":61,"HandlingFullwBombs":57,"MaxStrain":33,"Toughness":16,"Structure":80,"EnergyLoss":10,"EnergyLosswBombs":10,"TurnBleed":1,"TurnBleedwBombs":2,"FuelUses":17,"ControlStress":2,"RumbleStress":0,"RateOfClimbFull":1,"RateOfClimbEmpty":1,"RateOfClimbwBombs":1},{"name":"Mammut Smuggler Custom","cost":96,"upkeep":7,"bomb_mass":15,"escape":"0/0/0/0","crash":"-1/-1/-1/-1","stress":"2(0), 2(0), 0, 0","DryMP":22,"WetMP":28,"WetMPwBombs":31,"DPEmpty":59,"DPFull":59,"DPwBombs":59,"MaxSpeedEmpty":18,"MaxSpeedFull":18,"MaxSpeedwBombs":18,"StallSpeedEmpty":5,"StallSpeedFull":6,"StallSpeedFullwBombs":7,"Overspeed":29,"BoostEmpty":3,"BoostFull":2,"BoostFullwBombs":2,"Dropoff":7,"Stabiilty":3,"HandlingEmpty":67,"HandlingFull":61,"HandlingFullwBombs":58,"MaxStrain":53,"Toughness":17,"Structure":87,"EnergyLoss":10,"EnergyLosswBombs":10,"TurnBleed":1,"TurnBleedwBombs":2,"FuelUses":17,"ControlStress":3,"RumbleStress":0,"RateOfClimbFull":1,"RateOfClimbEmpty":1,"RateOfClimbwBombs":1},{"name":"Markgraf Totengräber A","cost":40,"upkeep":3,"bomb_mass":0,"escape":"2/2","crash":"-1/-1","stress":"1, 0","DryMP":9,"WetMP":11,"WetMPwBombs":11,"DPEmpty":23,"DPFull":23,"DPwBombs":23,"MaxSpeedEmpty":18,"MaxSpeedFull":18,"MaxSpeedwBombs":18,"StallSpeedEmpty":6,"StallSpeedFull":8,"StallSpeedFullwBombs":8,"Overspeed":28,"BoostEmpty":4,"BoostFull":3,"BoostFullwBombs":3,"Dropoff":10,"Stabiilty":2,"HandlingEmpty":88,"HandlingFull":86,"HandlingFullwBombs":86,"MaxStrain":34,"Toughness":10,"Structure":54,"EnergyLoss":8,"EnergyLosswBombs":9,"TurnBleed":2,"TurnBleedwBombs":3,"FuelUses":11,"ControlStress":1,"RumbleStress":0,"RateOfClimbFull":3,"RateOfClimbEmpty":4,"RateOfClimbwBombs":3},{"name":"Kreuzer Spinnmilbe","cost":41,"upkeep":1,"bomb_mass":0,"escape":"2","crash":"-1","stress":"3","DryMP":5,"WetMP":6,"WetMPwBombs":6,"DPEmpty":10,"DPFull":10,"DPwBombs":10,"MaxSpeedEmpty":15,"MaxSpeedFull":15,"MaxSpeedwBombs":15,"StallSpeedEmpty":5,"StallSpeedFull":6,"StallSpeedFullwBombs":6,"Overspeed":20,"BoostEmpty":2,"BoostFull":2,"BoostFullwBombs":2,"Dropoff":12,"Stabiilty":-7,"HandlingEmpty":104,"HandlingFull":103,"HandlingFullwBombs":103,"MaxStrain":37,"Toughness":19,"Structure":45,"EnergyLoss":5,"EnergyLosswBombs":6,"TurnBleed":1,"TurnBleedwBombs":2,"FuelUses":6,"ControlStress":2,"RumbleStress":0,"RateOfClimbFull":5,"RateOfClimbEmpty":6,"RateOfClimbwBombs":5},{"name":"KW Dickhäuter","cost":40,"upkeep":3,"bomb_mass":10,"escape":"2","crash":"-1","stress":"1","DryMP":9,"WetMP":11,"WetMPwBombs":13,"DPEmpty":23,"DPFull":23,"DPwBombs":24,"MaxSpeedEmpty":18,"MaxSpeedFull":18,"MaxSpeedwBombs":18,"StallSpeedEmpty":6,"StallSpeedFull":7,"StallSpeedFullwBombs":9,"Overspeed":25,"BoostEmpty":4,"BoostFull":3,"BoostFullwBombs":2,"Dropoff":10,"Stabiilty":-1,"HandlingEmpty":91,"HandlingFull":89,"HandlingFullwBombs":87,"MaxStrain":22,"Toughness":9,"Structure":45,"EnergyLoss":8,"EnergyLosswBombs":9,"TurnBleed":1,"TurnBleedwBombs":2,"FuelUses":8,"ControlStress":1,"RumbleStress":0,"RateOfClimbFull":3,"RateOfClimbEmpty":4,"RateOfClimbwBombs":2},{"name":"Mushshak Trainer","cost":20,"upkeep":1,"bomb_mass":0,"escape":"2/2","crash":"0/0","stress":"2(1), 2(1)","DryMP":5,"WetMP":6,"WetMPwBombs":6,"DPEmpty":13,"DPFull":13,"DPwBombs":13,"MaxSpeedEmpty":17,"MaxSpeedFull":17,"MaxSpeedwBombs":17,"StallSpeedEmpty":4,"StallSpeedFull":5,"StallSpeedFullwBombs":5,"Overspeed":22,"BoostEmpty":3,"BoostFull":3,"BoostFullwBombs":3,"Dropoff":10,"Stabiilty":-2,"HandlingEmpty":85,"HandlingFull":84,"HandlingFullwBombs":84,"MaxStrain":22,"Toughness":6,"Structure":34,"EnergyLoss":5,"EnergyLosswBombs":6,"TurnBleed":1,"TurnBleedwBombs":2,"FuelUses":15,"ControlStress":1,"RumbleStress":0,"RateOfClimbFull":5,"RateOfClimbEmpty":6,"RateOfClimbwBombs":5},{"name":"Sonnenjäger Hummel","cost":37,"upkeep":2,"bomb_mass":0,"escape":"1","crash":"-1","stress":"1","DryMP":4,"WetMP":5,"WetMPwBombs":5,"DPEmpty":15,"DPFull":15,"DPwBombs":15,"MaxSpeedEmpty":19,"MaxSpeedFull":19,"MaxSpeedwBombs":19,"StallSpeedEmpty":4,"StallSpeedFull":5,"StallSpeedFullwBombs":5,"Overspeed":34,"BoostEmpty":5,"BoostFull":4,"BoostFullwBombs":4,"Dropoff":7,"Stabiilty":0,"HandlingEmpty":98,"HandlingFull":97,"HandlingFullwBombs":97,"MaxStrain":42,"Toughness":10,"Structure":50,"EnergyLoss":4,"EnergyLosswBombs":5,"TurnBleed":1,"TurnBleedwBombs":2,"FuelUses":8,"ControlStress":1,"RumbleStress":0,"RateOfClimbFull":6,"RateOfClimbEmpty":7,"RateOfClimbwBombs":6},{"name":"Ritter Model ABh Eule","cost":20,"upkeep":1,"bomb_mass":10,"escape":"2","crash":"-1","stress":"2","DryMP":5,"WetMP":6,"WetMPwBombs":8,"DPEmpty":16,"DPFull":16,"DPwBombs":18,"MaxSpeedEmpty":16,"MaxSpeedFull":16,"MaxSpeedwBombs":15,"StallSpeedEmpty":4,"StallSpeedFull":5,"StallSpeedFullwBombs":6,"Overspeed":19,"BoostEmpty":3,"BoostFull":2,"BoostFullwBombs":2,"Dropoff":6,"Stabiilty":2,"HandlingEmpty":95,"HandlingFull":94,"HandlingFullwBombs":92,"MaxStrain":21,"Toughness":7,"Structure":37,"EnergyLoss":4,"EnergyLosswBombs":5,"TurnBleed":1,"TurnBleedwBombs":2,"FuelUses":7,"ControlStress":1,"RumbleStress":0,"RateOfClimbFull":3,"RateOfClimbEmpty":4,"RateOfClimbwBombs":2},{"name":"Albrecht Kugel","cost":8,"upkeep":0,"bomb_mass":0,"escape":"2/2","crash":"0/0","stress":"1, 0","DryMP":3,"WetMP":3,"WetMPwBombs":3,"DPEmpty":11,"DPFull":11,"DPwBombs":11,"MaxSpeedEmpty":13,"MaxSpeedFull":13,"MaxSpeedwBombs":13,"StallSpeedEmpty":3,"StallSpeedFull":3,"StallSpeedFullwBombs":3,"Overspeed":21,"BoostEmpty":2,"BoostFull":2,"BoostFullwBombs":2,"Dropoff":5,"Stabiilty":-3,"HandlingEmpty":95,"HandlingFull":95,"HandlingFullwBombs":95,"MaxStrain":23,"Toughness":5,"Structure":28,"EnergyLoss":3,"EnergyLosswBombs":4,"TurnBleed":1,"TurnBleedwBombs":2,"FuelUses":7,"ControlStress":1,"RumbleStress":0,"RateOfClimbFull":4,"RateOfClimbEmpty":4,"RateOfClimbwBombs":4},{"name":"Flugzeugwerft-Neustadt Korsar","cost":22,"upkeep":1,"bomb_mass":5,"escape":"2/2","crash":"-1/-1","stress":"1, 0","DryMP":6,"WetMP":7,"WetMPwBombs":8,"DPEmpty":19,"DPFull":19,"DPwBombs":19,"MaxSpeedEmpty":13,"MaxSpeedFull":13,"MaxSpeedwBombs":13,"StallSpeedEmpty":4,"StallSpeedFull":5,"StallSpeedFullwBombs":6,"Overspeed":26,"BoostEmpty":2,"BoostFull":2,"BoostFullwBombs":1,"Dropoff":7,"Stabiilty":1,"HandlingEmpty":93,"HandlingFull":92,"HandlingFullwBombs":91,"MaxStrain":35,"Toughness":9,"Structure":47,"EnergyLoss":7,"EnergyLosswBombs":8,"TurnBleed":1,"TurnBleedwBombs":2,"FuelUses":7,"ControlStress":1,"RumbleStress":0,"RateOfClimbFull":2,"RateOfClimbEmpty":3,"RateOfClimbwBombs":2},{"name":"Kreuzer Zecke","cost":12,"upkeep":1,"bomb_mass":0,"escape":"2","crash":"-1","stress":"1","DryMP":4,"WetMP":5,"WetMPwBombs":5,"DPEmpty":12,"DPFull":12,"DPwBombs":12,"MaxSpeedEmpty":14,"MaxSpeedFull":14,"MaxSpeedwBombs":14,"StallSpeedEmpty":5,"StallSpeedFull":6,"StallSpeedFullwBombs":6,"Overspeed":24,"BoostEmpty":3,"BoostFull":2,"BoostFullwBombs":2,"Dropoff":8,"Stabiilty":1,"HandlingEmpty":99,"HandlingFull":98,"HandlingFullwBombs":98,"MaxStrain":43,"Toughness":9,"Structure":45,"EnergyLoss":4,"EnergyLosswBombs":5,"TurnBleed":1,"TurnBleedwBombs":2,"FuelUses":11,"ControlStress":1,"RumbleStress":0,"RateOfClimbFull":4,"RateOfClimbEmpty":5,"RateOfClimbwBombs":4},{"name":"Markgraf Streiter","cost":11,"upkeep":0,"bomb_mass":0,"escape":"2","crash":"-1","stress":"2","DryMP":3,"WetMP":3,"WetMPwBombs":3,"DPEmpty":9,"DPFull":9,"DPwBombs":9,"MaxSpeedEmpty":14,"MaxSpeedFull":14,"MaxSpeedwBombs":14,"StallSpeedEmpty":4,"StallSpeedFull":4,"StallSpeedFullwBombs":4,"Overspeed":18,"BoostEmpty":2,"BoostFull":2,"BoostFullwBombs":2,"Dropoff":8,"Stabiilty":-1,"HandlingEmpty":104,"HandlingFull":104,"HandlingFullwBombs":104,"MaxStrain":27,"Toughness":7,"Structure":38,"EnergyLoss":3,"EnergyLosswBombs":4,"TurnBleed":1,"TurnBleedwBombs":2,"FuelUses":7,"ControlStress":1,"RumbleStress":0,"RateOfClimbFull":6,"RateOfClimbEmpty":6,"RateOfClimbwBombs":6},{"name":"Mitscher IG B-78","cost":26,"upkeep":1,"bomb_mass":5,"escape":"0/0","crash":"-1/-1","stress":"2, 0","DryMP":5,"WetMP":6,"WetMPwBombs":7,"DPEmpty":21,"DPFull":21,"DPwBombs":22,"MaxSpeedEmpty":12,"MaxSpeedFull":12,"MaxSpeedwBombs":11,"StallSpeedEmpty":2,"StallSpeedFull":3,"StallSpeedFullwBombs":3,"Overspeed":26,"BoostEmpty":2,"BoostFull":2,"BoostFullwBombs":2,"Dropoff":7,"Stabiilty":-5,"HandlingEmpty":98,"HandlingFull":97,"HandlingFullwBombs":96,"MaxStrain":40,"Toughness":16,"Structure":80,"EnergyLoss":7,"EnergyLosswBombs":8,"TurnBleed":1,"TurnBleedwBombs":2,"FuelUses":7,"ControlStress":2,"RumbleStress":0,"RateOfClimbFull":2,"RateOfClimbEmpty":3,"RateOfClimbwBombs":2},{"name":"Müller Experimental 3","cost":4,"upkeep":0,"bomb_mass":5,"escape":"2","crash":"0","stress":"2","DryMP":2,"WetMP":2,"WetMPwBombs":3,"DPEmpty":11,"DPFull":11,"DPwBombs":11,"MaxSpeedEmpty":10,"MaxSpeedFull":10,"MaxSpeedwBombs":10,"StallSpeedEmpty":3,"StallSpeedFull":3,"StallSpeedFullwBombs":5,"Overspeed":20,"BoostEmpty":2,"BoostFull":2,"BoostFullwBombs":1,"Dropoff":6,"Stabiilty":0,"HandlingEmpty":100,"HandlingFull":100,"HandlingFullwBombs":99,"MaxStrain":28,"Toughness":5,"Structure":28,"EnergyLoss":4,"EnergyLosswBombs":5,"TurnBleed":1,"TurnBleedwBombs":2,"FuelUses":9,"ControlStress":1,"RumbleStress":0,"RateOfClimbFull":5,"RateOfClimbEmpty":5,"RateOfClimbwBombs":3},{"name":"SFW Flitzer","cost":11,"upkeep":0,"bomb_mass":0,"escape":"2","crash":"-1","stress":"2","DryMP":2,"WetMP":2,"WetMPwBombs":2,"DPEmpty":8,"DPFull":8,"DPwBombs":8,"MaxSpeedEmpty":14,"MaxSpeedFull":14,"MaxSpeedwBombs":14,"StallSpeedEmpty":2,"StallSpeedFull":2,"StallSpeedFullwBombs":2,"Overspeed":16,"BoostEmpty":4,"BoostFull":4,"BoostFullwBombs":4,"Dropoff":8,"Stabiilty":0,"HandlingEmpty":101,"HandlingFull":101,"HandlingFullwBombs":101,"MaxStrain":28,"Toughness":8,"Structure":40,"EnergyLoss":3,"EnergyLosswBombs":4,"TurnBleed":1,"TurnBleedwBombs":2,"FuelUses":8,"ControlStress":1,"RumbleStress":0,"RateOfClimbFull":11,"RateOfClimbEmpty":11,"RateOfClimbwBombs":11},{"name":"SFW-Rathenau Nimbus","cost":10,"upkeep":0,"bomb_mass":0,"escape":"0","crash":"1","stress":"2","DryMP":3,"WetMP":4,"WetMPwBombs":4,"DPEmpty":18,"DPFull":18,"DPwBombs":18,"MaxSpeedEmpty":9,"MaxSpeedFull":9,"MaxSpeedwBombs":9,"StallSpeedEmpty":2,"StallSpeedFull":3,"StallSpeedFullwBombs":3,"Overspeed":16,"BoostEmpty":2,"BoostFull":2,"BoostFullwBombs":2,"Dropoff":5,"Stabiilty":6,"HandlingEmpty":89,"HandlingFull":88,"HandlingFullwBombs":88,"MaxStrain":46,"Toughness":9,"Structure":46,"EnergyLoss":6,"EnergyLosswBombs":7,"TurnBleed":1,"TurnBleedwBombs":2,"FuelUses":13,"ControlStress":2,"RumbleStress":0,"RateOfClimbFull":2,"RateOfClimbEmpty":3,"RateOfClimbwBombs":2},{"name":"Teicher Fuchs","cost":26,"upkeep":1,"bomb_mass":0,"escape":"1","crash":"-1","stress":"1","DryMP":5,"WetMP":6,"WetMPwBombs":6,"DPEmpty":11,"DPFull":11,"DPwBombs":11,"MaxSpeedEmpty":17,"MaxSpeedFull":17,"MaxSpeedwBombs":17,"StallSpeedEmpty":5,"StallSpeedFull":6,"StallSpeedFullwBombs":6,"Overspeed":24,"BoostEmpty":3,"BoostFull":2,"BoostFullwBombs":2,"Dropoff":10,"Stabiilty":-1,"HandlingEmpty":97,"HandlingFull":96,"HandlingFullwBombs":96,"MaxStrain":30,"Toughness":9,"Structure":48,"EnergyLoss":4,"EnergyLosswBombs":5,"TurnBleed":1,"TurnBleedwBombs":2,"FuelUses":7,"ControlStress":1,"RumbleStress":0,"RateOfClimbFull":5,"RateOfClimbEmpty":6,"RateOfClimbwBombs":5},{"name":"Weiss Wrackbarsch","cost":19,"upkeep":1,"bomb_mass":0,"escape":"2","crash":"-2","stress":"2","DryMP":3,"WetMP":4,"WetMPwBombs":4,"DPEmpty":11,"DPFull":11,"DPwBombs":11,"MaxSpeedEmpty":14,"MaxSpeedFull":14,"MaxSpeedwBombs":14,"StallSpeedEmpty":4,"StallSpeedFull":6,"StallSpeedFullwBombs":6,"Overspeed":20,"BoostEmpty":3,"BoostFull":2,"BoostFullwBombs":2,"Dropoff":8,"Stabiilty":-3,"HandlingEmpty":109,"HandlingFull":108,"HandlingFullwBombs":108,"MaxStrain":19,"Toughness":8,"Structure":40,"EnergyLoss":4,"EnergyLosswBombs":5,"TurnBleed":1,"TurnBleedwBombs":2,"FuelUses":7,"ControlStress":1,"RumbleStress":0,"RateOfClimbFull":5,"RateOfClimbEmpty":7,"RateOfClimbwBombs":5},{"name":"Braun GA 'Gulaschkanone'","cost":20,"upkeep":1,"bomb_mass":0,"escape":"2/2","crash":"-1/-1","stress":"2, 1","DryMP":6,"WetMP":7,"WetMPwBombs":7,"DPEmpty":23,"DPFull":23,"DPwBombs":23,"MaxSpeedEmpty":9,"MaxSpeedFull":9,"MaxSpeedwBombs":9,"StallSpeedEmpty":3,"StallSpeedFull":3,"StallSpeedFullwBombs":3,"Overspeed":20,"BoostEmpty":1,"BoostFull":1,"BoostFullwBombs":1,"Dropoff":5,"Stabiilty":1,"HandlingEmpty":89,"HandlingFull":88,"HandlingFullwBombs":88,"MaxStrain":43,"Toughness":10,"Structure":54,"EnergyLoss":8,"EnergyLosswBombs":9,"TurnBleed":1,"TurnBleedwBombs":2,"FuelUses":7,"ControlStress":1,"RumbleStress":0,"RateOfClimbFull":1,"RateOfClimbEmpty":1,"RateOfClimbwBombs":1},{"name":"Ritter Model X \"Falke\"","cost":33,"upkeep":2,"bomb_mass":0,"escape":"2","crash":"-1","stress":"1","DryMP":5,"WetMP":7,"WetMPwBombs":7,"DPEmpty":14,"DPFull":14,"DPwBombs":14,"MaxSpeedEmpty":21,"MaxSpeedFull":21,"MaxSpeedwBombs":21,"StallSpeedEmpty":5,"StallSpeedFull":7,"StallSpeedFullwBombs":7,"Overspeed":23,"BoostEmpty":5,"BoostFull":4,"BoostFullwBombs":4,"Dropoff":12,"Stabiilty":-1,"HandlingEmpty":98,"HandlingFull":96,"HandlingFullwBombs":96,"MaxStrain":43,"Toughness":8,"Structure":43,"EnergyLoss":5,"EnergyLosswBombs":6,"TurnBleed":1,"TurnBleedwBombs":2,"FuelUses":8,"ControlStress":1,"RumbleStress":0,"RateOfClimbFull":6,"RateOfClimbEmpty":9,"RateOfClimbwBombs":6},{"name":"von Morgen Walküre","cost":46,"upkeep":2,"bomb_mass":5,"escape":"2","crash":"-1","stress":"1","DryMP":7,"WetMP":8,"WetMPwBombs":9,"DPEmpty":15,"DPFull":15,"DPwBombs":15,"MaxSpeedEmpty":17,"MaxSpeedFull":17,"MaxSpeedwBombs":17,"StallSpeedEmpty":7,"StallSpeedFull":8,"StallSpeedFullwBombs":9,"Overspeed":28,"BoostEmpty":2,"BoostFull":2,"BoostFullwBombs":2,"Dropoff":10,"Stabiilty":2,"HandlingEmpty":95,"HandlingFull":94,"HandlingFullwBombs":93,"MaxStrain":35,"Toughness":26,"Structure":35,"EnergyLoss":5,"EnergyLosswBombs":6,"TurnBleed":2,"TurnBleedwBombs":3,"FuelUses":7,"ControlStress":1,"RumbleStress":0,"RateOfClimbFull":3,"RateOfClimbEmpty":4,"RateOfClimbwBombs":3},{"name":"Hugo's Metallisches Jagdflugzeug!","cost":54,"upkeep":1,"bomb_mass":0,"escape":"2","crash":"-1","stress":"1","DryMP":7,"WetMP":8,"WetMPwBombs":8,"DPEmpty":13,"DPFull":13,"DPwBombs":13,"MaxSpeedEmpty":19,"MaxSpeedFull":19,"MaxSpeedwBombs":19,"StallSpeedEmpty":9,"StallSpeedFull":10,"StallSpeedFullwBombs":10,"Overspeed":36,"BoostEmpty":2,"BoostFull":2,"BoostFullwBombs":2,"Dropoff":7,"Stabiilty":-2,"HandlingEmpty":98,"HandlingFull":97,"HandlingFullwBombs":97,"MaxStrain":50,"Toughness":45,"Structure":50,"EnergyLoss":4,"EnergyLosswBombs":5,"TurnBleed":2,"TurnBleedwBombs":3,"FuelUses":7,"ControlStress":1,"RumbleStress":0,"RateOfClimbFull":3,"RateOfClimbEmpty":4,"RateOfClimbwBombs":3},{"name":"Sonnenjäger Seitenwinder","cost":30,"upkeep":1,"bomb_mass":0,"escape":"2","crash":"-2","stress":"2","DryMP":5,"WetMP":6,"WetMPwBombs":6,"DPEmpty":12,"DPFull":12,"DPwBombs":12,"MaxSpeedEmpty":17,"MaxSpeedFull":17,"MaxSpeedwBombs":17,"StallSpeedEmpty":6,"StallSpeedFull":7,"StallSpeedFullwBombs":7,"Overspeed":24,"BoostEmpty":3,"BoostFull":2,"BoostFullwBombs":2,"Dropoff":10,"Stabiilty":-7,"HandlingEmpty":110,"HandlingFull":109,"HandlingFullwBombs":109,"MaxStrain":36,"Toughness":8,"Structure":43,"EnergyLoss":4,"EnergyLosswBombs":5,"TurnBleed":1,"TurnBleedwBombs":2,"FuelUses":7,"ControlStress":2,"RumbleStress":0,"RateOfClimbFull":5,"RateOfClimbEmpty":6,"RateOfClimbwBombs":5},{"name":"Tejas Interceptor","cost":46,"upkeep":1,"bomb_mass":0,"escape":"2","crash":"0","stress":"2","DryMP":4,"WetMP":5,"WetMPwBombs":5,"DPEmpty":7,"DPFull":7,"DPwBombs":7,"MaxSpeedEmpty":22,"MaxSpeedFull":22,"MaxSpeedwBombs":22,"StallSpeedEmpty":5,"StallSpeedFull":6,"StallSpeedFullwBombs":6,"Overspeed":36,"BoostEmpty":2,"BoostFull":2,"BoostFullwBombs":2,"Dropoff":6,"Stabiilty":1,"HandlingEmpty":92,"HandlingFull":91,"HandlingFullwBombs":91,"MaxStrain":40,"Toughness":9,"Structure":47,"EnergyLoss":2,"EnergyLosswBombs":3,"TurnBleed":2,"TurnBleedwBombs":3,"FuelUses":8,"ControlStress":1,"RumbleStress":0,"RateOfClimbFull":6,"RateOfClimbEmpty":7,"RateOfClimbwBombs":6},{"name":"Sonnenjäger Haifisch","cost":35,"upkeep":1,"bomb_mass":0,"escape":"2","crash":"-1","stress":"1","DryMP":4,"WetMP":5,"WetMPwBombs":5,"DPEmpty":12,"DPFull":12,"DPwBombs":12,"MaxSpeedEmpty":18,"MaxSpeedFull":18,"MaxSpeedwBombs":18,"StallSpeedEmpty":5,"StallSpeedFull":6,"StallSpeedFullwBombs":6,"Overspeed":24,"BoostEmpty":4,"BoostFull":3,"BoostFullwBombs":3,"Dropoff":10,"Stabiilty":0,"HandlingEmpty":98,"HandlingFull":97,"HandlingFullwBombs":97,"MaxStrain":40,"Toughness":11,"Structure":55,"EnergyLoss":4,"EnergyLosswBombs":5,"TurnBleed":1,"TurnBleedwBombs":2,"FuelUses":6,"ControlStress":1,"RumbleStress":0,"RateOfClimbFull":6,"RateOfClimbEmpty":8,"RateOfClimbwBombs":6},{"name":"Albrecht Pfeil","cost":43,"upkeep":1,"bomb_mass":0,"escape":"2/2","crash":"0/0","stress":"1, 0","DryMP":5,"WetMP":6,"WetMPwBombs":6,"DPEmpty":11,"DPFull":11,"DPwBombs":11,"MaxSpeedEmpty":20,"MaxSpeedFull":20,"MaxSpeedwBombs":20,"StallSpeedEmpty":5,"StallSpeedFull":6,"StallSpeedFullwBombs":6,"Overspeed":28,"BoostEmpty":3,"BoostFull":3,"BoostFullwBombs":3,"Dropoff":8,"Stabiilty":1,"HandlingEmpty":89,"HandlingFull":88,"HandlingFullwBombs":88,"MaxStrain":34,"Toughness":24,"Structure":72,"EnergyLoss":3,"EnergyLosswBombs":4,"TurnBleed":1,"TurnBleedwBombs":2,"FuelUses":7,"ControlStress":1,"RumbleStress":0,"RateOfClimbFull":5,"RateOfClimbEmpty":6,"RateOfClimbwBombs":5},{"name":"Teicher Sperber 8N-A","cost":19,"upkeep":1,"bomb_mass":0,"escape":"2","crash":"-1","stress":"3","DryMP":4,"WetMP":5,"WetMPwBombs":5,"DPEmpty":9,"DPFull":9,"DPwBombs":9,"MaxSpeedEmpty":17,"MaxSpeedFull":17,"MaxSpeedwBombs":17,"StallSpeedEmpty":6,"StallSpeedFull":7,"StallSpeedFullwBombs":7,"Overspeed":19,"BoostEmpty":3,"BoostFull":2,"BoostFullwBombs":2,"Dropoff":10,"Stabiilty":-5,"HandlingEmpty":104,"HandlingFull":103,"HandlingFullwBombs":103,"MaxStrain":27,"Toughness":8,"Structure":40,"EnergyLoss":3,"EnergyLosswBombs":4,"TurnBleed":1,"TurnBleedwBombs":2,"FuelUses":7,"ControlStress":2,"RumbleStress":0,"RateOfClimbFull":6,"RateOfClimbEmpty":8,"RateOfClimbwBombs":6},{"name":"Markgraf Todesbote C","cost":38,"upkeep":3,"bomb_mass":10,"escape":"2/2","crash":"1/1","stress":"2, 0","DryMP":8,"WetMP":12,"WetMPwBombs":14,"DPEmpty":25,"DPFull":25,"DPwBombs":27,"MaxSpeedEmpty":17,"MaxSpeedFull":17,"MaxSpeedwBombs":17,"StallSpeedEmpty":4,"StallSpeedFull":6,"StallSpeedFullwBombs":7,"Overspeed":32,"BoostEmpty":4,"BoostFull":3,"BoostFullwBombs":2,"Dropoff":10,"Stabiilty":4,"HandlingEmpty":84,"HandlingFull":80,"HandlingFullwBombs":78,"MaxStrain":38,"Toughness":11,"Structure":56,"EnergyLoss":9,"EnergyLosswBombs":10,"TurnBleed":1,"TurnBleedwBombs":2,"FuelUses":15,"ControlStress":2,"RumbleStress":0,"RateOfClimbFull":2,"RateOfClimbEmpty":4,"RateOfClimbwBombs":2},{"name":"von Morgen Pferd","cost":145,"upkeep":10,"bomb_mass":80,"escape":"0/0/0/0/2/2/2","crash":"-1/-1/-1/-1/-1/-1/-1","stress":"4(0), 4(0), 4(0), 0, 0, 0, 0","DryMP":30,"WetMP":40,"WetMPwBombs":56,"DPEmpty":72,"DPFull":72,"DPwBombs":72,"MaxSpeedEmpty":16,"MaxSpeedFull":16,"MaxSpeedwBombs":16,"StallSpeedEmpty":3,"StallSpeedFull":4,"StallSpeedFullwBombs":6,"Overspeed":25,"BoostEmpty":2,"BoostFull":2,"BoostFullwBombs":1,"Dropoff":9,"Stabiilty":4,"HandlingEmpty":41,"HandlingFull":31,"HandlingFullwBombs":15,"MaxStrain":32,"Toughness":41,"Structure":205,"EnergyLoss":10,"EnergyLosswBombs":10,"TurnBleed":1,"TurnBleedwBombs":2,"FuelUses":12,"ControlStress":5,"RumbleStress":0,"RateOfClimbFull":1,"RateOfClimbEmpty":1,"RateOfClimbwBombs":1}]`),s=new qt(We,!1),i=0,a=0;for(let m=0;m<t.acft.length;m++){let p=t.acft[m],d=e[m];try{var r=Nt(ge.decompressFromEncodedURIComponent(p)),o=new f(r);s.deserialize(o),s.CalculateStats();var l=s.GetStats(),h=s.GetDerivedStats();let t=Object.entries(h);t.splice(0,0,["name",s.name]),t.splice(1,0,["cost",l.cost]),t.splice(2,0,["upkeep",l.upkeep]),t.splice(3,0,["bomb_mass",l.bomb_mass]),t.splice(4,0,["escape",n.Join("/",s.GetEscapeList())]),t.splice(5,0,["crash",n.Join("/",s.GetCrashList())]),t.splice(6,0,["stress",g(s.GetStressList())]);let e=Object.fromEntries(t);if(d.name==s.name){var c=Object.keys(e),u=!0;for(let t of c)if(d[t]!=e[t]){console.log(n.Format("{0} {1} does not match {2} for {3}",t,e[t],d[t],s.name)),u=!1;break}u&&i++}else console.log(n.Format("Name {0} does not match {1}",s.name,d.name))}catch(t){console.log("Compressed Query Parameter Failed."),console.log(t),s.Reset()}a++}console.log(n.Format("{0} of {1} planes were correct.",i,a))}();let a=window.localStorage.getItem("test.aircraft");!function(t){for(const t of I.l)if(F.has(t.name)||F.set(t.name,new x(t.name)),"Custom"!=t.name){F.get(t.name).fromJSON(t,!0),F.get(t.name).SetConstant();for(let e=0;e<F.get(t.name).length;e++){const s=F.get(t.name).get(e);F.get("Custom").remove(s)}}else F.get(t.name).fromJSON(t,!1);for(const e of JSON.parse(t))if(F.has(e)||F.set(e,new x(e)),"Custom"!=e)for(let t=0;t<F.get(e).length;t++){const s=F.get(e).get(t);F.get("Custom").remove(s)}}(window.localStorage.getItem("test.engines_names")),Oe=new qt(We,!0);var r=!1;if(e&&!r){console.log("Used Query Parameter");try{var o=Nt(ge.decompressFromEncodedURIComponent(e)),h=new f(o);console.log(h.version),Oe.deserialize(h),r=!0}catch(t){console.log("Compressed Query Parameter Failed."),console.log(t),Oe.Reset()}}if(a&&!r){console.log("Used Saved Data");try{r=Oe.fromJSON(JSON.parse(a))}catch{console.log("Saved Data Failed."),Oe.Reset()}}new _e(Oe,We),Oe.CalculateStats(),vt=!0,window.addEventListener("load",(()=>{(function(t={}){be(),removeEventListener("click",we),Ie&&Ie(),Ie=void 0,xe=void 0,Ge=t.getElement||Ee,Re=t.scrollIntoView||Me,xe=new MutationObserver(Ce),addEventListener("click",we),Ie=void 0,fe()})(),setTimeout((()=>{window.onscroll=function(t,e){let s;return function(){clearTimeout(s),s=setTimeout(t,250)}}(He)}),1e3)}));var c=document.getElementsByClassName("collapsible");for(let t=0;t<c.length;t++)c[t].addEventListener("click",(function(){var t=this.classList.toggle("active"),e=this.nextElementSibling;(e=e.nextElementSibling).style.maxHeight=t?"inherit":"0px"}))}));var Oe,Le="";function He(t){const e=["Era","Cockpit","Passengers","Engines","Frames","Tail","Wings","Rotors","Stabilizers","ControlSurfaces","Reinforcements","Weapons","Load","Landing_Gear","Accessories","Propeller","Optimization","Stats","Flight"];var s="",i=window.pageYOffset;for(let t of e)if(0!=document.getElementById(t).offsetTop){if(!(i>document.getElementById(t).offsetTop))break;s=t}Le!=s&&(Le=s,window.history.replaceState(null,null,"index.html#"+s))}})();